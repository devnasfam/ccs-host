function h2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function fA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pp={exports:{}},Eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function f2(){if(ZT)return Eu;ZT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Eu.Fragment=t,Eu.jsx=n,Eu.jsxs=n,Eu}var JT;function d2(){return JT||(JT=1,Pp.exports=f2()),Pp.exports}var A=d2(),Vp={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function m2(){if(tE)return Ct;tE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=_&&O[_]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,L={};function M(O,rt,ht){this.props=O,this.context=rt,this.refs=L,this.updater=ht||x}M.prototype.isReactComponent={},M.prototype.setState=function(O,rt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,rt,"setState")},M.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=M.prototype;function W(O,rt,ht){this.props=O,this.context=rt,this.refs=L,this.updater=ht||x}var G=W.prototype=new K;G.constructor=W,P(G,M.prototype),G.isPureReactComponent=!0;var st=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function N(O,rt,ht,ot,yt,Ot){return ht=Ot.ref,{$$typeof:e,type:O,key:rt,ref:ht!==void 0?ht:null,props:Ot}}function R(O,rt){return N(O.type,rt,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function V(O){var rt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ht){return rt[ht]})}var U=/\/+/g;function B(O,rt){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):rt.toString(36)}function D(){}function fe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(rt){O.status==="pending"&&(O.status="fulfilled",O.value=rt)},function(rt){O.status==="pending"&&(O.status="rejected",O.reason=rt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ie(O,rt,ht,ot,yt){var Ot=typeof O;(Ot==="undefined"||Ot==="boolean")&&(O=null);var wt=!1;if(O===null)wt=!0;else switch(Ot){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(O.$$typeof){case e:case t:wt=!0;break;case y:return wt=O._init,ie(wt(O._payload),rt,ht,ot,yt)}}if(wt)return yt=yt(O),wt=ot===""?"."+B(O,0):ot,st(yt)?(ht="",wt!=null&&(ht=wt.replace(U,"$&/")+"/"),ie(yt,rt,ht,"",function(li){return li})):yt!=null&&(C(yt)&&(yt=R(yt,ht+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(U,"$&/")+"/")+wt)),rt.push(yt)),1;wt=0;var Le=ot===""?".":ot+":";if(st(O))for(var ee=0;ee<O.length;ee++)ot=O[ee],Ot=Le+B(ot,ee),wt+=ie(ot,rt,ht,Ot,yt);else if(ee=b(O),typeof ee=="function")for(O=ee.call(O),ee=0;!(ot=O.next()).done;)ot=ot.value,Ot=Le+B(ot,ee++),wt+=ie(ot,rt,ht,Ot,yt);else if(Ot==="object"){if(typeof O.then=="function")return ie(fe(O),rt,ht,ot,yt);throw rt=String(O),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function Z(O,rt,ht){if(O==null)return O;var ot=[],yt=0;return ie(O,ot,"","",function(Ot){return rt.call(ht,Ot,yt++)}),ot}function at(O){if(O._status===-1){var rt=O._result;rt=rt(),rt.then(function(ht){(O._status===0||O._status===-1)&&(O._status=1,O._result=ht)},function(ht){(O._status===0||O._status===-1)&&(O._status=2,O._result=ht)}),O._status===-1&&(O._status=0,O._result=rt)}if(O._status===1)return O._result.default;throw O._result}var lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function bt(){}return Ct.Children={map:Z,forEach:function(O,rt,ht){Z(O,function(){rt.apply(this,arguments)},ht)},count:function(O){var rt=0;return Z(O,function(){rt++}),rt},toArray:function(O){return Z(O,function(rt){return rt})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ct.Component=M,Ct.Fragment=n,Ct.Profiler=a,Ct.PureComponent=W,Ct.StrictMode=r,Ct.Suspense=m,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(O){return X.H.useMemoCache(O)}},Ct.cache=function(O){return function(){return O.apply(null,arguments)}},Ct.cloneElement=function(O,rt,ht){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ot=P({},O.props),yt=O.key,Ot=void 0;if(rt!=null)for(wt in rt.ref!==void 0&&(Ot=void 0),rt.key!==void 0&&(yt=""+rt.key),rt)!ct.call(rt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&rt.ref===void 0||(ot[wt]=rt[wt]);var wt=arguments.length-2;if(wt===1)ot.children=ht;else if(1<wt){for(var Le=Array(wt),ee=0;ee<wt;ee++)Le[ee]=arguments[ee+2];ot.children=Le}return N(O.type,yt,void 0,void 0,Ot,ot)},Ct.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Ct.createElement=function(O,rt,ht){var ot,yt={},Ot=null;if(rt!=null)for(ot in rt.key!==void 0&&(Ot=""+rt.key),rt)ct.call(rt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(yt[ot]=rt[ot]);var wt=arguments.length-2;if(wt===1)yt.children=ht;else if(1<wt){for(var Le=Array(wt),ee=0;ee<wt;ee++)Le[ee]=arguments[ee+2];yt.children=Le}if(O&&O.defaultProps)for(ot in wt=O.defaultProps,wt)yt[ot]===void 0&&(yt[ot]=wt[ot]);return N(O,Ot,void 0,void 0,null,yt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(O){return{$$typeof:f,render:O}},Ct.isValidElement=C,Ct.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:at}},Ct.memo=function(O,rt){return{$$typeof:p,type:O,compare:rt===void 0?null:rt}},Ct.startTransition=function(O){var rt=X.T,ht={};X.T=ht;try{var ot=O(),yt=X.S;yt!==null&&yt(ht,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(bt,lt)}catch(Ot){lt(Ot)}finally{X.T=rt}},Ct.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Ct.use=function(O){return X.H.use(O)},Ct.useActionState=function(O,rt,ht){return X.H.useActionState(O,rt,ht)},Ct.useCallback=function(O,rt){return X.H.useCallback(O,rt)},Ct.useContext=function(O){return X.H.useContext(O)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(O,rt){return X.H.useDeferredValue(O,rt)},Ct.useEffect=function(O,rt,ht){var ot=X.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(O,rt)},Ct.useId=function(){return X.H.useId()},Ct.useImperativeHandle=function(O,rt,ht){return X.H.useImperativeHandle(O,rt,ht)},Ct.useInsertionEffect=function(O,rt){return X.H.useInsertionEffect(O,rt)},Ct.useLayoutEffect=function(O,rt){return X.H.useLayoutEffect(O,rt)},Ct.useMemo=function(O,rt){return X.H.useMemo(O,rt)},Ct.useOptimistic=function(O,rt){return X.H.useOptimistic(O,rt)},Ct.useReducer=function(O,rt,ht){return X.H.useReducer(O,rt,ht)},Ct.useRef=function(O){return X.H.useRef(O)},Ct.useState=function(O){return X.H.useState(O)},Ct.useSyncExternalStore=function(O,rt,ht){return X.H.useSyncExternalStore(O,rt,ht)},Ct.useTransition=function(){return X.H.useTransition()},Ct.version="19.1.0",Ct}var eE;function ly(){return eE||(eE=1,Vp.exports=m2()),Vp.exports}var j=ly();const hr=fA(j),p2=h2({__proto__:null,default:hr},[j]);var Mp={exports:{}},bu={},kp={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function g2(){return nE||(nE=1,function(e){function t(Z,at){var lt=Z.length;Z.push(at);t:for(;0<lt;){var bt=lt-1>>>1,O=Z[bt];if(0<a(O,at))Z[bt]=at,Z[lt]=O,lt=bt;else break t}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var at=Z[0],lt=Z.pop();if(lt!==at){Z[0]=lt;t:for(var bt=0,O=Z.length,rt=O>>>1;bt<rt;){var ht=2*(bt+1)-1,ot=Z[ht],yt=ht+1,Ot=Z[yt];if(0>a(ot,lt))yt<O&&0>a(Ot,ot)?(Z[bt]=Ot,Z[yt]=lt,bt=yt):(Z[bt]=ot,Z[ht]=lt,bt=ht);else if(yt<O&&0>a(Ot,lt))Z[bt]=Ot,Z[yt]=lt,bt=yt;else break t}}return at}function a(Z,at){var lt=Z.sortIndex-at.sortIndex;return lt!==0?lt:Z.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,b=3,x=!1,P=!1,L=!1,M=!1,K=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function st(Z){for(var at=n(p);at!==null;){if(at.callback===null)r(p);else if(at.startTime<=Z)r(p),at.sortIndex=at.expirationTime,t(m,at);else break;at=n(p)}}function X(Z){if(L=!1,st(Z),!P)if(n(m)!==null)P=!0,ct||(ct=!0,B());else{var at=n(p);at!==null&&ie(X,at.startTime-Z)}}var ct=!1,N=-1,R=5,C=-1;function V(){return M?!0:!(e.unstable_now()-C<R)}function U(){if(M=!1,ct){var Z=e.unstable_now();C=Z;var at=!0;try{t:{P=!1,L&&(L=!1,W(N),N=-1),x=!0;var lt=b;try{e:{for(st(Z),_=n(m);_!==null&&!(_.expirationTime>Z&&V());){var bt=_.callback;if(typeof bt=="function"){_.callback=null,b=_.priorityLevel;var O=bt(_.expirationTime<=Z);if(Z=e.unstable_now(),typeof O=="function"){_.callback=O,st(Z),at=!0;break e}_===n(m)&&r(m),st(Z)}else r(m);_=n(m)}if(_!==null)at=!0;else{var rt=n(p);rt!==null&&ie(X,rt.startTime-Z),at=!1}}break t}finally{_=null,b=lt,x=!1}at=void 0}}finally{at?B():ct=!1}}}var B;if(typeof G=="function")B=function(){G(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,fe=D.port2;D.port1.onmessage=U,B=function(){fe.postMessage(null)}}else B=function(){K(U,0)};function ie(Z,at){N=K(function(){Z(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var lt=b;b=at;try{return Z()}finally{b=lt}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(Z,at){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var lt=b;b=Z;try{return at()}finally{b=lt}},e.unstable_scheduleCallback=function(Z,at,lt){var bt=e.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?bt+lt:bt):lt=bt,Z){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=lt+O,Z={id:y++,callback:at,priorityLevel:Z,startTime:lt,expirationTime:O,sortIndex:-1},lt>bt?(Z.sortIndex=lt,t(p,Z),n(m)===null&&Z===n(p)&&(L?(W(N),N=-1):L=!0,ie(X,lt-bt))):(Z.sortIndex=O,t(m,Z),P||x||(P=!0,ct||(ct=!0,B()))),Z},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(Z){var at=b;return function(){var lt=b;b=at;try{return Z.apply(this,arguments)}finally{b=lt}}}}(Lp)),Lp}var iE;function y2(){return iE||(iE=1,kp.exports=g2()),kp.exports}var Up={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function v2(){if(rE)return en;rE=1;var e=ly();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},en.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},en.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},en.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},en.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:x}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},en.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},en.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},en.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},en.requestFormReset=function(m){r.d.r(m)},en.unstable_batchedUpdates=function(m,p){return m(p)},en.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.1.0",en}var sE;function dA(){if(sE)return Up.exports;sE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Up.exports=v2(),Up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function _2(){if(aE)return bu;aE=1;var e=y2(),t=ly(),n=dA();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===u)return f(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var E=!1,S=d.child;S;){if(S===o){E=!0,o=d,u=g;break}if(S===u){E=!0,u=d,o=g;break}S=S.sibling}if(!E){for(S=g.child;S;){if(S===o){E=!0,o=g,u=d;break}if(S===u){E=!0,u=g,o=d;break}S=S.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),G=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case M:return"Profiler";case L:return"StrictMode";case X:return"Suspense";case ct:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case G:return(i.displayName||"Context")+".Provider";case W:return(i._context.displayName||"Context")+".Consumer";case st:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:fe(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return fe(i(s))}catch{}}return null}var ie=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},bt=[],O=-1;function rt(i){return{current:i}}function ht(i){0>O||(i.current=bt[O],bt[O]=null,O--)}function ot(i,s){O++,bt[O]=i.current,i.current=s}var yt=rt(null),Ot=rt(null),wt=rt(null),Le=rt(null);function ee(i,s){switch(ot(wt,s),ot(Ot,i),ot(yt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?xT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=xT(s),i=RT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ht(yt),ot(yt,i)}function li(){ht(yt),ht(Ot),ht(wt)}function Sr(i){i.memoizedState!==null&&ot(Le,i);var s=yt.current,o=RT(s,i.type);s!==o&&(ot(Ot,i),ot(yt,o))}function Mi(i){Ot.current===i&&(ht(yt),ht(Ot)),Le.current===i&&(ht(Le),gu._currentValue=lt)}var Os=Object.prototype.hasOwnProperty,Ps=e.unstable_scheduleCallback,Vs=e.unstable_cancelCallback,dl=e.unstable_shouldYield,Ic=e.unstable_requestPaint,On=e.unstable_now,Pd=e.unstable_getCurrentPriorityLevel,ml=e.unstable_ImmediatePriority,La=e.unstable_UserBlockingPriority,Ms=e.unstable_NormalPriority,Vd=e.unstable_LowPriority,Ua=e.unstable_IdlePriority,pl=e.log,Dc=e.unstable_setDisableYieldValue,de=null,Kt=null;function bn(i){if(typeof pl=="function"&&Dc(i),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(de,i)}catch{}}var Je=Math.clz32?Math.clz32:ks,Nc=Math.log,Md=Math.LN2;function ks(i){return i>>>=0,i===0?32:31-(Nc(i)/Md|0)|0}var Ls=256,Us=4194304;function Wn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ja(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?d=Wn(u):(E&=S,E!==0?d=Wn(E):o||(o=S&~i,o!==0&&(d=Wn(o))))):(S=u&~g,S!==0?d=Wn(S):E!==0?d=Wn(E):o||(o=u&~i,o!==0&&(d=Wn(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function js(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function gl(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yl(){var i=Ls;return Ls<<=1,(Ls&4194048)===0&&(Ls=256),i}function vl(){var i=Us;return Us<<=1,(Us&62914560)===0&&(Us=4194304),i}function ki(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Li(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function _l(i,s,o,u,d,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,I=i.expirationTimes,H=i.hiddenUpdates;for(o=E&~o;0<o;){var J=31-Je(o),et=1<<J;S[J]=0,I[J]=-1;var Y=H[J];if(Y!==null)for(H[J]=null,J=0;J<Y.length;J++){var Q=Y[J];Q!==null&&(Q.lane&=-536870913)}o&=~et}u!==0&&ui(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function ui(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Je(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Tl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Je(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function Ar(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ba(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function wr(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:KT(i.type))}function Oc(i,s){var o=at.p;try{return at.p=i,s()}finally{at.p=o}}var se=Math.random().toString(36).slice(2),De="__reactFiber$"+se,Se="__reactProps$"+se,Pn="__reactContainer$"+se,El="__reactEvents$"+se,kd="__reactListeners$"+se,xr="__reactHandles$"+se,Pc="__reactResources$"+se,Bs="__reactMarker$"+se;function Rr(i){delete i[De],delete i[Se],delete i[El],delete i[kd],delete i[xr]}function Ui(i){var s=i[De];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Pn]||o[De]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=NT(i);i!==null;){if(o=i[De])return o;i=NT(i)}return s}i=o,o=i.parentNode}return null}function ci(i){if(i=i[De]||i[Pn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function hi(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function un(i){var s=i[Pc];return s||(s=i[Pc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ye(i){i[Bs]=!0}var bl=new Set,za={};function Zn(i,s){ji(i,s),ji(i+"Capture",s)}function ji(i,s){for(za[i]=s,i=0;i<s.length;i++)bl.add(s[i])}var Vc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mc={},zs={};function kc(i){return Os.call(zs,i)?!0:Os.call(Mc,i)?!1:Vc.test(i)?zs[i]=!0:(Mc[i]=!0,!1)}function Cr(i,s,o){if(kc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function fi(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function He(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var Fs,Lc;function Bi(i){if(Fs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Fs=s&&s[1]||"",Lc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+i+Lc}var Fa=!1;function qa(i,s){if(!i||Fa)return"";Fa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var Y=Q}Reflect.construct(i,[],et)}else{try{et.call()}catch(Q){Y=Q}i.call(et.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],S=g[1];if(E&&S){var I=E.split(`
`),H=S.split(`
`);for(d=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(u===I.length||d===H.length)for(u=I.length-1,d=H.length-1;1<=u&&0<=d&&I[u]!==H[d];)d--;for(;1<=u&&0<=d;u--,d--)if(I[u]!==H[d]){if(u!==1||d!==1)do if(u--,d--,0>d||I[u]!==H[d]){var J=`
`+I[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=d);break}}}finally{Fa=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Bi(o):""}function Sl(i){switch(i.tag){case 26:case 27:case 5:return Bi(i.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return qa(i.type,!1);case 11:return qa(i.type.render,!1);case 1:return qa(i.type,!0);case 31:return Bi("Activity");default:return""}}function Ha(i){try{var s="";do s+=Sl(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Al(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ld(i){var s=Al(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ga(i){i._valueTracker||(i._valueTracker=Ld(i))}function wl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Al(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function qs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ud=/[\n"\\]/g;function Ae(i){return i.replace(Ud,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sn(i,s,o,u,d,g,E,S){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Ir(i,E,cn(s)):o!=null?Ir(i,E,cn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+cn(S):i.removeAttribute("name")}function Hs(i,s,o,u,d,g,E,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+cn(o):"",s=s!=null?""+cn(s):o,S||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Ir(i,s,o){s==="number"&&qs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function zi(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+cn(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function $t(i,s,o){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+cn(o):""}function Gs(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ie(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=cn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Vn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Ks=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Ks.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function xl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Uc(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&Uc(i,g,s[g])}function Rl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(i){return Bd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Fi=null;function Mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var qi=null,Hi=null;function Cl(i){var s=ci(i);if(s&&(i=s.stateNode)){var o=i[Se]||null;t:switch(i=s.stateNode,s.type){case"input":if(Sn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ae(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[Se]||null;if(!d)throw Error(r(90));Sn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&wl(u)}break t;case"textarea":$t(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&zi(i,!!o.multiple,s,!1)}}}var di=!1;function jc(i,s,o){if(di)return i(s,o);di=!0;try{var u=i(s);return u}finally{if(di=!1,(qi!==null||Hi!==null)&&(Oh(),qi&&(s=qi,i=Hi,Hi=qi=null,Cl(s),i)))for(s=0;s<i.length;s++)Cl(i[s])}}function Ys(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Se]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if(Jn)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){kn=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{kn=!1}var mi=null,Dr=null,Gi=null;function Il(){if(Gi)return Gi;var i,s=Dr,o=s.length,u,d="value"in mi?mi.value:mi.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var E=o-i;for(u=1;u<=E&&s[o-u]===d[g-u];u++);return Gi=d.slice(i,1<u?1-u:void 0)}function pi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function gi(){return!0}function Dl(){return!1}function Ue(i){function s(o,u,d,g,E){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?gi:Dl,this.isPropagationStopped=Dl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),s}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Ue(Ht),$s=y({},Ht,{view:0,detail:0}),Bc=Ue($s),Qa,$a,yi,Xs=y({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yi&&(yi&&i.type==="mousemove"?(Qa=i.screenX-yi.screenX,$a=i.screenY-yi.screenY):$a=Qa=0,yi=i),Qa)},movementY:function(i){return"movementY"in i?i.movementY:$a}}),Ln=Ue(Xs),zc=y({},Xs,{dataTransfer:0}),zd=Ue(zc),Ws=y({},$s,{relatedTarget:0}),Xa=Ue(Ws),Nl=y({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Wa=Ue(Nl),Fc=y({},Ht,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Za=Ue(Fc),Fd=y({},Ht,{data:0}),Ol=Ue(Fd),Zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Hc[i])?!!s[i]:!1}function Js(){return Pl}var Gc=y({},$s,{key:function(i){if(i.key){var s=Zs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=pi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?qc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(i){return i.type==="keypress"?pi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ja=Ue(Gc),Kc=y({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vl=Ue(Kc),Ki=y({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),Yc=Ue(Ki),Qc=y({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),$c=Ue(Qc),Xc=y({},Xs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),to=Ue(Xc),hn=y({},Ht,{newState:0,oldState:0}),Wc=Ue(hn),Zc=[9,13,27,32],vi=Jn&&"CompositionEvent"in window,h=null;Jn&&"documentMode"in document&&(h=document.documentMode);var v=Jn&&"TextEvent"in window&&!h,T=Jn&&(!vi||h&&8<h&&11>=h),w=" ",F=!1;function $(i,s){switch(i){case"keyup":return Zc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ut=!1;function Ne(i,s){switch(i){case"compositionend":return ut(s);case"keypress":return s.which!==32?null:(F=!0,w);case"textInput":return i=s.data,i===w&&F?null:i;default:return null}}function jt(i,s){if(Ut)return i==="compositionend"||!vi&&$(i,s)?(i=Il(),Gi=Dr=mi=null,Ut=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oe(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!je[i.type]:s==="textarea"}function Yi(i,s,o,u){qi?Hi?Hi.push(u):Hi=[u]:qi=u,s=Uh(s,"onChange"),0<s.length&&(o=new Ya("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Ge=null,_i=null;function Ml(i){ET(i,0)}function Jc(i){var s=hi(i);if(wl(s))return i}function Fv(i,s){if(i==="change")return s}var qv=!1;if(Jn){var qd;if(Jn){var Hd="oninput"in document;if(!Hd){var Hv=document.createElement("div");Hv.setAttribute("oninput","return;"),Hd=typeof Hv.oninput=="function"}qd=Hd}else qd=!1;qv=qd&&(!document.documentMode||9<document.documentMode)}function Gv(){Ge&&(Ge.detachEvent("onpropertychange",Kv),_i=Ge=null)}function Kv(i){if(i.propertyName==="value"&&Jc(_i)){var s=[];Yi(s,_i,i,Mn(i)),jc(Ml,s)}}function zR(i,s,o){i==="focusin"?(Gv(),Ge=s,_i=o,Ge.attachEvent("onpropertychange",Kv)):i==="focusout"&&Gv()}function FR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Jc(_i)}function qR(i,s){if(i==="click")return Jc(s)}function HR(i,s){if(i==="input"||i==="change")return Jc(s)}function GR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var An=typeof Object.is=="function"?Object.is:GR;function kl(i,s){if(An(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Os.call(s,d)||!An(i[d],s[d]))return!1}return!0}function Yv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Qv(i,s){var o=Yv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Yv(o)}}function $v(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?$v(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Xv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=qs(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=qs(i.document)}return s}function Gd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var KR=Jn&&"documentMode"in document&&11>=document.documentMode,eo=null,Kd=null,Ll=null,Yd=!1;function Wv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Yd||eo==null||eo!==qs(u)||(u=eo,"selectionStart"in u&&Gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ll&&kl(Ll,u)||(Ll=u,u=Uh(Kd,"onSelect"),0<u.length&&(s=new Ya("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=eo)))}function ta(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var no={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},Qd={},Zv={};Jn&&(Zv=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function ea(i){if(Qd[i])return Qd[i];if(!no[i])return i;var s=no[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Zv)return Qd[i]=s[o];return i}var Jv=ea("animationend"),t0=ea("animationiteration"),e0=ea("animationstart"),YR=ea("transitionrun"),QR=ea("transitionstart"),$R=ea("transitioncancel"),n0=ea("transitionend"),i0=new Map,$d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$d.push("scrollEnd");function ti(i,s){i0.set(i,s),Zn(s,[i])}var r0=new WeakMap;function Un(i,s){if(typeof i=="object"&&i!==null){var o=r0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ha(s)},r0.set(i,s),s)}return{value:i,source:s,stack:Ha(s)}}var jn=[],io=0,Xd=0;function th(){for(var i=io,s=Xd=io=0;s<i;){var o=jn[s];jn[s++]=null;var u=jn[s];jn[s++]=null;var d=jn[s];jn[s++]=null;var g=jn[s];if(jn[s++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}g!==0&&s0(o,d,g)}}function eh(i,s,o,u){jn[io++]=i,jn[io++]=s,jn[io++]=o,jn[io++]=u,Xd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Wd(i,s,o,u){return eh(i,s,o,u),nh(i)}function ro(i,s){return eh(i,null,null,s),nh(i)}function s0(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-Je(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function nh(i){if(50<lu)throw lu=0,ip=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var so={};function XR(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(i,s,o,u){return new XR(i,s,o,u)}function Zd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Qi(i,s){var o=i.alternate;return o===null?(o=wn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function a0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function ih(i,s,o,u,d,g){var E=0;if(u=i,typeof i=="function")Zd(i)&&(E=1);else if(typeof i=="string")E=ZC(i,o,yt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case C:return i=wn(31,o,s,d),i.elementType=C,i.lanes=g,i;case P:return na(o.children,d,g,s);case L:E=8,d|=24;break;case M:return i=wn(12,o,s,d|2),i.elementType=M,i.lanes=g,i;case X:return i=wn(13,o,s,d),i.elementType=X,i.lanes=g,i;case ct:return i=wn(19,o,s,d),i.elementType=ct,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:case G:E=10;break t;case W:E=9;break t;case st:E=11;break t;case N:E=14;break t;case R:E=16,u=null;break t}E=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=wn(E,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function na(i,s,o,u){return i=wn(7,i,u,s),i.lanes=o,i}function Jd(i,s,o){return i=wn(6,i,null,s),i.lanes=o,i}function tm(i,s,o){return s=wn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var ao=[],oo=0,rh=null,sh=0,Bn=[],zn=0,ia=null,$i=1,Xi="";function ra(i,s){ao[oo++]=sh,ao[oo++]=rh,rh=i,sh=s}function o0(i,s,o){Bn[zn++]=$i,Bn[zn++]=Xi,Bn[zn++]=ia,ia=i;var u=$i;i=Xi;var d=32-Je(u)-1;u&=~(1<<d),o+=1;var g=32-Je(s)+d;if(30<g){var E=d-d%5;g=(u&(1<<E)-1).toString(32),u>>=E,d-=E,$i=1<<32-Je(s)+d|o<<d|u,Xi=g+i}else $i=1<<g|o<<d|u,Xi=i}function em(i){i.return!==null&&(ra(i,1),o0(i,1,0))}function nm(i){for(;i===rh;)rh=ao[--oo],ao[oo]=null,sh=ao[--oo],ao[oo]=null;for(;i===ia;)ia=Bn[--zn],Bn[zn]=null,Xi=Bn[--zn],Bn[zn]=null,$i=Bn[--zn],Bn[zn]=null}var fn=null,me=null,qt=!1,sa=null,Ti=!1,im=Error(r(519));function aa(i){var s=Error(r(418,""));throw Bl(Un(s,i)),im}function l0(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[De]=i,s[Se]=u,o){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(o=0;o<cu.length;o++)Mt(cu[o],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),Hs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ga(s);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),Gs(s,u.value,u.defaultValue,u.children),Ga(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||wT(s.textContent,o)?(u.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),u.onScroll!=null&&Mt("scroll",s),u.onScrollEnd!=null&&Mt("scrollend",s),u.onClick!=null&&(s.onclick=jh),s=!0):s=!1,s||aa(i)}function u0(i){for(fn=i.return;fn;)switch(fn.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:fn=fn.return}}function Ul(i){if(i!==fn)return!1;if(!qt)return u0(i),qt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||_p(i.type,i.memoizedProps)),o=!o),o&&me&&aa(i),u0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){me=ni(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}me=null}}else s===27?(s=me,Kr(i.type)?(i=Sp,Sp=null,me=i):me=s):me=fn?ni(i.stateNode.nextSibling):null;return!0}function jl(){me=fn=null,qt=!1}function c0(){var i=sa;return i!==null&&(vn===null?vn=i:vn.push.apply(vn,i),sa=null),i}function Bl(i){sa===null?sa=[i]:sa.push(i)}var rm=rt(null),oa=null,Wi=null;function Nr(i,s,o){ot(rm,s._currentValue),s._currentValue=o}function Zi(i){i._currentValue=rm.current,ht(rm)}function sm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function am(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var E=d.child;g=g.firstContext;t:for(;g!==null;){var S=g;g=d;for(var I=0;I<s.length;I++)if(S.context===s[I]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),sm(g.return,o,i),u||(E=null);break t}g=S.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),sm(E,o,i),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===i){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function zl(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var S=d.type;An(d.pendingProps.value,E.value)||(i!==null?i.push(S):i=[S])}}else if(d===Le.current){if(E=d.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(gu):i=[gu])}d=d.return}i!==null&&am(s,i,o,u),s.flags|=262144}function ah(i){for(i=i.firstContext;i!==null;){if(!An(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function la(i){oa=i,Wi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function tn(i){return h0(oa,i)}function oh(i,s){return oa===null&&la(i),h0(i,s)}function h0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Wi===null){if(i===null)throw Error(r(308));Wi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Wi=Wi.next=s;return o}var WR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},ZR=e.unstable_scheduleCallback,JR=e.unstable_NormalPriority,Pe={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function om(){return{controller:new WR,data:new Map,refCount:0}}function Fl(i){i.refCount--,i.refCount===0&&ZR(JR,function(){i.controller.abort()})}var ql=null,lm=0,lo=0,uo=null;function tC(i,s){if(ql===null){var o=ql=[];lm=0,lo=cp(),uo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return lm++,s.then(f0,f0),s}function f0(){if(--lm===0&&ql!==null){uo!==null&&(uo.status="fulfilled");var i=ql;ql=null,lo=0,uo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function eC(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var d0=Z.S;Z.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&tC(i,s),d0!==null&&d0(i,s)};var ua=rt(null);function um(){var i=ua.current;return i!==null?i:ne.pooledCache}function lh(i,s){s===null?ot(ua,ua.current):ot(ua,s.pool)}function m0(){var i=um();return i===null?null:{parent:Pe._currentValue,pool:i}}var Hl=Error(r(460)),p0=Error(r(474)),uh=Error(r(542)),cm={then:function(){}};function g0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ch(){}function y0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(ch,ch),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,_0(i),i;default:if(typeof s.status=="string")s.then(ch,ch);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,_0(i),i}throw Gl=s,Hl}}var Gl=null;function v0(){if(Gl===null)throw Error(r(459));var i=Gl;return Gl=null,i}function _0(i){if(i===Hl||i===uh)throw Error(r(483))}var Or=!1;function hm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Pr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Vr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Yt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=nh(i),s0(i,null,o),s}return eh(i,u,s,o),nh(i)}function Kl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Tl(i,o)}}function dm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var mm=!1;function Yl(){if(mm){var i=uo;if(i!==null)throw i}}function Ql(i,s,o,u){mm=!1;var d=i.updateQueue;Or=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var I=S,H=I.next;I.next=null,E===null?g=H:E.next=H,E=I;var J=i.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==E&&(S===null?J.firstBaseUpdate=H:S.next=H,J.lastBaseUpdate=I))}if(g!==null){var et=d.baseState;E=0,J=H=I=null,S=g;do{var Y=S.lane&-536870913,Q=Y!==S.lane;if(Q?(Bt&Y)===Y:(u&Y)===Y){Y!==0&&Y===lo&&(mm=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var St=i,vt=S;Y=s;var Zt=o;switch(vt.tag){case 1:if(St=vt.payload,typeof St=="function"){et=St.call(Zt,et,Y);break t}et=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=vt.payload,Y=typeof St=="function"?St.call(Zt,et,Y):St,Y==null)break t;et=y({},et,Y);break t;case 2:Or=!0}}Y=S.callback,Y!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(H=J=Q,I=et):J=J.next=Q,E|=Y;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);J===null&&(I=et),d.baseState=I,d.firstBaseUpdate=H,d.lastBaseUpdate=J,g===null&&(d.shared.lanes=0),Fr|=E,i.lanes=E,i.memoizedState=et}}function T0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function E0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)T0(o[i],s)}var co=rt(null),hh=rt(0);function b0(i,s){i=sr,ot(hh,i),ot(co,s),sr=i|s.baseLanes}function pm(){ot(hh,sr),ot(co,co.current)}function gm(){sr=hh.current,ht(co),ht(hh)}var Mr=0,Dt=null,Xt=null,we=null,fh=!1,ho=!1,ca=!1,dh=0,$l=0,fo=null,nC=0;function ve(){throw Error(r(321))}function ym(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!An(i[o],s[o]))return!1;return!0}function vm(i,s,o,u,d,g){return Mr=g,Dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?s_:a_,ca=!1,g=o(u,d),ca=!1,ho&&(g=A0(s,o,u,d)),S0(i),g}function S0(i){Z.H=_h;var s=Xt!==null&&Xt.next!==null;if(Mr=0,we=Xt=Dt=null,fh=!1,$l=0,fo=null,s)throw Error(r(300));i===null||Be||(i=i.dependencies,i!==null&&ah(i)&&(Be=!0))}function A0(i,s,o,u){Dt=i;var d=0;do{if(ho&&(fo=null),$l=0,ho=!1,25<=d)throw Error(r(301));if(d+=1,we=Xt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=uC,g=s(o,u)}while(ho);return g}function iC(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?Xl(s):s,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(Dt.flags|=1024),s}function _m(){var i=dh!==0;return dh=0,i}function Tm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Em(i){if(fh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}fh=!1}Mr=0,we=Xt=Dt=null,ho=!1,$l=dh=0,fo=null}function gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Dt.memoizedState=we=i:we=we.next=i,we}function xe(){if(Xt===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var s=we===null?Dt.memoizedState:we.next;if(s!==null)we=s,Xt=i;else{if(i===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},we===null?Dt.memoizedState=we=i:we=we.next=i}return we}function bm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(i){var s=$l;return $l+=1,fo===null&&(fo=[]),i=y0(fo,i,s),s=Dt,(we===null?s.memoizedState:we.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?s_:a_),i}function mh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xl(i);if(i.$$typeof===G)return tn(i)}throw Error(r(438,String(i)))}function Sm(i){var s=null,o=Dt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=bm(),Dt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=V;return s.index++,o}function Ji(i,s){return typeof s=="function"?s(i):s}function ph(i){var s=xe();return Am(s,Xt,i)}function Am(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var S=E=null,I=null,H=s,J=!1;do{var et=H.lane&-536870913;if(et!==H.lane?(Bt&et)===et:(Mr&et)===et){var Y=H.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),et===lo&&(J=!0);else if((Mr&Y)===Y){H=H.next,Y===lo&&(J=!0);continue}else et={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(S=I=et,E=g):I=I.next=et,Dt.lanes|=Y,Fr|=Y;et=H.action,ca&&o(g,et),g=H.hasEagerState?H.eagerState:o(g,et)}else Y={lane:et,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(S=I=Y,E=g):I=I.next=Y,Dt.lanes|=et,Fr|=et;H=H.next}while(H!==null&&H!==s);if(I===null?E=g:I.next=S,!An(g,i.memoizedState)&&(Be=!0,J&&(o=uo,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=I,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function wm(i){var s=xe(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do g=i(g,E.action),E=E.next;while(E!==d);An(g,s.memoizedState)||(Be=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function w0(i,s,o){var u=Dt,d=xe(),g=qt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!An((Xt||d).memoizedState,o);E&&(d.memoizedState=o,Be=!0),d=d.queue;var S=C0.bind(null,u,d,i);if(Wl(2048,8,S,[i]),d.getSnapshot!==s||E||we!==null&&we.memoizedState.tag&1){if(u.flags|=2048,mo(9,gh(),R0.bind(null,u,d,o,s),null),ne===null)throw Error(r(349));g||(Mr&124)!==0||x0(u,s,o)}return o}function x0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Dt.updateQueue,s===null?(s=bm(),Dt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function R0(i,s,o,u){s.value=o,s.getSnapshot=u,I0(s)&&D0(i)}function C0(i,s,o){return o(function(){I0(s)&&D0(i)})}function I0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!An(i,o)}catch{return!0}}function D0(i){var s=ro(i,2);s!==null&&Dn(s,i,2)}function xm(i){var s=gn();if(typeof i=="function"){var o=i;if(i=o(),ca){bn(!0);try{o()}finally{bn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:i},s}function N0(i,s,o,u){return i.baseState=o,Am(i,Xt,typeof u=="function"?u:Ji)}function rC(i,s,o,u,d){if(vh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,O0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function O0(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=Z.T,E={};Z.T=E;try{var S=o(d,u),I=Z.S;I!==null&&I(E,S),P0(i,s,S)}catch(H){Rm(i,s,H)}finally{Z.T=g}}else try{g=o(d,u),P0(i,s,g)}catch(H){Rm(i,s,H)}}function P0(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){V0(i,s,u)},function(u){return Rm(i,s,u)}):V0(i,s,o)}function V0(i,s,o){s.status="fulfilled",s.value=o,M0(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,O0(i,o)))}function Rm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,M0(s),s=s.next;while(s!==u)}i.action=null}function M0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function k0(i,s){return s}function L0(i,s){if(qt){var o=ne.formState;if(o!==null){t:{var u=Dt;if(qt){if(me){e:{for(var d=me,g=Ti;d.nodeType!==8;){if(!g){d=null;break e}if(d=ni(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){me=ni(d.nextSibling),u=d.data==="F!";break t}}aa(u)}u=!1}u&&(s=o[0])}}return o=gn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k0,lastRenderedState:s},o.queue=u,o=n_.bind(null,Dt,u),u.dispatch=o,u=xm(!1),g=Om.bind(null,Dt,!1,u.queue),u=gn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=rC.bind(null,Dt,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function U0(i){var s=xe();return j0(s,Xt,i)}function j0(i,s,o){if(s=Am(i,s,k0)[0],i=ph(Ji)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Xl(s)}catch(E){throw E===Hl?uh:E}else u=s;s=xe();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Dt.flags|=2048,mo(9,gh(),sC.bind(null,d,o),null)),[u,g,i]}function sC(i,s){i.action=s}function B0(i){var s=xe(),o=Xt;if(o!==null)return j0(s,o,i);xe(),s=s.memoizedState,o=xe();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function mo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Dt.updateQueue,s===null&&(s=bm(),Dt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function gh(){return{destroy:void 0,resource:void 0}}function z0(){return xe().memoizedState}function yh(i,s,o,u){var d=gn();u=u===void 0?null:u,Dt.flags|=i,d.memoizedState=mo(1|s,gh(),o,u)}function Wl(i,s,o,u){var d=xe();u=u===void 0?null:u;var g=d.memoizedState.inst;Xt!==null&&u!==null&&ym(u,Xt.memoizedState.deps)?d.memoizedState=mo(s,g,o,u):(Dt.flags|=i,d.memoizedState=mo(1|s,g,o,u))}function F0(i,s){yh(8390656,8,i,s)}function q0(i,s){Wl(2048,8,i,s)}function H0(i,s){return Wl(4,2,i,s)}function G0(i,s){return Wl(4,4,i,s)}function K0(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Y0(i,s,o){o=o!=null?o.concat([i]):null,Wl(4,4,K0.bind(null,s,i),o)}function Cm(){}function Q0(i,s){var o=xe();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&ym(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function $0(i,s){var o=xe();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&ym(s,u[1]))return u[0];if(u=i(),ca){bn(!0);try{i()}finally{bn(!1)}}return o.memoizedState=[u,s],u}function Im(i,s,o){return o===void 0||(Mr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=Z_(),Dt.lanes|=i,Fr|=i,o)}function X0(i,s,o,u){return An(o,s)?o:co.current!==null?(i=Im(i,o,u),An(i,s)||(Be=!0),i):(Mr&42)===0?(Be=!0,i.memoizedState=o):(i=Z_(),Dt.lanes|=i,Fr|=i,s)}function W0(i,s,o,u,d){var g=at.p;at.p=g!==0&&8>g?g:8;var E=Z.T,S={};Z.T=S,Om(i,!1,s,o);try{var I=d(),H=Z.S;if(H!==null&&H(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=eC(I,u);Zl(i,s,J,In(i))}else Zl(i,s,u,In(i))}catch(et){Zl(i,s,{then:function(){},status:"rejected",reason:et},In())}finally{at.p=g,Z.T=E}}function aC(){}function Dm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=Z0(i).queue;W0(i,d,s,lt,o===null?aC:function(){return J0(i),o(u)})}function Z0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:lt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function J0(i){var s=Z0(i).next.queue;Zl(i,s,{},In())}function Nm(){return tn(gu)}function t_(){return xe().memoizedState}function e_(){return xe().memoizedState}function oC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=In();i=Pr(o);var u=Vr(s,i,o);u!==null&&(Dn(u,s,o),Kl(u,s,o)),s={cache:om()},i.payload=s;return}s=s.return}}function lC(i,s,o){var u=In();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},vh(i)?i_(s,o):(o=Wd(i,s,o,u),o!==null&&(Dn(o,i,u),r_(o,s,u)))}function n_(i,s,o){var u=In();Zl(i,s,o,u)}function Zl(i,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(vh(i))i_(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,S=g(E,o);if(d.hasEagerState=!0,d.eagerState=S,An(S,E))return eh(i,s,d,0),ne===null&&th(),!1}catch{}finally{}if(o=Wd(i,s,d,u),o!==null)return Dn(o,i,u),r_(o,s,u),!0}return!1}function Om(i,s,o,u){if(u={lane:2,revertLane:cp(),action:u,hasEagerState:!1,eagerState:null,next:null},vh(i)){if(s)throw Error(r(479))}else s=Wd(i,o,u,2),s!==null&&Dn(s,i,2)}function vh(i){var s=i.alternate;return i===Dt||s!==null&&s===Dt}function i_(i,s){ho=fh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function r_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Tl(i,o)}}var _h={readContext:tn,use:mh,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},s_={readContext:tn,use:mh,useCallback:function(i,s){return gn().memoizedState=[i,s===void 0?null:s],i},useContext:tn,useEffect:F0,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,yh(4194308,4,K0.bind(null,s,i),o)},useLayoutEffect:function(i,s){return yh(4194308,4,i,s)},useInsertionEffect:function(i,s){yh(4,2,i,s)},useMemo:function(i,s){var o=gn();s=s===void 0?null:s;var u=i();if(ca){bn(!0);try{i()}finally{bn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=gn();if(o!==void 0){var d=o(s);if(ca){bn(!0);try{o(s)}finally{bn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=lC.bind(null,Dt,i),[u.memoizedState,i]},useRef:function(i){var s=gn();return i={current:i},s.memoizedState=i},useState:function(i){i=xm(i);var s=i.queue,o=n_.bind(null,Dt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Cm,useDeferredValue:function(i,s){var o=gn();return Im(o,i,s)},useTransition:function(){var i=xm(!1);return i=W0.bind(null,Dt,i.queue,!0,!1),gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Dt,d=gn();if(qt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ne===null)throw Error(r(349));(Bt&124)!==0||x0(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,F0(C0.bind(null,u,g,i),[i]),u.flags|=2048,mo(9,gh(),R0.bind(null,u,g,o,s),null),o},useId:function(){var i=gn(),s=ne.identifierPrefix;if(qt){var o=Xi,u=$i;o=(u&~(1<<32-Je(u)-1)).toString(32)+o,s=""+s+"R"+o,o=dh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=nC++,s=""+s+"r"+o.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Nm,useFormState:L0,useActionState:L0,useOptimistic:function(i){var s=gn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Om.bind(null,Dt,!0,o),o.dispatch=s,[i,s]},useMemoCache:Sm,useCacheRefresh:function(){return gn().memoizedState=oC.bind(null,Dt)}},a_={readContext:tn,use:mh,useCallback:Q0,useContext:tn,useEffect:q0,useImperativeHandle:Y0,useInsertionEffect:H0,useLayoutEffect:G0,useMemo:$0,useReducer:ph,useRef:z0,useState:function(){return ph(Ji)},useDebugValue:Cm,useDeferredValue:function(i,s){var o=xe();return X0(o,Xt.memoizedState,i,s)},useTransition:function(){var i=ph(Ji)[0],s=xe().memoizedState;return[typeof i=="boolean"?i:Xl(i),s]},useSyncExternalStore:w0,useId:t_,useHostTransitionStatus:Nm,useFormState:U0,useActionState:U0,useOptimistic:function(i,s){var o=xe();return N0(o,Xt,i,s)},useMemoCache:Sm,useCacheRefresh:e_},uC={readContext:tn,use:mh,useCallback:Q0,useContext:tn,useEffect:q0,useImperativeHandle:Y0,useInsertionEffect:H0,useLayoutEffect:G0,useMemo:$0,useReducer:wm,useRef:z0,useState:function(){return wm(Ji)},useDebugValue:Cm,useDeferredValue:function(i,s){var o=xe();return Xt===null?Im(o,i,s):X0(o,Xt.memoizedState,i,s)},useTransition:function(){var i=wm(Ji)[0],s=xe().memoizedState;return[typeof i=="boolean"?i:Xl(i),s]},useSyncExternalStore:w0,useId:t_,useHostTransitionStatus:Nm,useFormState:B0,useActionState:B0,useOptimistic:function(i,s){var o=xe();return Xt!==null?N0(o,Xt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:e_},po=null,Jl=0;function Th(i){var s=Jl;return Jl+=1,po===null&&(po=[]),y0(po,i,s)}function tu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Eh(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function o_(i){var s=i._init;return s(i._payload)}function l_(i){function s(z,k){if(i){var q=z.deletions;q===null?(z.deletions=[k],z.flags|=16):q.push(k)}}function o(z,k){if(!i)return null;for(;k!==null;)s(z,k),k=k.sibling;return null}function u(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function d(z,k){return z=Qi(z,k),z.index=0,z.sibling=null,z}function g(z,k,q){return z.index=q,i?(q=z.alternate,q!==null?(q=q.index,q<k?(z.flags|=67108866,k):q):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function E(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function S(z,k,q,tt){return k===null||k.tag!==6?(k=Jd(q,z.mode,tt),k.return=z,k):(k=d(k,q),k.return=z,k)}function I(z,k,q,tt){var mt=q.type;return mt===P?J(z,k,q.props.children,tt,q.key):k!==null&&(k.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&o_(mt)===k.type)?(k=d(k,q.props),tu(k,q),k.return=z,k):(k=ih(q.type,q.key,q.props,null,z.mode,tt),tu(k,q),k.return=z,k)}function H(z,k,q,tt){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=tm(q,z.mode,tt),k.return=z,k):(k=d(k,q.children||[]),k.return=z,k)}function J(z,k,q,tt,mt){return k===null||k.tag!==7?(k=na(q,z.mode,tt,mt),k.return=z,k):(k=d(k,q),k.return=z,k)}function et(z,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Jd(""+k,z.mode,q),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return q=ih(k.type,k.key,k.props,null,z.mode,q),tu(q,k),q.return=z,q;case x:return k=tm(k,z.mode,q),k.return=z,k;case R:var tt=k._init;return k=tt(k._payload),et(z,k,q)}if(ie(k)||B(k))return k=na(k,z.mode,q,null),k.return=z,k;if(typeof k.then=="function")return et(z,Th(k),q);if(k.$$typeof===G)return et(z,oh(z,k),q);Eh(z,k)}return null}function Y(z,k,q,tt){var mt=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return mt!==null?null:S(z,k,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===mt?I(z,k,q,tt):null;case x:return q.key===mt?H(z,k,q,tt):null;case R:return mt=q._init,q=mt(q._payload),Y(z,k,q,tt)}if(ie(q)||B(q))return mt!==null?null:J(z,k,q,tt,null);if(typeof q.then=="function")return Y(z,k,Th(q),tt);if(q.$$typeof===G)return Y(z,k,oh(z,q),tt);Eh(z,q)}return null}function Q(z,k,q,tt,mt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return z=z.get(q)||null,S(k,z,""+tt,mt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case b:return z=z.get(tt.key===null?q:tt.key)||null,I(k,z,tt,mt);case x:return z=z.get(tt.key===null?q:tt.key)||null,H(k,z,tt,mt);case R:var Pt=tt._init;return tt=Pt(tt._payload),Q(z,k,q,tt,mt)}if(ie(tt)||B(tt))return z=z.get(q)||null,J(k,z,tt,mt,null);if(typeof tt.then=="function")return Q(z,k,q,Th(tt),mt);if(tt.$$typeof===G)return Q(z,k,q,oh(k,tt),mt);Eh(k,tt)}return null}function St(z,k,q,tt){for(var mt=null,Pt=null,pt=k,_t=k=0,Fe=null;pt!==null&&_t<q.length;_t++){pt.index>_t?(Fe=pt,pt=null):Fe=pt.sibling;var Ft=Y(z,pt,q[_t],tt);if(Ft===null){pt===null&&(pt=Fe);break}i&&pt&&Ft.alternate===null&&s(z,pt),k=g(Ft,k,_t),Pt===null?mt=Ft:Pt.sibling=Ft,Pt=Ft,pt=Fe}if(_t===q.length)return o(z,pt),qt&&ra(z,_t),mt;if(pt===null){for(;_t<q.length;_t++)pt=et(z,q[_t],tt),pt!==null&&(k=g(pt,k,_t),Pt===null?mt=pt:Pt.sibling=pt,Pt=pt);return qt&&ra(z,_t),mt}for(pt=u(pt);_t<q.length;_t++)Fe=Q(pt,z,_t,q[_t],tt),Fe!==null&&(i&&Fe.alternate!==null&&pt.delete(Fe.key===null?_t:Fe.key),k=g(Fe,k,_t),Pt===null?mt=Fe:Pt.sibling=Fe,Pt=Fe);return i&&pt.forEach(function(Wr){return s(z,Wr)}),qt&&ra(z,_t),mt}function vt(z,k,q,tt){if(q==null)throw Error(r(151));for(var mt=null,Pt=null,pt=k,_t=k=0,Fe=null,Ft=q.next();pt!==null&&!Ft.done;_t++,Ft=q.next()){pt.index>_t?(Fe=pt,pt=null):Fe=pt.sibling;var Wr=Y(z,pt,Ft.value,tt);if(Wr===null){pt===null&&(pt=Fe);break}i&&pt&&Wr.alternate===null&&s(z,pt),k=g(Wr,k,_t),Pt===null?mt=Wr:Pt.sibling=Wr,Pt=Wr,pt=Fe}if(Ft.done)return o(z,pt),qt&&ra(z,_t),mt;if(pt===null){for(;!Ft.done;_t++,Ft=q.next())Ft=et(z,Ft.value,tt),Ft!==null&&(k=g(Ft,k,_t),Pt===null?mt=Ft:Pt.sibling=Ft,Pt=Ft);return qt&&ra(z,_t),mt}for(pt=u(pt);!Ft.done;_t++,Ft=q.next())Ft=Q(pt,z,_t,Ft.value,tt),Ft!==null&&(i&&Ft.alternate!==null&&pt.delete(Ft.key===null?_t:Ft.key),k=g(Ft,k,_t),Pt===null?mt=Ft:Pt.sibling=Ft,Pt=Ft);return i&&pt.forEach(function(c2){return s(z,c2)}),qt&&ra(z,_t),mt}function Zt(z,k,q,tt){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:t:{for(var mt=q.key;k!==null;){if(k.key===mt){if(mt=q.type,mt===P){if(k.tag===7){o(z,k.sibling),tt=d(k,q.props.children),tt.return=z,z=tt;break t}}else if(k.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&o_(mt)===k.type){o(z,k.sibling),tt=d(k,q.props),tu(tt,q),tt.return=z,z=tt;break t}o(z,k);break}else s(z,k);k=k.sibling}q.type===P?(tt=na(q.props.children,z.mode,tt,q.key),tt.return=z,z=tt):(tt=ih(q.type,q.key,q.props,null,z.mode,tt),tu(tt,q),tt.return=z,z=tt)}return E(z);case x:t:{for(mt=q.key;k!==null;){if(k.key===mt)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){o(z,k.sibling),tt=d(k,q.children||[]),tt.return=z,z=tt;break t}else{o(z,k);break}else s(z,k);k=k.sibling}tt=tm(q,z.mode,tt),tt.return=z,z=tt}return E(z);case R:return mt=q._init,q=mt(q._payload),Zt(z,k,q,tt)}if(ie(q))return St(z,k,q,tt);if(B(q)){if(mt=B(q),typeof mt!="function")throw Error(r(150));return q=mt.call(q),vt(z,k,q,tt)}if(typeof q.then=="function")return Zt(z,k,Th(q),tt);if(q.$$typeof===G)return Zt(z,k,oh(z,q),tt);Eh(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(o(z,k.sibling),tt=d(k,q),tt.return=z,z=tt):(o(z,k),tt=Jd(q,z.mode,tt),tt.return=z,z=tt),E(z)):o(z,k)}return function(z,k,q,tt){try{Jl=0;var mt=Zt(z,k,q,tt);return po=null,mt}catch(pt){if(pt===Hl||pt===uh)throw pt;var Pt=wn(29,pt,null,z.mode);return Pt.lanes=tt,Pt.return=z,Pt}finally{}}}var go=l_(!0),u_=l_(!1),Fn=rt(null),Ei=null;function kr(i){var s=i.alternate;ot(Ve,Ve.current&1),ot(Fn,i),Ei===null&&(s===null||co.current!==null||s.memoizedState!==null)&&(Ei=i)}function c_(i){if(i.tag===22){if(ot(Ve,Ve.current),ot(Fn,i),Ei===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ei=i)}}else Lr()}function Lr(){ot(Ve,Ve.current),ot(Fn,Fn.current)}function tr(i){ht(Fn),Ei===i&&(Ei=null),ht(Ve)}var Ve=rt(0);function bh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||bp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Pm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Vm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=In(),d=Pr(u);d.payload=s,o!=null&&(d.callback=o),s=Vr(i,d,u),s!==null&&(Dn(s,i,u),Kl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=In(),d=Pr(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Vr(i,d,u),s!==null&&(Dn(s,i,u),Kl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=In(),u=Pr(o);u.tag=2,s!=null&&(u.callback=s),s=Vr(i,u,o),s!==null&&(Dn(s,i,o),Kl(s,i,o))}};function h_(i,s,o,u,d,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!kl(o,u)||!kl(d,g):!0}function f_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Vm.enqueueReplaceState(s,s.state,null)}function ha(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var Sh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function d_(i){Sh(i)}function m_(i){console.error(i)}function p_(i){Sh(i)}function Ah(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function g_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Mm(i,s,o){return o=Pr(o),o.tag=3,o.payload={element:null},o.callback=function(){Ah(i,s)},o}function y_(i){return i=Pr(i),i.tag=3,i}function v_(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){g_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){g_(s,o,u),typeof d!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function cC(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&zl(s,o,d,!0),o=Fn.current,o!==null){switch(o.tag){case 13:return Ei===null?sp():o.alternate===null&&pe===0&&(pe=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===cm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),op(i,u,d)),!1;case 22:return o.flags|=65536,u===cm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),op(i,u,d)),!1}throw Error(r(435,o.tag))}return op(i,u,d),sp(),!1}if(qt)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==im&&(i=Error(r(422),{cause:u}),Bl(Un(i,o)))):(u!==im&&(s=Error(r(423),{cause:u}),Bl(Un(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Un(u,o),d=Mm(i.stateNode,u,d),dm(i,d),pe!==4&&(pe=2)),!1;var g=Error(r(520),{cause:u});if(g=Un(g,o),ou===null?ou=[g]:ou.push(g),pe!==4&&(pe=2),s===null)return!0;u=Un(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Mm(o.stateNode,u,i),dm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qr===null||!qr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=y_(d),v_(d,i,o,u),dm(o,d),!1}o=o.return}while(o!==null);return!1}var __=Error(r(461)),Be=!1;function Ke(i,s,o,u){s.child=i===null?u_(s,null,o,u):go(s,i.child,o,u)}function T_(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return la(s),u=vm(i,s,o,E,g,d),S=_m(),i!==null&&!Be?(Tm(i,s,d),er(i,s,d)):(qt&&S&&em(s),s.flags|=1,Ke(i,s,u,d),s.child)}function E_(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Zd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,b_(i,s,g,u,d)):(i=ih(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!qm(i,d)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:kl,o(E,u)&&i.ref===s.ref)return er(i,s,d)}return s.flags|=1,i=Qi(g,u),i.ref=s.ref,i.return=s,s.child=i}function b_(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(kl(g,u)&&i.ref===s.ref)if(Be=!1,s.pendingProps=u=g,qm(i,d))(i.flags&131072)!==0&&(Be=!0);else return s.lanes=i.lanes,er(i,s,d)}return km(i,s,o,u,d)}function S_(i,s,o){var u=s.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return A_(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&lh(s,g!==null?g.cachePool:null),g!==null?b0(s,g):pm(),c_(s);else return s.lanes=s.childLanes=536870912,A_(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(lh(s,g.cachePool),b0(s,g),Lr(),s.memoizedState=null):(i!==null&&lh(s,null),pm(),Lr());return Ke(i,s,d,o),s.child}function A_(i,s,o,u){var d=um();return d=d===null?null:{parent:Pe._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},i!==null&&lh(s,null),pm(),c_(s),i!==null&&zl(i,s,u,!0),null}function wh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function km(i,s,o,u,d){return la(s),o=vm(i,s,o,u,void 0,d),u=_m(),i!==null&&!Be?(Tm(i,s,d),er(i,s,d)):(qt&&u&&em(s),s.flags|=1,Ke(i,s,o,d),s.child)}function w_(i,s,o,u,d,g){return la(s),s.updateQueue=null,o=A0(s,u,o,d),S0(i),u=_m(),i!==null&&!Be?(Tm(i,s,g),er(i,s,g)):(qt&&u&&em(s),s.flags|=1,Ke(i,s,o,g),s.child)}function x_(i,s,o,u,d){if(la(s),s.stateNode===null){var g=so,E=o.contextType;typeof E=="object"&&E!==null&&(g=tn(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Vm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},hm(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?tn(E):so,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Pm(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Vm.enqueueReplaceState(g,g.state,null),Ql(s,u,g,d),Yl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var S=s.memoizedProps,I=ha(o,S);g.props=I;var H=g.context,J=o.contextType;E=so,typeof J=="object"&&J!==null&&(E=tn(J));var et=o.getDerivedStateFromProps;J=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||H!==E)&&f_(s,g,u,E),Or=!1;var Y=s.memoizedState;g.state=Y,Ql(s,u,g,d),Yl(),H=s.memoizedState,S||Y!==H||Or?(typeof et=="function"&&(Pm(s,o,et,u),H=s.memoizedState),(I=Or||h_(s,o,I,u,Y,H,E))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),g.props=u,g.state=H,g.context=E,u=I):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,fm(i,s),E=s.memoizedProps,J=ha(o,E),g.props=J,et=s.pendingProps,Y=g.context,H=o.contextType,I=so,typeof H=="object"&&H!==null&&(I=tn(H)),S=o.getDerivedStateFromProps,(H=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==et||Y!==I)&&f_(s,g,u,I),Or=!1,Y=s.memoizedState,g.state=Y,Ql(s,u,g,d),Yl();var Q=s.memoizedState;E!==et||Y!==Q||Or||i!==null&&i.dependencies!==null&&ah(i.dependencies)?(typeof S=="function"&&(Pm(s,o,S,u),Q=s.memoizedState),(J=Or||h_(s,o,J,u,Y,Q,I)||i!==null&&i.dependencies!==null&&ah(i.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,I)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=I,u=J):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,wh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=go(s,i.child,null,d),s.child=go(s,null,o,d)):Ke(i,s,o,d),s.memoizedState=g.state,i=s.child):i=er(i,s,d),i}function R_(i,s,o,u){return jl(),s.flags|=256,Ke(i,s,o,u),s.child}var Lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(i){return{baseLanes:i,cachePool:m0()}}function jm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=qn),i}function C_(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Ve.current&2)!==0),E&&(d=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(qt){if(d?kr(s):Lr(),qt){var S=me,I;if(I=S){t:{for(I=S,S=Ti;I.nodeType!==8;){if(!S){S=null;break t}if(I=ni(I.nextSibling),I===null){S=null;break t}}S=I}S!==null?(s.memoizedState={dehydrated:S,treeContext:ia!==null?{id:$i,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},I=wn(18,null,null,0),I.stateNode=S,I.return=s,s.child=I,fn=s,me=null,I=!0):I=!1}I||aa(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return bp(S)?s.lanes=32:s.lanes=536870912,null;tr(s)}return S=u.children,u=u.fallback,d?(Lr(),d=s.mode,S=xh({mode:"hidden",children:S},d),u=na(u,d,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,d=s.child,d.memoizedState=Um(o),d.childLanes=jm(i,E,o),s.memoizedState=Lm,u):(kr(s),Bm(s,S))}if(I=i.memoizedState,I!==null&&(S=I.dehydrated,S!==null)){if(g)s.flags&256?(kr(s),s.flags&=-257,s=zm(i,s,o)):s.memoizedState!==null?(Lr(),s.child=i.child,s.flags|=128,s=null):(Lr(),d=u.fallback,S=s.mode,u=xh({mode:"visible",children:u.children},S),d=na(d,S,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,go(s,i.child,null,o),u=s.child,u.memoizedState=Um(o),u.childLanes=jm(i,E,o),s.memoizedState=Lm,s=d);else if(kr(s),bp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var H=E.dgst;E=H,u=Error(r(419)),u.stack="",u.digest=E,Bl({value:u,source:null,stack:null}),s=zm(i,s,o)}else if(Be||zl(i,s,o,!1),E=(o&i.childLanes)!==0,Be||E){if(E=ne,E!==null&&(u=o&-o,u=(u&42)!==0?1:Ar(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==I.retryLane))throw I.retryLane=u,ro(i,u),Dn(E,i,u),__;S.data==="$?"||sp(),s=zm(i,s,o)}else S.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=I.treeContext,me=ni(S.nextSibling),fn=s,qt=!0,sa=null,Ti=!1,i!==null&&(Bn[zn++]=$i,Bn[zn++]=Xi,Bn[zn++]=ia,$i=i.id,Xi=i.overflow,ia=s),s=Bm(s,u.children),s.flags|=4096);return s}return d?(Lr(),d=u.fallback,S=s.mode,I=i.child,H=I.sibling,u=Qi(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,H!==null?d=Qi(H,d):(d=na(d,S,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,S=i.child.memoizedState,S===null?S=Um(o):(I=S.cachePool,I!==null?(H=Pe._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=m0(),S={baseLanes:S.baseLanes|o,cachePool:I}),d.memoizedState=S,d.childLanes=jm(i,E,o),s.memoizedState=Lm,u):(kr(s),o=i.child,i=o.sibling,o=Qi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function Bm(i,s){return s=xh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function xh(i,s){return i=wn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function zm(i,s,o){return go(s,i.child,null,o),i=Bm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function I_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),sm(i.return,s,o)}function Fm(i,s,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function D_(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(Ke(i,s,u.children,o),u=Ve.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&I_(i,o,s);else if(i.tag===19)I_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ot(Ve,u),d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&bh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Fm(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&bh(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Fm(s,!0,o,null,g);break;case"together":Fm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function er(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Fr|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(zl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Qi(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Qi(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function qm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ah(i)))}function hC(i,s,o){switch(s.tag){case 3:ee(s,s.stateNode.containerInfo),Nr(s,Pe,i.memoizedState.cache),jl();break;case 27:case 5:Sr(s);break;case 4:ee(s,s.stateNode.containerInfo);break;case 10:Nr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(kr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?C_(i,s,o):(kr(s),i=er(i,s,o),i!==null?i.sibling:null);kr(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(zl(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return D_(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ot(Ve,Ve.current),u)break;return null;case 22:case 23:return s.lanes=0,S_(i,s,o);case 24:Nr(s,Pe,i.memoizedState.cache)}return er(i,s,o)}function N_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Be=!0;else{if(!qm(i,o)&&(s.flags&128)===0)return Be=!1,hC(i,s,o);Be=(i.flags&131072)!==0}else Be=!1,qt&&(s.flags&1048576)!==0&&o0(s,sh,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Zd(u)?(i=ha(u,i),s.tag=1,s=x_(null,s,u,i,o)):(s.tag=0,s=km(null,s,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===st){s.tag=11,s=T_(null,s,u,i,o);break t}else if(d===N){s.tag=14,s=E_(null,s,u,i,o);break t}}throw s=fe(u)||u,Error(r(306,s,""))}}return s;case 0:return km(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=ha(u,s.pendingProps),x_(i,s,u,d,o);case 3:t:{if(ee(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,fm(i,s),Ql(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Nr(s,Pe,u),u!==g.cache&&am(s,[Pe],o,!0),Yl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=R_(i,s,u,o);break t}else if(u!==d){d=Un(Error(r(424)),s),Bl(d),s=R_(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(me=ni(i.firstChild),fn=s,qt=!0,sa=null,Ti=!0,o=u_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(jl(),u===d){s=er(i,s,o);break t}Ke(i,s,u,o)}s=s.child}return s;case 26:return wh(i,s),i===null?(o=MT(s.type,null,s.pendingProps,null))?s.memoizedState=o:qt||(o=s.type,i=s.pendingProps,u=Bh(wt.current).createElement(o),u[De]=s,u[Se]=i,Qe(u,o,i),ye(u),s.stateNode=u):s.memoizedState=MT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Sr(s),i===null&&qt&&(u=s.stateNode=OT(s.type,s.pendingProps,wt.current),fn=s,Ti=!0,d=me,Kr(s.type)?(Sp=d,me=ni(u.firstChild)):me=d),Ke(i,s,s.pendingProps.children,o),wh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&qt&&((d=u=me)&&(u=jC(u,s.type,s.pendingProps,Ti),u!==null?(s.stateNode=u,fn=s,me=ni(u.firstChild),Ti=!1,d=!0):d=!1),d||aa(s)),Sr(s),d=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,_p(d,g)?u=null:E!==null&&_p(d,E)&&(s.flags|=32),s.memoizedState!==null&&(d=vm(i,s,iC,null,null,o),gu._currentValue=d),wh(i,s),Ke(i,s,u,o),s.child;case 6:return i===null&&qt&&((i=o=me)&&(o=BC(o,s.pendingProps,Ti),o!==null?(s.stateNode=o,fn=s,me=null,i=!0):i=!1),i||aa(s)),null;case 13:return C_(i,s,o);case 4:return ee(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=go(s,null,u,o):Ke(i,s,u,o),s.child;case 11:return T_(i,s,s.type,s.pendingProps,o);case 7:return Ke(i,s,s.pendingProps,o),s.child;case 8:return Ke(i,s,s.pendingProps.children,o),s.child;case 12:return Ke(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Nr(s,s.type,u.value),Ke(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,la(s),d=tn(d),u=u(d),s.flags|=1,Ke(i,s,u,o),s.child;case 14:return E_(i,s,s.type,s.pendingProps,o);case 15:return b_(i,s,s.type,s.pendingProps,o);case 19:return D_(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=xh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Qi(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return S_(i,s,o);case 24:return la(s),u=tn(Pe),i===null?(d=um(),d===null&&(d=ne,g=om(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},hm(s),Nr(s,Pe,d)):((i.lanes&o)!==0&&(fm(i,s),Ql(s,null,null,o),Yl()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Nr(s,Pe,u)):(u=g.cache,Nr(s,Pe,u),u!==d.cache&&am(s,[Pe],o,!0))),Ke(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function nr(i){i.flags|=4}function O_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!BT(s)){if(s=Fn.current,s!==null&&((Bt&4194048)===Bt?Ei!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||s!==Ei))throw Gl=cm,p0;i.flags|=8192}}function Rh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?vl():536870912,i.lanes|=s,To|=s)}function eu(i,s){if(!qt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function fC(i,s,o){var u=s.pendingProps;switch(nm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(s),null;case 1:return oe(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Zi(Pe),li(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ul(s)?nr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,c0())),oe(s),null;case 26:return o=s.memoizedState,i===null?(nr(s),o!==null?(oe(s),O_(s,o)):(oe(s),s.flags&=-16777217)):o?o!==i.memoizedState?(nr(s),oe(s),O_(s,o)):(oe(s),s.flags&=-16777217):(i.memoizedProps!==u&&nr(s),oe(s),s.flags&=-16777217),null;case 27:Mi(s),o=wt.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&nr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return oe(s),null}i=yt.current,Ul(s)?l0(s):(i=OT(d,u,o),s.stateNode=i,nr(s))}return oe(s),null;case 5:if(Mi(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&nr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return oe(s),null}if(i=yt.current,Ul(s))l0(s);else{switch(d=Bh(wt.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[De]=s,i[Se]=u;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;t:switch(Qe(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&nr(s)}}return oe(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&nr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=wt.current,Ul(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=fn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[De]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||wT(i.nodeValue,o)),i||aa(s)}else i=Bh(i).createTextNode(u),i[De]=s,s.stateNode=i}return oe(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Ul(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[De]=s}else jl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;oe(s),d=!1}else d=c0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(tr(s),s):(tr(s),null)}if(tr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),Rh(s,s.updateQueue),oe(s),null;case 4:return li(),i===null&&mp(s.stateNode.containerInfo),oe(s),null;case 10:return Zi(s.type),oe(s),null;case 19:if(ht(Ve),d=s.memoizedState,d===null)return oe(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)eu(d,!1);else{if(pe!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=bh(i),g!==null){for(s.flags|=128,eu(d,!1),i=g.updateQueue,s.updateQueue=i,Rh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)a0(o,i),o=o.sibling;return ot(Ve,Ve.current&1|2),s.child}i=i.sibling}d.tail!==null&&On()>Dh&&(s.flags|=128,u=!0,eu(d,!1),s.lanes=4194304)}else{if(!u)if(i=bh(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Rh(s,i),eu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!qt)return oe(s),null}else 2*On()-d.renderingStartTime>Dh&&o!==536870912&&(s.flags|=128,u=!0,eu(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(i=d.last,i!==null?i.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=On(),s.sibling=null,i=Ve.current,ot(Ve,u?i&1|2:i&1),s):(oe(s),null);case 22:case 23:return tr(s),gm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(oe(s),s.subtreeFlags&6&&(s.flags|=8192)):oe(s),o=s.updateQueue,o!==null&&Rh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ht(ua),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Zi(Pe),oe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function dC(i,s){switch(nm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Zi(Pe),li(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Mi(s),null;case 13:if(tr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));jl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ht(Ve),null;case 4:return li(),null;case 10:return Zi(s.type),null;case 22:case 23:return tr(s),gm(),i!==null&&ht(ua),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Zi(Pe),null;case 25:return null;default:return null}}function P_(i,s){switch(nm(s),s.tag){case 3:Zi(Pe),li();break;case 26:case 27:case 5:Mi(s);break;case 4:li();break;case 13:tr(s);break;case 19:ht(Ve);break;case 10:Zi(s.type);break;case 22:case 23:tr(s),gm(),i!==null&&ht(ua);break;case 24:Zi(Pe)}}function nu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==d)}}catch(S){te(s,s.return,S)}}function Ur(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,d=s;var I=o,H=S;try{H()}catch(J){te(d,I,J)}}}u=u.next}while(u!==g)}}catch(J){te(s,s.return,J)}}function V_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{E0(s,o)}catch(u){te(i,i.return,u)}}}function M_(i,s,o){o.props=ha(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){te(i,s,u)}}function iu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){te(i,s,d)}}function bi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){te(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){te(i,s,d)}else o.current=null}function k_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){te(i,i.return,d)}}function Hm(i,s,o){try{var u=i.stateNode;VC(u,i.type,o,s),u[Se]=s}catch(d){te(i,i.return,d)}}function L_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Kr(i.type)||i.tag===4}function Gm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||L_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Kr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Km(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=jh));else if(u!==4&&(u===27&&Kr(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Km(i,s,o),i=i.sibling;i!==null;)Km(i,s,o),i=i.sibling}function Ch(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&Kr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ch(i,s,o),i=i.sibling;i!==null;)Ch(i,s,o),i=i.sibling}function U_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Qe(s,u,o),s[De]=i,s[Se]=o}catch(g){te(i,i.return,g)}}var ir=!1,_e=!1,Ym=!1,j_=typeof WeakSet=="function"?WeakSet:Set,ze=null;function mC(i,s){if(i=i.containerInfo,yp=Kh,i=Xv(i),Gd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,S=-1,I=-1,H=0,J=0,et=i,Y=null;e:for(;;){for(var Q;et!==o||d!==0&&et.nodeType!==3||(S=E+d),et!==g||u!==0&&et.nodeType!==3||(I=E+u),et.nodeType===3&&(E+=et.nodeValue.length),(Q=et.firstChild)!==null;)Y=et,et=Q;for(;;){if(et===i)break e;if(Y===o&&++H===d&&(S=E),Y===g&&++J===u&&(I=E),(Q=et.nextSibling)!==null)break;et=Y,Y=et.parentNode}et=Q}o=S===-1||I===-1?null:{start:S,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(vp={focusedElem:i,selectionRange:o},Kh=!1,ze=s;ze!==null;)if(s=ze,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,ze=i;else for(;ze!==null;){switch(s=ze,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var St=ha(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(St,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){te(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Ep(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ep(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,ze=i;break}ze=s.return}}function B_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:jr(i,o),u&4&&nu(5,o);break;case 1:if(jr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){te(o,o.return,E)}else{var d=ha(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){te(o,o.return,E)}}u&64&&V_(o),u&512&&iu(o,o.return);break;case 3:if(jr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{E0(i,s)}catch(E){te(o,o.return,E)}}break;case 27:s===null&&u&4&&U_(o);case 26:case 5:jr(i,o),s===null&&u&4&&k_(o),u&512&&iu(o,o.return);break;case 12:jr(i,o);break;case 13:jr(i,o),u&4&&q_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=SC.bind(null,o),zC(i,o))));break;case 22:if(u=o.memoizedState!==null||ir,!u){s=s!==null&&s.memoizedState!==null||_e,d=ir;var g=_e;ir=u,(_e=s)&&!g?Br(i,o,(o.subtreeFlags&8772)!==0):jr(i,o),ir=d,_e=g}break;case 30:break;default:jr(i,o)}}function z_(i){var s=i.alternate;s!==null&&(i.alternate=null,z_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Rr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ae=null,yn=!1;function rr(i,s,o){for(o=o.child;o!==null;)F_(i,s,o),o=o.sibling}function F_(i,s,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(de,o)}catch{}switch(o.tag){case 26:_e||bi(o,s),rr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_e||bi(o,s);var u=ae,d=yn;Kr(o.type)&&(ae=o.stateNode,yn=!1),rr(i,s,o),fu(o.stateNode),ae=u,yn=d;break;case 5:_e||bi(o,s);case 6:if(u=ae,d=yn,ae=null,rr(i,s,o),ae=u,yn=d,ae!==null)if(yn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(o.stateNode)}catch(g){te(o,s,g)}else try{ae.removeChild(o.stateNode)}catch(g){te(o,s,g)}break;case 18:ae!==null&&(yn?(i=ae,DT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Tu(i)):DT(ae,o.stateNode));break;case 4:u=ae,d=yn,ae=o.stateNode.containerInfo,yn=!0,rr(i,s,o),ae=u,yn=d;break;case 0:case 11:case 14:case 15:_e||Ur(2,o,s),_e||Ur(4,o,s),rr(i,s,o);break;case 1:_e||(bi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&M_(o,s,u)),rr(i,s,o);break;case 21:rr(i,s,o);break;case 22:_e=(u=_e)||o.memoizedState!==null,rr(i,s,o),_e=u;break;default:rr(i,s,o)}}function q_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tu(i)}catch(o){te(s,s.return,o)}}function pC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new j_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new j_),s;default:throw Error(r(435,i.tag))}}function Qm(i,s){var o=pC(i);s.forEach(function(u){var d=AC.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function xn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,E=s,S=E;t:for(;S!==null;){switch(S.tag){case 27:if(Kr(S.type)){ae=S.stateNode,yn=!1;break t}break;case 5:ae=S.stateNode,yn=!1;break t;case 3:case 4:ae=S.stateNode.containerInfo,yn=!0;break t}S=S.return}if(ae===null)throw Error(r(160));F_(g,E,d),ae=null,yn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)H_(s,i),s=s.sibling}var ei=null;function H_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:xn(s,i),Rn(i),u&4&&(Ur(3,i,i.return),nu(3,i),Ur(5,i,i.return));break;case 1:xn(s,i),Rn(i),u&512&&(_e||o===null||bi(o,o.return)),u&64&&ir&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ei;if(xn(s,i),Rn(i),u&512&&(_e||o===null||bi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Bs]||g[De]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Qe(g,u,o),g[De]=i,ye(g),u=g;break t;case"link":var E=UT("link","href",d).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(g=E[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break e}}g=d.createElement(u),Qe(g,u,o),d.head.appendChild(g);break;case"meta":if(E=UT("meta","content",d).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(g=E[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break e}}g=d.createElement(u),Qe(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[De]=i,ye(g),u=g}i.stateNode=u}else jT(d,i.type,i.stateNode);else i.stateNode=LT(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?jT(d,i.type,i.stateNode):LT(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Hm(i,i.memoizedProps,o.memoizedProps)}break;case 27:xn(s,i),Rn(i),u&512&&(_e||o===null||bi(o,o.return)),o!==null&&u&4&&Hm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(xn(s,i),Rn(i),u&512&&(_e||o===null||bi(o,o.return)),i.flags&32){d=i.stateNode;try{Vn(d,"")}catch(Q){te(i,i.return,Q)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Hm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Ym=!0);break;case 6:if(xn(s,i),Rn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Q){te(i,i.return,Q)}}break;case 3:if(qh=null,d=ei,ei=zh(s.containerInfo),xn(s,i),ei=d,Rn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tu(s.containerInfo)}catch(Q){te(i,i.return,Q)}Ym&&(Ym=!1,G_(i));break;case 4:u=ei,ei=zh(i.stateNode.containerInfo),xn(s,i),Rn(i),ei=u;break;case 12:xn(s,i),Rn(i);break;case 13:xn(s,i),Rn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(tp=On()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Qm(i,u)));break;case 22:d=i.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,H=ir,J=_e;if(ir=H||d,_e=J||I,xn(s,i),_e=J,ir=H,Rn(i),u&8192)t:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||I||ir||_e||fa(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){I=o=s;try{if(g=I.stateNode,d)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=I.stateNode;var et=I.memoizedProps.style,Y=et!=null&&et.hasOwnProperty("display")?et.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){te(I,I.return,Q)}}}else if(s.tag===6){if(o===null){I=s;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(Q){te(I,I.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Qm(i,o))));break;case 19:xn(s,i),Rn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Qm(i,u)));break;case 30:break;case 21:break;default:xn(s,i),Rn(i)}}function Rn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(L_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=Gm(i);Ch(i,g,d);break;case 5:var E=o.stateNode;o.flags&32&&(Vn(E,""),o.flags&=-33);var S=Gm(i);Ch(i,S,E);break;case 3:case 4:var I=o.stateNode.containerInfo,H=Gm(i);Km(i,H,I);break;default:throw Error(r(161))}}catch(J){te(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function G_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;G_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function jr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)B_(i,s.alternate,s),s=s.sibling}function fa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ur(4,s,s.return),fa(s);break;case 1:bi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&M_(s,s.return,o),fa(s);break;case 27:fu(s.stateNode);case 26:case 5:bi(s,s.return),fa(s);break;case 22:s.memoizedState===null&&fa(s);break;case 30:fa(s);break;default:fa(s)}i=i.sibling}}function Br(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Br(d,g,o),nu(4,g);break;case 1:if(Br(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){te(u,u.return,H)}if(u=g,d=u.updateQueue,d!==null){var S=u.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)T0(I[d],S)}catch(H){te(u,u.return,H)}}o&&E&64&&V_(g),iu(g,g.return);break;case 27:U_(g);case 26:case 5:Br(d,g,o),o&&u===null&&E&4&&k_(g),iu(g,g.return);break;case 12:Br(d,g,o);break;case 13:Br(d,g,o),o&&E&4&&q_(d,g);break;case 22:g.memoizedState===null&&Br(d,g,o),iu(g,g.return);break;case 30:break;default:Br(d,g,o)}s=s.sibling}}function $m(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Fl(o))}function Xm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Fl(i))}function Si(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)K_(i,s,o,u),s=s.sibling}function K_(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Si(i,s,o,u),d&2048&&nu(9,s);break;case 1:Si(i,s,o,u);break;case 3:Si(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Fl(i)));break;case 12:if(d&2048){Si(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,S=g.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){te(s,s.return,I)}}else Si(i,s,o,u);break;case 13:Si(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Si(i,s,o,u):ru(i,s):g._visibility&2?Si(i,s,o,u):(g._visibility|=2,yo(i,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&$m(E,s);break;case 24:Si(i,s,o,u),d&2048&&Xm(s.alternate,s);break;default:Si(i,s,o,u)}}function yo(i,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,E=s,S=o,I=u,H=E.flags;switch(E.tag){case 0:case 11:case 15:yo(g,E,S,I,d),nu(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?yo(g,E,S,I,d):ru(g,E):(J._visibility|=2,yo(g,E,S,I,d)),d&&H&2048&&$m(E.alternate,E);break;case 24:yo(g,E,S,I,d),d&&H&2048&&Xm(E.alternate,E);break;default:yo(g,E,S,I,d)}s=s.sibling}}function ru(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:ru(o,u),d&2048&&$m(u.alternate,u);break;case 24:ru(o,u),d&2048&&Xm(u.alternate,u);break;default:ru(o,u)}s=s.sibling}}var su=8192;function vo(i){if(i.subtreeFlags&su)for(i=i.child;i!==null;)Y_(i),i=i.sibling}function Y_(i){switch(i.tag){case 26:vo(i),i.flags&su&&i.memoizedState!==null&&t2(ei,i.memoizedState,i.memoizedProps);break;case 5:vo(i);break;case 3:case 4:var s=ei;ei=zh(i.stateNode.containerInfo),vo(i),ei=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=su,su=16777216,vo(i),su=s):vo(i));break;default:vo(i)}}function Q_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function au(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];ze=u,X_(u,i)}Q_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$_(i),i=i.sibling}function $_(i){switch(i.tag){case 0:case 11:case 15:au(i),i.flags&2048&&Ur(9,i,i.return);break;case 3:au(i);break;case 12:au(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Ih(i)):au(i);break;default:au(i)}}function Ih(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];ze=u,X_(u,i)}Q_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ur(8,s,s.return),Ih(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ih(s));break;default:Ih(s)}i=i.sibling}}function X_(i,s){for(;ze!==null;){var o=ze;switch(o.tag){case 0:case 11:case 15:Ur(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,ze=u;else t:for(o=i;ze!==null;){u=ze;var d=u.sibling,g=u.return;if(z_(u),u===o){ze=null;break t}if(d!==null){d.return=g,ze=d;break t}ze=g}}}var gC={getCacheForType:function(i){var s=tn(Pe),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},yC=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ne=null,Vt=null,Bt=0,Qt=0,Cn=null,zr=!1,_o=!1,Wm=!1,sr=0,pe=0,Fr=0,da=0,Zm=0,qn=0,To=0,ou=null,vn=null,Jm=!1,tp=0,Dh=1/0,Nh=null,qr=null,Ye=0,Hr=null,Eo=null,bo=0,ep=0,np=null,W_=null,lu=0,ip=null;function In(){if((Yt&2)!==0&&Bt!==0)return Bt&-Bt;if(Z.T!==null){var i=lo;return i!==0?i:cp()}return wr()}function Z_(){qn===0&&(qn=(Bt&536870912)===0||qt?yl():536870912);var i=Fn.current;return i!==null&&(i.flags|=32),qn}function Dn(i,s,o){(i===ne&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(So(i,0),Gr(i,Bt,qn,!1)),Li(i,o),((Yt&2)===0||i!==ne)&&(i===ne&&((Yt&2)===0&&(da|=o),pe===4&&Gr(i,Bt,qn,!1)),Ai(i))}function J_(i,s,o){if((Yt&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||js(i,s),d=u?TC(i,s):ap(i,s,!0),g=u;do{if(d===0){_o&&!u&&Gr(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!vC(o)){d=ap(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var S=i;d=ou;var I=S.current.memoizedState.isDehydrated;if(I&&(So(S,E).flags|=256),E=ap(S,E,!1),E!==2){if(Wm&&!I){S.errorRecoveryDisabledLanes|=g,da|=g,d=4;break t}g=vn,vn=d,g!==null&&(vn===null?vn=g:vn.push.apply(vn,g))}d=E}if(g=!1,d!==2)continue}}if(d===1){So(i,0),Gr(i,s,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Gr(u,s,qn,!zr);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=tp+300-On(),10<d)){if(Gr(u,s,qn,!zr),ja(u,0,!0)!==0)break t;u.timeoutHandle=CT(tT.bind(null,u,o,vn,Nh,Jm,s,qn,da,To,zr,g,2,-0,0),d);break t}tT(u,o,vn,Nh,Jm,s,qn,da,To,zr,g,0,-0,0)}}break}while(!0);Ai(i)}function tT(i,s,o,u,d,g,E,S,I,H,J,et,Y,Q){if(i.timeoutHandle=-1,et=s.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(pu={stylesheets:null,count:0,unsuspend:JC},Y_(s),et=e2(),et!==null)){i.cancelPendingCommit=et(oT.bind(null,i,s,g,o,u,d,E,S,I,J,1,Y,Q)),Gr(i,g,E,!H);return}oT(i,s,g,o,u,d,E,S,I)}function vC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!An(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gr(i,s,o,u){s&=~Zm,s&=~da,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-Je(d),E=1<<g;u[g]=-1,d&=~E}o!==0&&ui(i,o,s)}function Oh(){return(Yt&6)===0?(uu(0),!1):!0}function rp(){if(Vt!==null){if(Qt===0)var i=Vt.return;else i=Vt,Wi=oa=null,Em(i),po=null,Jl=0,i=Vt;for(;i!==null;)P_(i.alternate,i),i=i.return;Vt=null}}function So(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,kC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),rp(),ne=i,Vt=o=Qi(i.current,null),Bt=s,Qt=0,Cn=null,zr=!1,_o=js(i,s),Wm=!1,To=qn=Zm=da=Fr=pe=0,vn=ou=null,Jm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-Je(u),g=1<<d;s|=i[d],u&=~g}return sr=s,th(),o}function eT(i,s){Dt=null,Z.H=_h,s===Hl||s===uh?(s=v0(),Qt=3):s===p0?(s=v0(),Qt=4):Qt=s===__?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Cn=s,Vt===null&&(pe=1,Ah(i,Un(s,i.current)))}function nT(){var i=Z.H;return Z.H=_h,i===null?_h:i}function iT(){var i=Z.A;return Z.A=gC,i}function sp(){pe=4,zr||(Bt&4194048)!==Bt&&Fn.current!==null||(_o=!0),(Fr&134217727)===0&&(da&134217727)===0||ne===null||Gr(ne,Bt,qn,!1)}function ap(i,s,o){var u=Yt;Yt|=2;var d=nT(),g=iT();(ne!==i||Bt!==s)&&(Nh=null,So(i,s)),s=!1;var E=pe;t:do try{if(Qt!==0&&Vt!==null){var S=Vt,I=Cn;switch(Qt){case 8:rp(),E=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var H=Qt;if(Qt=0,Cn=null,Ao(i,S,I,H),o&&_o){E=0;break t}break;default:H=Qt,Qt=0,Cn=null,Ao(i,S,I,H)}}_C(),E=pe;break}catch(J){eT(i,J)}while(!0);return s&&i.shellSuspendCounter++,Wi=oa=null,Yt=u,Z.H=d,Z.A=g,Vt===null&&(ne=null,Bt=0,th()),E}function _C(){for(;Vt!==null;)rT(Vt)}function TC(i,s){var o=Yt;Yt|=2;var u=nT(),d=iT();ne!==i||Bt!==s?(Nh=null,Dh=On()+500,So(i,s)):_o=js(i,s);t:do try{if(Qt!==0&&Vt!==null){s=Vt;var g=Cn;e:switch(Qt){case 1:Qt=0,Cn=null,Ao(i,s,g,1);break;case 2:case 9:if(g0(g)){Qt=0,Cn=null,sT(s);break}s=function(){Qt!==2&&Qt!==9||ne!==i||(Qt=7),Ai(i)},g.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:g0(g)?(Qt=0,Cn=null,sT(s)):(Qt=0,Cn=null,Ao(i,s,g,7));break;case 5:var E=null;switch(Vt.tag){case 26:E=Vt.memoizedState;case 5:case 27:var S=Vt;if(!E||BT(E)){Qt=0,Cn=null;var I=S.sibling;if(I!==null)Vt=I;else{var H=S.return;H!==null?(Vt=H,Ph(H)):Vt=null}break e}}Qt=0,Cn=null,Ao(i,s,g,5);break;case 6:Qt=0,Cn=null,Ao(i,s,g,6);break;case 8:rp(),pe=6;break t;default:throw Error(r(462))}}EC();break}catch(J){eT(i,J)}while(!0);return Wi=oa=null,Z.H=u,Z.A=d,Yt=o,Vt!==null?0:(ne=null,Bt=0,th(),pe)}function EC(){for(;Vt!==null&&!dl();)rT(Vt)}function rT(i){var s=N_(i.alternate,i,sr);i.memoizedProps=i.pendingProps,s===null?Ph(i):Vt=s}function sT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=w_(o,s,s.pendingProps,s.type,void 0,Bt);break;case 11:s=w_(o,s,s.pendingProps,s.type.render,s.ref,Bt);break;case 5:Em(s);default:P_(o,s),s=Vt=a0(s,sr),s=N_(o,s,sr)}i.memoizedProps=i.pendingProps,s===null?Ph(i):Vt=s}function Ao(i,s,o,u){Wi=oa=null,Em(s),po=null,Jl=0;var d=s.return;try{if(cC(i,d,s,o,Bt)){pe=1,Ah(i,Un(o,i.current)),Vt=null;return}}catch(g){if(d!==null)throw Vt=d,g;pe=1,Ah(i,Un(o,i.current)),Vt=null;return}s.flags&32768?(qt||u===1?i=!0:_o||(Bt&536870912)!==0?i=!1:(zr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),aT(s,i)):Ph(s)}function Ph(i){var s=i;do{if((s.flags&32768)!==0){aT(s,zr);return}i=s.return;var o=fC(s.alternate,s,sr);if(o!==null){Vt=o;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=i}while(s!==null);pe===0&&(pe=5)}function aT(i,s){do{var o=dC(i.alternate,i);if(o!==null){o.flags&=32767,Vt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=o}while(i!==null);pe=6,Vt=null}function oT(i,s,o,u,d,g,E,S,I){i.cancelPendingCommit=null;do Vh();while(Ye!==0);if((Yt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Xd,_l(i,o,g,E,S,I),i===ne&&(Vt=ne=null,Bt=0),Eo=s,Hr=i,bo=o,ep=g,np=d,W_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,wC(Ms,function(){return fT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,d=at.p,at.p=2,E=Yt,Yt|=4;try{mC(i,s,o)}finally{Yt=E,at.p=d,Z.T=u}}Ye=1,lT(),uT(),cT()}}function lT(){if(Ye===1){Ye=0;var i=Hr,s=Eo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=at.p;at.p=2;var d=Yt;Yt|=4;try{H_(s,i);var g=vp,E=Xv(i.containerInfo),S=g.focusedElem,I=g.selectionRange;if(E!==S&&S&&S.ownerDocument&&$v(S.ownerDocument.documentElement,S)){if(I!==null&&Gd(S)){var H=I.start,J=I.end;if(J===void 0&&(J=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(J,S.value.length);else{var et=S.ownerDocument||document,Y=et&&et.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),St=S.textContent.length,vt=Math.min(I.start,St),Zt=I.end===void 0?vt:Math.min(I.end,St);!Q.extend&&vt>Zt&&(E=Zt,Zt=vt,vt=E);var z=Qv(S,vt),k=Qv(S,Zt);if(z&&k&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var q=et.createRange();q.setStart(z.node,z.offset),Q.removeAllRanges(),vt>Zt?(Q.addRange(q),Q.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),Q.addRange(q))}}}}for(et=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<et.length;S++){var tt=et[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Kh=!!yp,vp=yp=null}finally{Yt=d,at.p=u,Z.T=o}}i.current=s,Ye=2}}function uT(){if(Ye===2){Ye=0;var i=Hr,s=Eo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=at.p;at.p=2;var d=Yt;Yt|=4;try{B_(i,s.alternate,s)}finally{Yt=d,at.p=u,Z.T=o}}Ye=3}}function cT(){if(Ye===4||Ye===3){Ye=0,Ic();var i=Hr,s=Eo,o=bo,u=W_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ye=5:(Ye=0,Eo=Hr=null,hT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(qr=null),Ba(o),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(de,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,d=at.p,at.p=2,Z.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var S=u[E];g(S.value,{componentStack:S.stack})}}finally{Z.T=s,at.p=d}}(bo&3)!==0&&Vh(),Ai(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===ip?lu++:(lu=0,ip=i):lu=0,uu(0)}}function hT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Fl(s)))}function Vh(i){return lT(),uT(),cT(),fT()}function fT(){if(Ye!==5)return!1;var i=Hr,s=ep;ep=0;var o=Ba(bo),u=Z.T,d=at.p;try{at.p=32>o?32:o,Z.T=null,o=np,np=null;var g=Hr,E=bo;if(Ye=0,Eo=Hr=null,bo=0,(Yt&6)!==0)throw Error(r(331));var S=Yt;if(Yt|=4,$_(g.current),K_(g,g.current,E,o),Yt=S,uu(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(de,g)}catch{}return!0}finally{at.p=d,Z.T=u,hT(i,s)}}function dT(i,s,o){s=Un(o,s),s=Mm(i.stateNode,s,2),i=Vr(i,s,2),i!==null&&(Li(i,2),Ai(i))}function te(i,s,o){if(i.tag===3)dT(i,i,o);else for(;s!==null;){if(s.tag===3){dT(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(qr===null||!qr.has(u))){i=Un(o,i),o=y_(2),u=Vr(s,o,2),u!==null&&(v_(o,u,s,i),Li(u,2),Ai(u));break}}s=s.return}}function op(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new yC;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Wm=!0,d.add(o),i=bC.bind(null,i,s,o),s.then(i,i))}function bC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ne===i&&(Bt&o)===o&&(pe===4||pe===3&&(Bt&62914560)===Bt&&300>On()-tp?(Yt&2)===0&&So(i,0):Zm|=o,To===Bt&&(To=0)),Ai(i)}function mT(i,s){s===0&&(s=vl()),i=ro(i,s),i!==null&&(Li(i,s),Ai(i))}function SC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),mT(i,o)}function AC(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),mT(i,o)}function wC(i,s){return Ps(i,s)}var Mh=null,wo=null,lp=!1,kh=!1,up=!1,ma=0;function Ai(i){i!==wo&&i.next===null&&(wo===null?Mh=wo=i:wo=wo.next=i),kh=!0,lp||(lp=!0,RC())}function uu(i,s){if(!up&&kh){up=!0;do for(var o=!1,u=Mh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var E=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-Je(42|i)+1)-1,g&=d&~(E&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,vT(u,g))}else g=Bt,g=ja(u,u===ne?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||js(u,g)||(o=!0,vT(u,g));u=u.next}while(o);up=!1}}function xC(){pT()}function pT(){kh=lp=!1;var i=0;ma!==0&&(MC()&&(i=ma),ma=0);for(var s=On(),o=null,u=Mh;u!==null;){var d=u.next,g=gT(u,s);g===0?(u.next=null,o===null?Mh=d:o.next=d,d===null&&(wo=o)):(o=u,(i!==0||(g&3)!==0)&&(kh=!0)),u=d}uu(i)}function gT(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-Je(g),S=1<<E,I=d[E];I===-1?((S&o)===0||(S&u)!==0)&&(d[E]=gl(S,s)):I<=s&&(i.expiredLanes|=S),g&=~S}if(s=ne,o=Bt,o=ja(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Vs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||js(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Vs(u),Ba(o)){case 2:case 8:o=La;break;case 32:o=Ms;break;case 268435456:o=Ua;break;default:o=Ms}return u=yT.bind(null,i),o=Ps(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Vs(u),i.callbackPriority=2,i.callbackNode=null,2}function yT(i,s){if(Ye!==0&&Ye!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Vh()&&i.callbackNode!==o)return null;var u=Bt;return u=ja(i,i===ne?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(J_(i,u,s),gT(i,On()),i.callbackNode!=null&&i.callbackNode===o?yT.bind(null,i):null)}function vT(i,s){if(Vh())return null;J_(i,s,!0)}function RC(){LC(function(){(Yt&6)!==0?Ps(ml,xC):pT()})}function cp(){return ma===0&&(ma=yl()),ma}function _T(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ka(""+i)}function TT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function CC(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=_T((d[Se]||null).action),E=u.submitter;E&&(s=(s=E[Se]||null)?_T(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var S=new Ya("action","action",null,u,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ma!==0){var I=E?TT(d,E):new FormData(d);Dm(o,{pending:!0,data:I,method:d.method,action:g},null,I)}}else typeof g=="function"&&(S.preventDefault(),I=E?TT(d,E):new FormData(d),Dm(o,{pending:!0,data:I,method:d.method,action:g},g,I))},currentTarget:d}]})}}for(var hp=0;hp<$d.length;hp++){var fp=$d[hp],IC=fp.toLowerCase(),DC=fp[0].toUpperCase()+fp.slice(1);ti(IC,"on"+DC)}ti(Jv,"onAnimationEnd"),ti(t0,"onAnimationIteration"),ti(e0,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(YR,"onTransitionRun"),ti(QR,"onTransitionStart"),ti($R,"onTransitionCancel"),ti(n0,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function ET(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var S=u[E],I=S.instance,H=S.currentTarget;if(S=S.listener,I!==g&&d.isPropagationStopped())break t;g=S,d.currentTarget=H;try{g(d)}catch(J){Sh(J)}d.currentTarget=null,g=I}else for(E=0;E<u.length;E++){if(S=u[E],I=S.instance,H=S.currentTarget,S=S.listener,I!==g&&d.isPropagationStopped())break t;g=S,d.currentTarget=H;try{g(d)}catch(J){Sh(J)}d.currentTarget=null,g=I}}}}function Mt(i,s){var o=s[El];o===void 0&&(o=s[El]=new Set);var u=i+"__bubble";o.has(u)||(bT(s,i,2,!1),o.add(u))}function dp(i,s,o){var u=0;s&&(u|=4),bT(o,i,u,s)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function mp(i){if(!i[Lh]){i[Lh]=!0,bl.forEach(function(o){o!=="selectionchange"&&(NC.has(o)||dp(o,!1,i),dp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Lh]||(s[Lh]=!0,dp("selectionchange",!1,s))}}function bT(i,s,o,u){switch(KT(s)){case 2:var d=r2;break;case 8:d=s2;break;default:d=Cp}o=d.bind(null,s,o,i),d=void 0,!kn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function pp(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===d)break;if(E===4)for(E=u.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;S!==null;){if(E=Ui(S),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){u=g=E;continue t}S=S.parentNode}}u=u.return}jc(function(){var H=g,J=Mn(o),et=[];t:{var Y=i0.get(i);if(Y!==void 0){var Q=Ya,St=i;switch(i){case"keypress":if(pi(o)===0)break t;case"keydown":case"keyup":Q=Ja;break;case"focusin":St="focus",Q=Xa;break;case"focusout":St="blur",Q=Xa;break;case"beforeblur":case"afterblur":Q=Xa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=zd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Yc;break;case Jv:case t0:case e0:Q=Wa;break;case n0:Q=$c;break;case"scroll":case"scrollend":Q=Bc;break;case"wheel":Q=to;break;case"copy":case"cut":case"paste":Q=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Vl;break;case"toggle":case"beforetoggle":Q=Wc}var vt=(s&4)!==0,Zt=!vt&&(i==="scroll"||i==="scrollend"),z=vt?Y!==null?Y+"Capture":null:Y;vt=[];for(var k=H,q;k!==null;){var tt=k;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||z===null||(tt=Ys(k,z),tt!=null&&vt.push(hu(k,tt,q))),Zt)break;k=k.return}0<vt.length&&(Y=new Q(Y,St,null,o,J),et.push({event:Y,listeners:vt}))}}if((s&7)===0){t:{if(Y=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",Y&&o!==Fi&&(St=o.relatedTarget||o.fromElement)&&(Ui(St)||St[Pn]))break t;if((Q||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(St=o.relatedTarget||o.toElement,Q=H,St=St?Ui(St):null,St!==null&&(Zt=l(St),vt=St.tag,St!==Zt||vt!==5&&vt!==27&&vt!==6)&&(St=null)):(Q=null,St=H),Q!==St)){if(vt=Ln,tt="onMouseLeave",z="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(vt=Vl,tt="onPointerLeave",z="onPointerEnter",k="pointer"),Zt=Q==null?Y:hi(Q),q=St==null?Y:hi(St),Y=new vt(tt,k+"leave",Q,o,J),Y.target=Zt,Y.relatedTarget=q,tt=null,Ui(J)===H&&(vt=new vt(z,k+"enter",St,o,J),vt.target=q,vt.relatedTarget=Zt,tt=vt),Zt=tt,Q&&St)e:{for(vt=Q,z=St,k=0,q=vt;q;q=xo(q))k++;for(q=0,tt=z;tt;tt=xo(tt))q++;for(;0<k-q;)vt=xo(vt),k--;for(;0<q-k;)z=xo(z),q--;for(;k--;){if(vt===z||z!==null&&vt===z.alternate)break e;vt=xo(vt),z=xo(z)}vt=null}else vt=null;Q!==null&&ST(et,Y,Q,vt,!1),St!==null&&Zt!==null&&ST(et,Zt,St,vt,!0)}}t:{if(Y=H?hi(H):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var mt=Fv;else if(Oe(Y))if(qv)mt=HR;else{mt=FR;var Pt=zR}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&Rl(H.elementType)&&(mt=Fv):mt=qR;if(mt&&(mt=mt(i,H))){Yi(et,mt,o,J);break t}Pt&&Pt(i,Y,H),i==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&Ir(Y,"number",Y.value)}switch(Pt=H?hi(H):window,i){case"focusin":(Oe(Pt)||Pt.contentEditable==="true")&&(eo=Pt,Kd=H,Ll=null);break;case"focusout":Ll=Kd=eo=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,Wv(et,o,J);break;case"selectionchange":if(KR)break;case"keydown":case"keyup":Wv(et,o,J)}var pt;if(vi)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Ut?$(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(T&&o.locale!=="ko"&&(Ut||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Ut&&(pt=Il()):(mi=J,Dr="value"in mi?mi.value:mi.textContent,Ut=!0)),Pt=Uh(H,_t),0<Pt.length&&(_t=new Ol(_t,i,null,o,J),et.push({event:_t,listeners:Pt}),pt?_t.data=pt:(pt=ut(o),pt!==null&&(_t.data=pt)))),(pt=v?Ne(i,o):jt(i,o))&&(_t=Uh(H,"onBeforeInput"),0<_t.length&&(Pt=new Ol("onBeforeInput","beforeinput",null,o,J),et.push({event:Pt,listeners:_t}),Pt.data=pt)),CC(et,i,H,o,J)}ET(et,s)})}function hu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Uh(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Ys(i,o),d!=null&&u.unshift(hu(i,d,g)),d=Ys(i,s),d!=null&&u.push(hu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function xo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ST(i,s,o,u,d){for(var g=s._reactName,E=[];o!==null&&o!==u;){var S=o,I=S.alternate,H=S.stateNode;if(S=S.tag,I!==null&&I===u)break;S!==5&&S!==26&&S!==27||H===null||(I=H,d?(H=Ys(o,g),H!=null&&E.unshift(hu(o,H,I))):d||(H=Ys(o,g),H!=null&&E.push(hu(o,H,I)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var OC=/\r\n?/g,PC=/\u0000|\uFFFD/g;function AT(i){return(typeof i=="string"?i:""+i).replace(OC,`
`).replace(PC,"")}function wT(i,s){return s=AT(s),AT(i)===s}function jh(){}function Wt(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Vn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Vn(i,""+u);break;case"className":fi(i,"class",u);break;case"tabIndex":fi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(i,o,u);break;case"style":xl(i,u,g);break;case"data":if(s!=="object"){fi(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ka(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Wt(i,s,"name",d.name,d,null),Wt(i,s,"formEncType",d.formEncType,d,null),Wt(i,s,"formMethod",d.formMethod,d,null),Wt(i,s,"formTarget",d.formTarget,d,null)):(Wt(i,s,"encType",d.encType,d,null),Wt(i,s,"method",d.method,d,null),Wt(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ka(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=jh);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ka(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Cr(i,"popover",u);break;case"xlinkActuate":He(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":He(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":He(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":He(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":He(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":He(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":He(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":He(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":He(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Cr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=jd.get(o)||o,Cr(i,o,u))}}function gp(i,s,o,u,d,g){switch(o){case"style":xl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Vn(i,u):(typeof u=="number"||typeof u=="bigint")&&Vn(i,""+u);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=jh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[Se]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Cr(i,o,u)}}}function Qe(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,g,E,o,null)}}d&&Wt(i,s,"srcSet",o.srcSet,o,null),u&&Wt(i,s,"src",o.src,o,null);return;case"input":Mt("invalid",i);var S=g=E=d=null,I=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":d=J;break;case"type":E=J;break;case"checked":I=J;break;case"defaultChecked":H=J;break;case"value":g=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:Wt(i,s,u,J,o,null)}}Hs(i,g,S,I,H,E,d,!1),Ga(i);return;case"select":Mt("invalid",i),u=E=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:Wt(i,s,d,S,o,null)}s=g,o=E,i.multiple=!!u,s!=null?zi(i,!!u,s,!1):o!=null&&zi(i,!!u,o,!0);return;case"textarea":Mt("invalid",i),g=d=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Wt(i,s,E,S,o,null)}Gs(i,u,d,g),Ga(i);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Wt(i,s,I,u,o,null)}return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(u=0;u<cu.length;u++)Mt(cu[u],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,H,u,o,null)}return;default:if(Rl(s)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&gp(i,s,J,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&Wt(i,s,S,u,o,null))}function VC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,E=null,S=null,I=null,H=null,J=null;for(Q in o){var et=o[Q];if(o.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=et;default:u.hasOwnProperty(Q)||Wt(i,s,Q,null,u,et)}}for(var Y in u){var Q=u[Y];if(et=o[Y],u.hasOwnProperty(Y)&&(Q!=null||et!=null))switch(Y){case"type":g=Q;break;case"name":d=Q;break;case"checked":H=Q;break;case"defaultChecked":J=Q;break;case"value":E=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==et&&Wt(i,s,Y,Q,u,et)}}Sn(i,E,S,I,H,J,g,d);return;case"select":Q=E=S=Y=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":Q=I;default:u.hasOwnProperty(g)||Wt(i,s,g,null,u,I)}for(d in u)if(g=u[d],I=o[d],u.hasOwnProperty(d)&&(g!=null||I!=null))switch(d){case"value":Y=g;break;case"defaultValue":S=g;break;case"multiple":E=g;default:g!==I&&Wt(i,s,d,g,u,I)}s=S,o=E,u=Q,Y!=null?zi(i,!!o,Y,!1):!!u!=!!o&&(s!=null?zi(i,!!o,s,!0):zi(i,!!o,o?[]:"",!1));return;case"textarea":Q=Y=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Wt(i,s,S,null,u,d)}for(E in u)if(d=u[E],g=o[E],u.hasOwnProperty(E)&&(d!=null||g!=null))switch(E){case"value":Y=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&Wt(i,s,E,d,u,g)}$t(i,Y,Q);return;case"option":for(var St in o)if(Y=o[St],o.hasOwnProperty(St)&&Y!=null&&!u.hasOwnProperty(St))switch(St){case"selected":i.selected=!1;break;default:Wt(i,s,St,null,u,Y)}for(I in u)if(Y=u[I],Q=o[I],u.hasOwnProperty(I)&&Y!==Q&&(Y!=null||Q!=null))switch(I){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Wt(i,s,I,Y,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)Y=o[vt],o.hasOwnProperty(vt)&&Y!=null&&!u.hasOwnProperty(vt)&&Wt(i,s,vt,null,u,Y);for(H in u)if(Y=u[H],Q=o[H],u.hasOwnProperty(H)&&Y!==Q&&(Y!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Wt(i,s,H,Y,u,Q)}return;default:if(Rl(s)){for(var Zt in o)Y=o[Zt],o.hasOwnProperty(Zt)&&Y!==void 0&&!u.hasOwnProperty(Zt)&&gp(i,s,Zt,void 0,u,Y);for(J in u)Y=u[J],Q=o[J],!u.hasOwnProperty(J)||Y===Q||Y===void 0&&Q===void 0||gp(i,s,J,Y,u,Q);return}}for(var z in o)Y=o[z],o.hasOwnProperty(z)&&Y!=null&&!u.hasOwnProperty(z)&&Wt(i,s,z,null,u,Y);for(et in u)Y=u[et],Q=o[et],!u.hasOwnProperty(et)||Y===Q||Y==null&&Q==null||Wt(i,s,et,Y,u,Q)}var yp=null,vp=null;function Bh(i){return i.nodeType===9?i:i.ownerDocument}function xT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function _p(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Tp=null;function MC(){var i=window.event;return i&&i.type==="popstate"?i===Tp?!1:(Tp=i,!0):(Tp=null,!1)}var CT=typeof setTimeout=="function"?setTimeout:void 0,kC=typeof clearTimeout=="function"?clearTimeout:void 0,IT=typeof Promise=="function"?Promise:void 0,LC=typeof queueMicrotask=="function"?queueMicrotask:typeof IT<"u"?function(i){return IT.resolve(null).then(i).catch(UC)}:CT;function UC(i){setTimeout(function(){throw i})}function Kr(i){return i==="head"}function DT(i,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=i.ownerDocument;if(o&1&&fu(E.documentElement),o&2&&fu(E.body),o&4)for(o=E.head,fu(o),E=o.firstChild;E;){var S=E.nextSibling,I=E.nodeName;E[Bs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=S}}if(d===0){i.removeChild(g),Tu(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Tu(s)}function Ep(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ep(o),Rr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function jC(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Bs])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ni(i.nextSibling),i===null)break}return null}function BC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ni(i.nextSibling),i===null))return null;return i}function bp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function zC(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ni(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Sp=null;function NT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function OT(i,s,o){switch(s=Bh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function fu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Rr(i)}var Hn=new Map,PT=new Set;function zh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ar=at.d;at.d={f:FC,r:qC,D:HC,C:GC,L:KC,m:YC,X:$C,S:QC,M:XC};function FC(){var i=ar.f(),s=Oh();return i||s}function qC(i){var s=ci(i);s!==null&&s.tag===5&&s.type==="form"?J0(s):ar.r(i)}var Ro=typeof document>"u"?null:document;function VT(i,s,o){var u=Ro;if(u&&typeof s=="string"&&s){var d=Ae(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),PT.has(d)||(PT.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Qe(s,"link",i),ye(s),u.head.appendChild(s)))}}function HC(i){ar.D(i),VT("dns-prefetch",i,null)}function GC(i,s){ar.C(i,s),VT("preconnect",i,s)}function KC(i,s,o){ar.L(i,s,o);var u=Ro;if(u&&i&&s){var d='link[rel="preload"][as="'+Ae(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ae(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ae(o.imageSizes)+'"]')):d+='[href="'+Ae(i)+'"]';var g=d;switch(s){case"style":g=Co(i);break;case"script":g=Io(i)}Hn.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Hn.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(du(g))||s==="script"&&u.querySelector(mu(g))||(s=u.createElement("link"),Qe(s,"link",i),ye(s),u.head.appendChild(s)))}}function YC(i,s){ar.m(i,s);var o=Ro;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ae(u)+'"][href="'+Ae(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Io(i)}if(!Hn.has(g)&&(i=y({rel:"modulepreload",href:i},s),Hn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(mu(g)))return}u=o.createElement("link"),Qe(u,"link",i),ye(u),o.head.appendChild(u)}}}function QC(i,s,o){ar.S(i,s,o);var u=Ro;if(u&&i){var d=un(u).hoistableStyles,g=Co(i);s=s||"default";var E=d.get(g);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(du(g)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Hn.get(g))&&Ap(i,o);var I=E=u.createElement("link");ye(I),Qe(I,"link",i),I._p=new Promise(function(H,J){I.onload=H,I.onerror=J}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Fh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:S},d.set(g,E)}}}function $C(i,s){ar.X(i,s);var o=Ro;if(o&&i){var u=un(o).hoistableScripts,d=Io(i),g=u.get(d);g||(g=o.querySelector(mu(d)),g||(i=y({src:i,async:!0},s),(s=Hn.get(d))&&wp(i,s),g=o.createElement("script"),ye(g),Qe(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function XC(i,s){ar.M(i,s);var o=Ro;if(o&&i){var u=un(o).hoistableScripts,d=Io(i),g=u.get(d);g||(g=o.querySelector(mu(d)),g||(i=y({src:i,async:!0,type:"module"},s),(s=Hn.get(d))&&wp(i,s),g=o.createElement("script"),ye(g),Qe(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function MT(i,s,o,u){var d=(d=wt.current)?zh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Co(o.href),o=un(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Co(o.href);var g=un(d).hoistableStyles,E=g.get(i);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=d.querySelector(du(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Hn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Hn.set(i,o),g||WC(d,i,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Io(o),o=un(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Co(i){return'href="'+Ae(i)+'"'}function du(i){return'link[rel="stylesheet"]['+i+"]"}function kT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function WC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Qe(s,"link",o),ye(s),i.head.appendChild(s))}function Io(i){return'[src="'+Ae(i)+'"]'}function mu(i){return"script[async]"+i}function LT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Ae(o.href)+'"]');if(u)return s.instance=u,ye(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ye(u),Qe(u,"style",d),Fh(u,o.precedence,i),s.instance=u;case"stylesheet":d=Co(o.href);var g=i.querySelector(du(d));if(g)return s.state.loading|=4,s.instance=g,ye(g),g;u=kT(o),(d=Hn.get(d))&&Ap(u,d),g=(i.ownerDocument||i).createElement("link"),ye(g);var E=g;return E._p=new Promise(function(S,I){E.onload=S,E.onerror=I}),Qe(g,"link",u),s.state.loading|=4,Fh(g,o.precedence,i),s.instance=g;case"script":return g=Io(o.src),(d=i.querySelector(mu(g)))?(s.instance=d,ye(d),d):(u=o,(d=Hn.get(g))&&(u=y({},o),wp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),ye(d),Qe(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Fh(u,o.precedence,i));return s.instance}function Fh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===s)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Ap(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function wp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var qh=null;function UT(i,s,o){if(qh===null){var u=new Map,d=qh=new Map;d.set(o,u)}else d=qh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Bs]||g[De]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var S=u.get(E);S?S.push(g):u.set(E,[g])}}return u}function jT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function ZC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function BT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var pu=null;function JC(){}function t2(i,s,o){if(pu===null)throw Error(r(475));var u=pu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Co(o.href),g=i.querySelector(du(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Hh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,ye(g);return}g=i.ownerDocument||i,o=kT(o),(d=Hn.get(d))&&Ap(o,d),g=g.createElement("link"),ye(g);var E=g;E._p=new Promise(function(S,I){E.onload=S,E.onerror=I}),Qe(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Hh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function e2(){if(pu===null)throw Error(r(475));var i=pu;return i.stylesheets&&i.count===0&&xp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&xp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Hh(){if(this.count--,this.count===0){if(this.stylesheets)xp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Gh=null;function xp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Gh=new Map,s.forEach(n2,i),Gh=null,Hh.call(i))}function n2(i,s){if(!(s.state.loading&4)){var o=Gh.get(i);if(o)var u=o.get(null);else{o=new Map,Gh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var E=d[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}d=s.instance,E=d.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,d),o.set(E,d),this.count++,u=Hh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var gu={$$typeof:G,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function i2(i,s,o,u,d,g,E,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function zT(i,s,o,u,d,g,E,S,I,H,J,et){return i=new i2(i,s,o,E,S,I,H,et),s=1,g===!0&&(s|=24),g=wn(3,null,null,s),i.current=g,g.stateNode=i,s=om(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},hm(g),i}function FT(i){return i?(i=so,i):so}function qT(i,s,o,u,d,g){d=FT(d),u.context===null?u.context=d:u.pendingContext=d,u=Pr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Vr(i,u,s),o!==null&&(Dn(o,i,s),Kl(o,i,s))}function HT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Rp(i,s){HT(i,s),(i=i.alternate)&&HT(i,s)}function GT(i){if(i.tag===13){var s=ro(i,67108864);s!==null&&Dn(s,i,67108864),Rp(i,67108864)}}var Kh=!0;function r2(i,s,o,u){var d=Z.T;Z.T=null;var g=at.p;try{at.p=2,Cp(i,s,o,u)}finally{at.p=g,Z.T=d}}function s2(i,s,o,u){var d=Z.T;Z.T=null;var g=at.p;try{at.p=8,Cp(i,s,o,u)}finally{at.p=g,Z.T=d}}function Cp(i,s,o,u){if(Kh){var d=Ip(u);if(d===null)pp(i,s,u,Yh,o),YT(i,u);else if(o2(d,i,s,o,u))u.stopPropagation();else if(YT(i,u),s&4&&-1<a2.indexOf(i)){for(;d!==null;){var g=ci(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Wn(g.pendingLanes);if(E!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var I=1<<31-Je(E);S.entanglements[1]|=I,E&=~I}Ai(g),(Yt&6)===0&&(Dh=On()+500,uu(0))}}break;case 13:S=ro(g,2),S!==null&&Dn(S,g,2),Oh(),Rp(g,2)}if(g=Ip(u),g===null&&pp(i,s,u,Yh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else pp(i,s,u,null,o)}}function Ip(i){return i=Mn(i),Dp(i)}var Yh=null;function Dp(i){if(Yh=null,i=Ui(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Yh=i,null}function KT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pd()){case ml:return 2;case La:return 8;case Ms:case Vd:return 32;case Ua:return 268435456;default:return 32}default:return 32}}var Np=!1,Yr=null,Qr=null,$r=null,yu=new Map,vu=new Map,Xr=[],a2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YT(i,s){switch(i){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":yu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(s.pointerId)}}function _u(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ci(s),s!==null&&GT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function o2(i,s,o,u,d){switch(s){case"focusin":return Yr=_u(Yr,i,s,o,u,d),!0;case"dragenter":return Qr=_u(Qr,i,s,o,u,d),!0;case"mouseover":return $r=_u($r,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return yu.set(g,_u(yu.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,vu.set(g,_u(vu.get(g)||null,i,s,o,u,d)),!0}return!1}function QT(i){var s=Ui(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Oc(i.priority,function(){if(o.tag===13){var u=In();u=Ar(u);var d=ro(o,u);d!==null&&Dn(d,o,u),Rp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Qh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Ip(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Fi=u,o.target.dispatchEvent(u),Fi=null}else return s=ci(o),s!==null&&GT(s),i.blockedOn=o,!1;s.shift()}return!0}function $T(i,s,o){Qh(i)&&o.delete(s)}function l2(){Np=!1,Yr!==null&&Qh(Yr)&&(Yr=null),Qr!==null&&Qh(Qr)&&(Qr=null),$r!==null&&Qh($r)&&($r=null),yu.forEach($T),vu.forEach($T)}function $h(i,s){i.blockedOn===s&&(i.blockedOn=null,Np||(Np=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,l2)))}var Xh=null;function XT(i){Xh!==i&&(Xh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Xh===i&&(Xh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(Dp(u||o)===null)continue;break}var g=ci(o);g!==null&&(i.splice(s,3),s-=3,Dm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Tu(i){function s(I){return $h(I,i)}Yr!==null&&$h(Yr,i),Qr!==null&&$h(Qr,i),$r!==null&&$h($r,i),yu.forEach(s),vu.forEach(s);for(var o=0;o<Xr.length;o++){var u=Xr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Xr.length&&(o=Xr[0],o.blockedOn===null);)QT(o),o.blockedOn===null&&Xr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],E=d[Se]||null;if(typeof g=="function")E||XT(o);else if(E){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,E=g[Se]||null)S=E.formAction;else if(Dp(d)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),XT(o)}}}function Op(i){this._internalRoot=i}Wh.prototype.render=Op.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=In();qT(o,u,i,s,null,null)},Wh.prototype.unmount=Op.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;qT(i.current,2,null,i,null,null),Oh(),s[Pn]=null}};function Wh(i){this._internalRoot=i}Wh.prototype.unstable_scheduleHydration=function(i){if(i){var s=wr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Xr.length&&s!==0&&s<Xr[o].priority;o++);Xr.splice(o,0,i),o===0&&QT(i)}};var WT=t.version;if(WT!=="19.1.0")throw Error(r(527,WT,"19.1.0"));at.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var u2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{de=Zh.inject(u2),Kt=Zh}catch{}}return bu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=d_,g=m_,E=p_,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=zT(i,1,!1,null,null,o,u,d,g,E,S,null),i[Pn]=s.current,mp(i),new Op(s)},bu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=d_,E=m_,S=p_,I=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),s=zT(i,1,!0,s,o??null,u,d,g,E,S,I,H),s.context=FT(null),o=s.current,u=In(),u=Ar(u),d=Pr(u),d.callback=null,Vr(o,d,u),o=u,s.current.lanes=o,Li(s,o),Ai(s),i[Pn]=s.current,mp(i),new Wh(s)},bu.version="19.1.0",bu}var oE;function T2(){if(oE)return Mp.exports;oE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mp.exports=_2(),Mp.exports}var E2=T2();const b2=fA(E2);dA();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gu.apply(this,arguments)}var ss;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ss||(ss={}));const lE="popstate";function S2(e){e===void 0&&(e={});function t(r,a){let{pathname:l,search:c,hash:f}=r.location;return cg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Rf(a)}return w2(t,n,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function A2(){return Math.random().toString(36).substr(2,8)}function uE(e,t){return{usr:e.state,key:e.key,idx:t}}function cg(e,t,n,r){return n===void 0&&(n=null),Gu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?el(t):t,{state:n,key:t&&t.key||r||A2()})}function Rf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function el(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function w2(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f=ss.Pop,m=null,p=y();p==null&&(p=0,c.replaceState(Gu({},c.state,{idx:p}),""));function y(){return(c.state||{idx:null}).idx}function _(){f=ss.Pop;let M=y(),K=M==null?null:M-p;p=M,m&&m({action:f,location:L.location,delta:K})}function b(M,K){f=ss.Push;let W=cg(L.location,M,K);p=y()+1;let G=uE(W,p),st=L.createHref(W);try{c.pushState(G,"",st)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(st)}l&&m&&m({action:f,location:L.location,delta:1})}function x(M,K){f=ss.Replace;let W=cg(L.location,M,K);p=y();let G=uE(W,p),st=L.createHref(W);c.replaceState(G,"",st),l&&m&&m({action:f,location:L.location,delta:0})}function P(M){let K=a.location.origin!=="null"?a.location.origin:a.location.href,W=typeof M=="string"?M:Rf(M);return W=W.replace(/ $/,"%20"),be(K,"No window.location.(origin|href) available to create URL for href: "+W),new URL(W,K)}let L={get action(){return f},get location(){return e(a,c)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(lE,_),m=M,()=>{a.removeEventListener(lE,_),m=null}},createHref(M){return t(a,M)},createURL:P,encodeLocation(M){let K=P(M);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:b,replace:x,go(M){return c.go(M)}};return L}var cE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cE||(cE={}));function x2(e,t,n){return n===void 0&&(n="/"),R2(e,t,n)}function R2(e,t,n,r){let a=typeof t=="string"?el(t):t,l=uy(a.pathname||"/",n);if(l==null)return null;let c=pA(e);C2(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=B2(l);f=L2(c[m],p)}return f}function pA(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(be(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let p=os([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(be(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),pA(l.children,t,y,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:M2(p,l.index),routesMeta:y})};return e.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of gA(l.path))a(l,c,m)}),t}function gA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=gA(r.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function C2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:k2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const I2=/^:[\w-]+$/,D2=3,N2=2,O2=1,P2=10,V2=-2,hE=e=>e==="*";function M2(e,t){let n=e.split("/"),r=n.length;return n.some(hE)&&(r+=V2),t&&(r+=N2),n.filter(a=>!hE(a)).reduce((a,l)=>a+(I2.test(l)?D2:l===""?O2:P2),r)}function k2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function L2(e,t,n){let{routesMeta:r}=e,a={},l="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=U2({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:os([l,_.pathname]),pathnameBase:H2(os([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=os([l,_.pathnameBase]))}return c}function U2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=j2(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,y,_)=>{let{paramName:b,isOptional:x}=y;if(b==="*"){let L=f[_]||"";c=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const P=f[_];return x&&!P?p[b]=void 0:p[b]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function j2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),mA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function B2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function uy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function z2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?el(e):e;return{pathname:n?n.startsWith("/")?n:F2(n,t):t,search:G2(r),hash:K2(a)}}function F2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function jp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cy(e,t){let n=q2(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hy(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=el(e):(a=Gu({},e),be(!a.pathname||!a.pathname.includes("?"),jp("?","pathname","search",a)),be(!a.pathname||!a.pathname.includes("#"),jp("#","pathname","hash",a)),be(!a.search||!a.search.includes("#"),jp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?t[_]:"/"}let m=z2(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}const os=e=>e.join("/").replace(/\/\/+/g,"/"),H2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,K2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Y2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yA=["post","put","patch","delete"];new Set(yA);const Q2=["get",...yA];new Set(Q2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ku.apply(this,arguments)}const fy=j.createContext(null),$2=j.createContext(null),ws=j.createContext(null),rd=j.createContext(null),Tr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),vA=j.createContext(null);function X2(e,t){let{relative:n}=t===void 0?{}:t;nl()||be(!1);let{basename:r,navigator:a}=j.useContext(ws),{hash:l,pathname:c,search:f}=TA(e,{relative:n}),m=c;return r!=="/"&&(m=c==="/"?r:os([r,c])),a.createHref({pathname:m,search:f,hash:l})}function nl(){return j.useContext(rd)!=null}function cc(){return nl()||be(!1),j.useContext(rd).location}function _A(e){j.useContext(ws).static||j.useLayoutEffect(e)}function hc(){let{isDataRoute:e}=j.useContext(Tr);return e?hI():W2()}function W2(){nl()||be(!1);let e=j.useContext(fy),{basename:t,future:n,navigator:r}=j.useContext(ws),{matches:a}=j.useContext(Tr),{pathname:l}=cc(),c=JSON.stringify(cy(a,n.v7_relativeSplatPath)),f=j.useRef(!1);return _A(()=>{f.current=!0}),j.useCallback(function(p,y){if(y===void 0&&(y={}),!f.current)return;if(typeof p=="number"){r.go(p);return}let _=hy(p,JSON.parse(c),l,y.relative==="path");e==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:os([t,_.pathname])),(y.replace?r.replace:r.push)(_,y.state,y)},[t,r,c,l,e])}const Z2=j.createContext(null);function J2(e){let t=j.useContext(Tr).outlet;return t&&j.createElement(Z2.Provider,{value:e},t)}function TA(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=j.useContext(ws),{matches:a}=j.useContext(Tr),{pathname:l}=cc(),c=JSON.stringify(cy(a,r.v7_relativeSplatPath));return j.useMemo(()=>hy(e,JSON.parse(c),l,n==="path"),[e,c,l,n])}function tI(e,t){return eI(e,t)}function eI(e,t,n,r){nl()||be(!1);let{navigator:a,static:l}=j.useContext(ws),{matches:c}=j.useContext(Tr),f=c[c.length-1],m=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let y=cc(),_;if(t){var b;let K=typeof t=="string"?el(t):t;p==="/"||(b=K.pathname)!=null&&b.startsWith(p)||be(!1),_=K}else _=y;let x=_.pathname||"/",P=x;if(p!=="/"){let K=p.replace(/^\//,"").split("/");P="/"+x.replace(/^\//,"").split("/").slice(K.length).join("/")}let L=x2(e,{pathname:P}),M=aI(L&&L.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:os([p,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?p:os([p,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),c,n,r);return t&&M?j.createElement(rd.Provider,{value:{location:Ku({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:ss.Pop}},M):M}function nI(){let e=cI(),t=Y2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,null)}const iI=j.createElement(nI,null);class rI extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(Tr.Provider,{value:this.props.routeContext},j.createElement(vA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sI(e){let{routeContext:t,match:n,children:r}=e,a=j.useContext(fy);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Tr.Provider,{value:t},r)}function aI(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,f=(a=n)==null?void 0:a.errors;if(f!=null){let y=c.findIndex(_=>_.route.id&&(f==null?void 0:f[_.route.id])!==void 0);y>=0||be(!1),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:b,errors:x}=n,P=_.route.loader&&b[_.route.id]===void 0&&(!x||x[_.route.id]===void 0);if(_.route.lazy||P){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((y,_,b)=>{let x,P=!1,L=null,M=null;n&&(x=f&&_.route.id?f[_.route.id]:void 0,L=_.route.errorElement||iI,m&&(p<0&&b===0?(fI("route-fallback"),P=!0,M=null):p===b&&(P=!0,M=_.route.hydrateFallbackElement||null)));let K=t.concat(c.slice(0,b+1)),W=()=>{let G;return x?G=L:P?G=M:_.route.Component?G=j.createElement(_.route.Component,null):_.route.element?G=_.route.element:G=y,j.createElement(sI,{match:_,routeContext:{outlet:y,matches:K,isDataRoute:n!=null},children:G})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?j.createElement(rI,{location:n.location,revalidation:n.revalidation,component:L,error:x,children:W(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):W()},null)}var EA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(EA||{}),bA=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bA||{});function oI(e){let t=j.useContext(fy);return t||be(!1),t}function lI(e){let t=j.useContext($2);return t||be(!1),t}function uI(e){let t=j.useContext(Tr);return t||be(!1),t}function SA(e){let t=uI(),n=t.matches[t.matches.length-1];return n.route.id||be(!1),n.route.id}function cI(){var e;let t=j.useContext(vA),n=lI(),r=SA();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function hI(){let{router:e}=oI(EA.UseNavigateStable),t=SA(bA.UseNavigateStable),n=j.useRef(!1);return _A(()=>{n.current=!0}),j.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ku({fromRouteId:t},l)))},[e,t])}const fE={};function fI(e,t,n){fE[e]||(fE[e]=!0)}function dI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function hf(e){let{to:t,replace:n,state:r,relative:a}=e;nl()||be(!1);let{future:l,static:c}=j.useContext(ws),{matches:f}=j.useContext(Tr),{pathname:m}=cc(),p=hc(),y=hy(t,cy(f,l.v7_relativeSplatPath),m,a==="path"),_=JSON.stringify(y);return j.useEffect(()=>p(JSON.parse(_),{replace:n,state:r,relative:a}),[p,_,a,n,r]),null}function mI(e){return J2(e.context)}function lr(e){be(!1)}function pI(e){let{basename:t="/",children:n=null,location:r,navigationType:a=ss.Pop,navigator:l,static:c=!1,future:f}=e;nl()&&be(!1);let m=t.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:m,navigator:l,static:c,future:Ku({v7_relativeSplatPath:!1},f)}),[m,f,l,c]);typeof r=="string"&&(r=el(r));let{pathname:y="/",search:_="",hash:b="",state:x=null,key:P="default"}=r,L=j.useMemo(()=>{let M=uy(y,m);return M==null?null:{location:{pathname:M,search:_,hash:b,state:x,key:P},navigationType:a}},[m,y,_,b,x,P,a]);return L==null?null:j.createElement(ws.Provider,{value:p},j.createElement(rd.Provider,{children:n,value:L}))}function gI(e){let{children:t,location:n}=e;return tI(hg(t),n)}new Promise(()=>{});function hg(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(r,a)=>{if(!j.isValidElement(r))return;let l=[...t,a];if(r.type===j.Fragment){n.push.apply(n,hg(r.props.children,l));return}r.type!==lr&&be(!1),!r.props.index||!r.props.children||be(!1);let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=hg(r.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fg.apply(this,arguments)}function yI(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,l;for(l=0;l<r.length;l++)a=r[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function vI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _I(e,t){return e.button===0&&(!t||t==="_self")&&!vI(e)}const TI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EI="6";try{window.__reactRouterVersion=EI}catch{}const bI="startTransition",dE=p2[bI];function SI(e){let{basename:t,children:n,future:r,window:a}=e,l=j.useRef();l.current==null&&(l.current=S2({window:a,v5Compat:!0}));let c=l.current,[f,m]=j.useState({action:c.action,location:c.location}),{v7_startTransition:p}=r||{},y=j.useCallback(_=>{p&&dE?dE(()=>m(_)):m(_)},[m,p]);return j.useLayoutEffect(()=>c.listen(y),[c,y]),j.useEffect(()=>dI(r),[r]),j.createElement(pI,{basename:t,children:n,location:f.location,navigationType:f.action,navigator:c,future:r})}const AI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ri=j.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_}=t,b=yI(t,TI),{basename:x}=j.useContext(ws),P,L=!1;if(typeof p=="string"&&wI.test(p)&&(P=p,AI))try{let G=new URL(window.location.href),st=p.startsWith("//")?new URL(G.protocol+p):new URL(p),X=uy(st.pathname,x);st.origin===G.origin&&X!=null?p=X+st.search+st.hash:L=!0}catch{}let M=X2(p,{relative:a}),K=xI(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function W(G){r&&r(G),G.defaultPrevented||K(G)}return j.createElement("a",fg({},b,{href:P||M,onClick:L||l?r:W,ref:n,target:m}))});var mE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mE||(mE={}));var pE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pE||(pE={}));function xI(e,t){let{target:n,replace:r,state:a,preventScrollReset:l,relative:c,viewTransition:f}=t===void 0?{}:t,m=hc(),p=cc(),y=TA(e,{relative:c});return j.useCallback(_=>{if(_I(_,n)){_.preventDefault();let b=r!==void 0?r:Rf(p)===Rf(y);m(e,{replace:b,state:a,preventScrollReset:l,relative:c,viewTransition:f})}},[p,m,y,r,a,n,e,l,c,f])}let RI={data:""},CI=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||RI,II=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,DI=/\/\*[^]*?\*\/|  +/g,gE=/\n+/g,ts=(e,t)=>{let n="",r="",a="";for(let l in e){let c=e[l];l[0]=="@"?l[1]=="i"?n=l+" "+c+";":r+=l[1]=="f"?ts(c,l):l+"{"+ts(c,l[1]=="k"?"":t)+"}":typeof c=="object"?r+=ts(c,t?t.replace(/([^,])+/g,f=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,f):f?f+" "+m:m)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ts.p?ts.p(l,c):l+":"+c+";")}return n+(t&&a?t+"{"+a+"}":a)+r},or={},AA=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+AA(e[n]);return t}return e},NI=(e,t,n,r,a)=>{let l=AA(e),c=or[l]||(or[l]=(m=>{let p=0,y=11;for(;p<m.length;)y=101*y+m.charCodeAt(p++)>>>0;return"go"+y})(l));if(!or[c]){let m=l!==e?e:(p=>{let y,_,b=[{}];for(;y=II.exec(p.replace(DI,""));)y[4]?b.shift():y[3]?(_=y[3].replace(gE," ").trim(),b.unshift(b[0][_]=b[0][_]||{})):b[0][y[1]]=y[2].replace(gE," ").trim();return b[0]})(e);or[c]=ts(a?{["@keyframes "+c]:m}:m,n?"":"."+c)}let f=n&&or.g?or.g:null;return n&&(or.g=or[c]),((m,p,y,_)=>{_?p.data=p.data.replace(_,m):p.data.indexOf(m)===-1&&(p.data=y?m+p.data:p.data+m)})(or[c],t,r,f),c},OI=(e,t,n)=>e.reduce((r,a,l)=>{let c=t[l];if(c&&c.call){let f=c(n),m=f&&f.props&&f.props.className||/^go/.test(f)&&f;c=m?"."+m:f&&typeof f=="object"?f.props?"":ts(f,""):f===!1?"":f}return r+a+(c??"")},"");function sd(e){let t=this||{},n=e.call?e(t.p):e;return NI(n.unshift?n.raw?OI(n,[].slice.call(arguments,1),t.p):n.reduce((r,a)=>Object.assign(r,a&&a.call?a(t.p):a),{}):n,CI(t.target),t.g,t.o,t.k)}let wA,dg,mg;sd.bind({g:1});let dr=sd.bind({k:1});function PI(e,t,n,r){ts.p=t,wA=e,dg=n,mg=r}function xs(e,t){let n=this||{};return function(){let r=arguments;function a(l,c){let f=Object.assign({},l),m=f.className||a.className;n.p=Object.assign({theme:dg&&dg()},f),n.o=/ *go\d+/.test(m),f.className=sd.apply(n,r)+(m?" "+m:"");let p=e;return e[0]&&(p=f.as||e,delete f.as),mg&&p[0]&&mg(f),wA(p,f)}return a}}var VI=e=>typeof e=="function",Cf=(e,t)=>VI(e)?e(t):e,MI=(()=>{let e=0;return()=>(++e).toString()})(),xA=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),kI=20,RA=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,kI)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return RA(e,{type:e.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},ff=[],Ta={toasts:[],pausedAt:void 0},Pa=e=>{Ta=RA(Ta,e),ff.forEach(t=>{t(Ta)})},LI={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},UI=(e={})=>{let[t,n]=j.useState(Ta),r=j.useRef(Ta);j.useEffect(()=>(r.current!==Ta&&n(Ta),ff.push(n),()=>{let l=ff.indexOf(n);l>-1&&ff.splice(l,1)}),[]);let a=t.toasts.map(l=>{var c,f,m;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((c=e[l.type])==null?void 0:c.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((f=e[l.type])==null?void 0:f.duration)||(e==null?void 0:e.duration)||LI[l.type],style:{...e.style,...(m=e[l.type])==null?void 0:m.style,...l.style}}});return{...t,toasts:a}},jI=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||MI()}),fc=e=>(t,n)=>{let r=jI(t,e,n);return Pa({type:2,toast:r}),r.id},dn=(e,t)=>fc("blank")(e,t);dn.error=fc("error");dn.success=fc("success");dn.loading=fc("loading");dn.custom=fc("custom");dn.dismiss=e=>{Pa({type:3,toastId:e})};dn.remove=e=>Pa({type:4,toastId:e});dn.promise=(e,t,n)=>{let r=dn.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let l=t.success?Cf(t.success,a):void 0;return l?dn.success(l,{id:r,...n,...n==null?void 0:n.success}):dn.dismiss(r),a}).catch(a=>{let l=t.error?Cf(t.error,a):void 0;l?dn.error(l,{id:r,...n,...n==null?void 0:n.error}):dn.dismiss(r)}),e};var BI=(e,t)=>{Pa({type:1,toast:{id:e,height:t}})},zI=()=>{Pa({type:5,time:Date.now()})},Pu=new Map,FI=1e3,qI=(e,t=FI)=>{if(Pu.has(e))return;let n=setTimeout(()=>{Pu.delete(e),Pa({type:4,toastId:e})},t);Pu.set(e,n)},HI=e=>{let{toasts:t,pausedAt:n}=UI(e);j.useEffect(()=>{if(n)return;let l=Date.now(),c=t.map(f=>{if(f.duration===1/0)return;let m=(f.duration||0)+f.pauseDuration-(l-f.createdAt);if(m<0){f.visible&&dn.dismiss(f.id);return}return setTimeout(()=>dn.dismiss(f.id),m)});return()=>{c.forEach(f=>f&&clearTimeout(f))}},[t,n]);let r=j.useCallback(()=>{n&&Pa({type:6,time:Date.now()})},[n]),a=j.useCallback((l,c)=>{let{reverseOrder:f=!1,gutter:m=8,defaultPosition:p}=c||{},y=t.filter(x=>(x.position||p)===(l.position||p)&&x.height),_=y.findIndex(x=>x.id===l.id),b=y.filter((x,P)=>P<_&&x.visible).length;return y.filter(x=>x.visible).slice(...f?[b+1]:[0,b]).reduce((x,P)=>x+(P.height||0)+m,0)},[t]);return j.useEffect(()=>{t.forEach(l=>{if(l.dismissed)qI(l.id,l.removeDelay);else{let c=Pu.get(l.id);c&&(clearTimeout(c),Pu.delete(l.id))}})},[t]),{toasts:t,handlers:{updateHeight:BI,startPause:zI,endPause:r,calculateOffset:a}}},GI=dr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,KI=dr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YI=dr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,QI=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${GI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${KI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${YI} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$I=dr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,XI=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${$I} 1s linear infinite;
`,WI=dr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ZI=dr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,JI=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ZI} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tD=xs("div")`
  position: absolute;
`,eD=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nD=dr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,iD=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,rD=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?j.createElement(iD,null,t):t:n==="blank"?null:j.createElement(eD,null,j.createElement(XI,{...r}),n!=="loading"&&j.createElement(tD,null,n==="error"?j.createElement(QI,{...r}):j.createElement(JI,{...r})))},sD=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,aD=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,oD="0%{opacity:0;} 100%{opacity:1;}",lD="0%{opacity:1;} 100%{opacity:0;}",uD=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,cD=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hD=(e,t)=>{let n=e.includes("top")?1:-1,[r,a]=xA()?[oD,lD]:[sD(n),aD(n)];return{animation:t?`${dr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${dr(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},fD=j.memo(({toast:e,position:t,style:n,children:r})=>{let a=e.height?hD(e.position||t||"top-center",e.visible):{opacity:0},l=j.createElement(rD,{toast:e}),c=j.createElement(cD,{...e.ariaProps},Cf(e.message,e));return j.createElement(uD,{className:e.className,style:{...a,...n,...e.style}},typeof r=="function"?r({icon:l,message:c}):j.createElement(j.Fragment,null,l,c))});PI(j.createElement);var dD=({id:e,className:t,style:n,onHeightUpdate:r,children:a})=>{let l=j.useCallback(c=>{if(c){let f=()=>{let m=c.getBoundingClientRect().height;r(e,m)};f(),new MutationObserver(f).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return j.createElement("div",{ref:l,className:t,style:n},a)},mD=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:xA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...a}},pD=sd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Jh=16,gD=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:a,containerStyle:l,containerClassName:c})=>{let{toasts:f,handlers:m}=HI(n);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Jh,left:Jh,right:Jh,bottom:Jh,pointerEvents:"none",...l},className:c,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map(p=>{let y=p.position||t,_=m.calculateOffset(p,{reverseOrder:e,gutter:r,defaultPosition:t}),b=mD(y,_);return j.createElement(dD,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?pD:"",style:b},p.type==="custom"?Cf(p.message,p):a?a(p):j.createElement(fD,{toast:p,position:y}))}))},It=dn;const yD=()=>{};var yE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},vD=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},IA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,x=p&63;m||(x=64,c||(b=64)),r.push(n[y],n[_],n[b],n[x])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(CA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):vD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new _D;const b=l<<2|f>>4;if(r.push(b),p!==64){const x=f<<4&240|p>>2;if(r.push(x),_!==64){const P=p<<6&192|_;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _D extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TD=function(e){const t=CA(e);return IA.encodeByteArray(t,!0)},If=function(e){return TD(e).replace(/\./g,"")},DA=function(e){try{return IA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=()=>ED().__FIREBASE_DEFAULTS__,SD=()=>{if(typeof process>"u"||typeof yE>"u")return;const e=yE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},AD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&DA(e[1]);return t&&JSON.parse(t)},ad=()=>{try{return yD()||bD()||SD()||AD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},NA=e=>{var t,n;return(n=(t=ad())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},wD=e=>{const t=NA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},OA=()=>{var e;return(e=ad())===null||e===void 0?void 0:e.config},PA=e=>{var t;return(t=ad())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[If(JSON.stringify(n)),If(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function ID(){var e;const t=(e=ad())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ND(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function OD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PD(){const e=ln();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function VD(){return!ID()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MD(){try{return typeof indexedDB=="object"}catch{return!1}}function kD(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="FirebaseError";class Er extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=LD,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?UD(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Er(a,f,r)}}function UD(e,t){return e.replace(jD,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const jD=/\{\$([^}]+)}/g;function BD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ra(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(vE(l)&&vE(c)){if(!Ra(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function vE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function wu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function xu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function zD(e,t){const n=new FD(e,t);return n.subscribe.bind(n)}class FD{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qD(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=Bp),a.error===void 0&&(a.error=Bp),a.complete===void 0&&(a.complete=Bp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qD(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Bp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e){return e&&e._delegate?e._delegate:e}class Ca{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new xD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(KD(t))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=ya){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ya){return this.instances.has(t)}getOptions(t=ya){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(t,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GD(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ya){return this.component?this.component.multipleInstances?t:ya:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GD(e){return e===ya?void 0:e}function KD(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new HD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(kt||(kt={}));const QD={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},$D=kt.INFO,XD={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},WD=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=XD[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dy{constructor(t){this.name=t,this._logLevel=$D,this._logHandler=WD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?QD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const ZD=(e,t)=>t.some(n=>e instanceof n);let _E,TE;function JD(){return _E||(_E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tN(){return TE||(TE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VA=new WeakMap,pg=new WeakMap,MA=new WeakMap,zp=new WeakMap,my=new WeakMap;function eN(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(ls(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&VA.set(n,e)}).catch(()=>{}),my.set(t,e),t}function nN(e){if(pg.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});pg.set(e,t)}let gg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return pg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||MA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function iN(e){gg=e(gg)}function rN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Fp(this),t,...n);return MA.set(r,t.sort?t.sort():[t]),ls(r)}:tN().includes(e)?function(...t){return e.apply(Fp(this),t),ls(VA.get(this))}:function(...t){return ls(e.apply(Fp(this),t))}}function sN(e){return typeof e=="function"?rN(e):(e instanceof IDBTransaction&&nN(e),ZD(e,JD())?new Proxy(e,gg):e)}function ls(e){if(e instanceof IDBRequest)return eN(e);if(zp.has(e))return zp.get(e);const t=sN(e);return t!==e&&(zp.set(e,t),my.set(t,e)),t}const Fp=e=>my.get(e);function aN(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=ls(c);return r&&c.addEventListener("upgradeneeded",m=>{r(ls(c.result),m.oldVersion,m.newVersion,ls(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const oN=["get","getKey","getAll","getAllKeys","count"],lN=["put","add","delete","clear"],qp=new Map;function EE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(qp.get(t))return qp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=lN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||oN.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return qp.set(t,l),l}iN(e=>({...e,get:(t,n,r)=>EE(t,n)||e.get(t,n,r),has:(t,n)=>!!EE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cN(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const yg="@firebase/app",bE="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new dy("@firebase/app"),hN="@firebase/app-compat",fN="@firebase/analytics-compat",dN="@firebase/analytics",mN="@firebase/app-check-compat",pN="@firebase/app-check",gN="@firebase/auth",yN="@firebase/auth-compat",vN="@firebase/database",_N="@firebase/data-connect",TN="@firebase/database-compat",EN="@firebase/functions",bN="@firebase/functions-compat",SN="@firebase/installations",AN="@firebase/installations-compat",wN="@firebase/messaging",xN="@firebase/messaging-compat",RN="@firebase/performance",CN="@firebase/performance-compat",IN="@firebase/remote-config",DN="@firebase/remote-config-compat",NN="@firebase/storage",ON="@firebase/storage-compat",PN="@firebase/firestore",VN="@firebase/vertexai",MN="@firebase/firestore-compat",kN="firebase",LN="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="[DEFAULT]",UN={[yg]:"fire-core",[hN]:"fire-core-compat",[dN]:"fire-analytics",[fN]:"fire-analytics-compat",[pN]:"fire-app-check",[mN]:"fire-app-check-compat",[gN]:"fire-auth",[yN]:"fire-auth-compat",[vN]:"fire-rtdb",[_N]:"fire-data-connect",[TN]:"fire-rtdb-compat",[EN]:"fire-fn",[bN]:"fire-fn-compat",[SN]:"fire-iid",[AN]:"fire-iid-compat",[wN]:"fire-fcm",[xN]:"fire-fcm-compat",[RN]:"fire-perf",[CN]:"fire-perf-compat",[IN]:"fire-rc",[DN]:"fire-rc-compat",[NN]:"fire-gcs",[ON]:"fire-gcs-compat",[PN]:"fire-fst",[MN]:"fire-fst-compat",[VN]:"fire-vertex","fire-js":"fire-js",[kN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map,jN=new Map,_g=new Map;function SE(e,t){try{e.container.addComponent(t)}catch(n){mr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ho(e){const t=e.name;if(_g.has(t))return mr.debug(`There were multiple attempts to register component ${t}.`),!1;_g.set(t,e);for(const n of Df.values())SE(n,e);for(const n of jN.values())SE(n,e);return!0}function py(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Yn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new dc("app","Firebase",BN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=LN;function kA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:vg,automaticDataCollectionEnabled:!1},t),a=r.name;if(typeof a!="string"||!a)throw us.create("bad-app-name",{appName:String(a)});if(n||(n=OA()),!n)throw us.create("no-options");const l=Df.get(a);if(l){if(Ra(n,l.options)&&Ra(r,l.config))return l;throw us.create("duplicate-app",{appName:a})}const c=new YD(a);for(const m of _g.values())c.addComponent(m);const f=new zN(n,r,c);return Df.set(a,f),f}function LA(e=vg){const t=Df.get(e);if(!t&&e===vg&&OA())return kA();if(!t)throw us.create("no-app",{appName:e});return t}function cs(e,t,n){var r;let a=(r=UN[e])!==null&&r!==void 0?r:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mr.warn(f.join(" "));return}Ho(new Ca(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="firebase-heartbeat-database",qN=1,Yu="firebase-heartbeat-store";let Hp=null;function UA(){return Hp||(Hp=aN(FN,qN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Yu)}catch(n){console.warn(n)}}}}).catch(e=>{throw us.create("idb-open",{originalErrorMessage:e.message})})),Hp}async function HN(e){try{const n=(await UA()).transaction(Yu),r=await n.objectStore(Yu).get(jA(e));return await n.done,r}catch(t){if(t instanceof Er)mr.warn(t.message);else{const n=us.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});mr.warn(n.message)}}}async function AE(e,t){try{const r=(await UA()).transaction(Yu,"readwrite");await r.objectStore(Yu).put(t,jA(e)),await r.done}catch(n){if(n instanceof Er)mr.warn(n.message);else{const r=us.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(r.message)}}}function jA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1024,KN=30;class YN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $N(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=wE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>KN){const c=XN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){mr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wE(),{heartbeatsToSend:r,unsentEntries:a}=QN(this._heartbeatsCache.heartbeats),l=If(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return mr.warn(n),""}}}function wE(){return new Date().toISOString().substring(0,10)}function QN(e,t=GN){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),xE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),xE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $N{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MD()?kD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return AE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return AE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function xE(e){return If(JSON.stringify({version:2,heartbeats:e})).length}function XN(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(e){Ho(new Ca("platform-logger",t=>new uN(t),"PRIVATE")),Ho(new Ca("heartbeat",t=>new YN(t),"PRIVATE")),cs(yg,bE,e),cs(yg,bE,"esm2017"),cs("fire-js","")}WN("");function gy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function BA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZN=BA,zA=new dc("auth","Firebase",BA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new dy("@firebase/auth");function JN(e,...t){Nf.logLevel<=kt.WARN&&Nf.warn(`Auth (${il}): ${e}`,...t)}function df(e,...t){Nf.logLevel<=kt.ERROR&&Nf.error(`Auth (${il}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(e,...t){throw yy(e,...t)}function xi(e,...t){return yy(e,...t)}function FA(e,t,n){const r=Object.assign(Object.assign({},ZN()),{[t]:n});return new dc("auth","Firebase",r).create(t,{appName:e.name})}function fr(e){return FA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yy(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return zA.create(e,...t)}function Tt(e,t,...n){if(!e)throw yy(t,...n)}function ur(e){const t="INTERNAL ASSERTION FAILED: "+e;throw df(t),new Error(t)}function pr(e,t){e||ur(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function tO(){return RE()==="http:"||RE()==="https:"}function RE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tO()||ND()||"connection"in navigator)?navigator.onLine:!0}function nO(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n){this.shortDelay=t,this.longDelay=n,pr(n>t,"Short delay should be less than long delay!"),this.isMobile=CD()||OD()}get(){return eO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(e,t){pr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sO=new pc(3e4,6e4);function br(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Vi(e,t,n,r,a={}){return HA(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const f=mc(Object.assign({key:e.config.apiKey},c)).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p=Object.assign({method:t,headers:m},l);return DD()||(p.referrerPolicy="no-referrer"),qA.fetch()(await GA(e,e.config.apiHost,n,f),p)})}async function HA(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},iO),t);try{const a=new oO(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw tf(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw tf(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw tf(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw FA(e,y,p);ai(e,y)}}catch(a){if(a instanceof Er)throw a;ai(e,"network-request-failed",{message:String(a)})}}async function gc(e,t,n,r,a={}){const l=await Vi(e,t,n,r,a);return"mfaPendingCredential"in l&&ai(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function GA(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?vy(e.config,a):`${e.config.apiScheme}://${a}`;return rO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function aO(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),sO.get())})}}function tf(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=xi(e,t,r);return a.customData._tokenResponse=n,a}function CE(e){return e!==void 0&&e.enterprise!==void 0}class lO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return aO(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uO(e,t){return Vi(e,"GET","/v2/recaptchaConfig",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(e,t){return Vi(e,"POST","/v1/accounts:delete",t)}async function Of(e,t){return Vi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hO(e,t=!1){const n=Ie(e),r=await n.getIdToken(t),a=_y(r);Tt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Vu(Gp(a.auth_time)),issuedAtTime:Vu(Gp(a.iat)),expirationTime:Vu(Gp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Gp(e){return Number(e)*1e3}function _y(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{const a=DA(n);return a?JSON.parse(a):(df("Failed to decode base64 JWT payload"),null)}catch(a){return df("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function IE(e){const t=_y(e);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Er&&fO(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function fO({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(e){var t;const n=e.auth,r=await e.getIdToken(),a=await Go(e,Of(n,{idToken:r}));Tt(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?KA(l.providerUserInfo):[],f=pO(e.providerData,c),m=e.isAnonymous,p=!(e.email&&l.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Eg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(e,_)}async function mO(e){const t=Ie(e);await Pf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pO(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function KA(e){return e.map(t=>{var{providerId:n}=t,r=gy(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(e,t){const n=await HA(e,{},async()=>{const r=mc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await GA(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",qA.fetch()(c,{method:"POST",headers:f,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yO(e,t){return Vi(e,"POST","/v2/accounts:revokeToken",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):IE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=IE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await gO(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Bo;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(Tt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Tt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(e,t){Tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class si{constructor(t){var{uid:n,auth:r,stsTokenManager:a}=t,l=gy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Eg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Go(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return hO(this,t)}reload(){return mO(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new si(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Pf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(fr(this.auth));const t=await this.getIdToken();return await Go(this,cO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,a,l,c,f,m,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(a=n.email)!==null&&a!==void 0?a:void 0,x=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,P=(c=n.photoURL)!==null&&c!==void 0?c:void 0,L=(f=n.tenantId)!==null&&f!==void 0?f:void 0,M=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,K=(p=n.createdAt)!==null&&p!==void 0?p:void 0,W=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:G,emailVerified:st,isAnonymous:X,providerData:ct,stsTokenManager:N}=n;Tt(G&&N,t,"internal-error");const R=Bo.fromJSON(this.name,N);Tt(typeof G=="string",t,"internal-error"),Zr(_,t.name),Zr(b,t.name),Tt(typeof st=="boolean",t,"internal-error"),Tt(typeof X=="boolean",t,"internal-error"),Zr(x,t.name),Zr(P,t.name),Zr(L,t.name),Zr(M,t.name),Zr(K,t.name),Zr(W,t.name);const C=new si({uid:G,auth:t,email:b,emailVerified:st,displayName:_,isAnonymous:X,photoURL:P,phoneNumber:x,tenantId:L,stsTokenManager:R,createdAt:K,lastLoginAt:W});return ct&&Array.isArray(ct)&&(C.providerData=ct.map(V=>Object.assign({},V))),M&&(C._redirectEventId=M),C}static async _fromIdTokenResponse(t,n,r=!1){const a=new Bo;a.updateFromServerResponse(n);const l=new si({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Pf(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];Tt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?KA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Bo;f.updateFromIdToken(r);const m=new si({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Eg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function cr(e){pr(e instanceof Function,"Expected a class definition");let t=DE.get(e);return t?(pr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,DE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}YA.type="NONE";const NE=YA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(e,t,n){return`firebase:${e}:${t}:${n}`}class zo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=mf(this.userKey,a.apiKey,l),this.fullPersistenceKey=mf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Of(this.auth,{idToken:t}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new zo(cr(NE),t,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||cr(NE);const c=mf(r,t.config.apiKey,t.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const b=await Of(t,{idToken:y}).catch(()=>{});if(!b)break;_=await si._fromGetAccountInfoResponse(t,b,y)}else _=si._fromJSON(t,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new zo(l,t,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new zo(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(QA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(JA(t))return"Blackberry";if(tw(t))return"Webos";if($A(t))return"Safari";if((t.includes("chrome/")||XA(t))&&!t.includes("edge/"))return"Chrome";if(ZA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function QA(e=ln()){return/firefox\//i.test(e)}function $A(e=ln()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function XA(e=ln()){return/crios\//i.test(e)}function WA(e=ln()){return/iemobile/i.test(e)}function ZA(e=ln()){return/android/i.test(e)}function JA(e=ln()){return/blackberry/i.test(e)}function tw(e=ln()){return/webos/i.test(e)}function Ty(e=ln()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vO(e=ln()){var t;return Ty(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _O(){return PD()&&document.documentMode===10}function ew(e=ln()){return Ty(e)||ZA(e)||tw(e)||JA(e)||/windows phone/i.test(e)||WA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(e,t=[]){let n;switch(e){case"Browser":n=OE(ln());break;case"Worker":n=`${OE(ln())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${il}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(e,t={}){return Vi(e,"GET","/v2/passwordPolicy",br(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=6;class SO{constructor(t){var n,r,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:bO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PE(this),this.idTokenSubscription=new PE(this),this.beforeStateQueue=new TO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await zo.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Of(this,{idToken:t}),r=await si._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Pf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=nO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(fr(this));const n=t?Ie(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await EO(this),n=new SO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new dc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yO(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&cr(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&JN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rs(e){return Ie(e)}class PE{constructor(t){this.auth=t,this.observer=null,this.addObserver=zD(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wO(e){od=e}function iw(e){return od.loadJS(e)}function xO(){return od.recaptchaEnterpriseScript}function RO(){return od.gapiScript}function CO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class IO{constructor(){this.enterprise=new DO}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class DO{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const NO="recaptcha-enterprise",rw="NO_RECAPTCHA";class OO{constructor(t){this.type=NO,this.auth=Rs(t)}async verify(t="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{uO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new lO(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;CE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(rw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!n&&CE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=xO();m.length!==0&&(m+=f),iw(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function VE(e,t,n,r=!1,a=!1){const l=new OO(e);let c;if(a)c=rw;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Vf(e,t,n,r,a){var l;if(!((l=e._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await VE(e,t,n,n==="getOobCode");return r(e,c)}else return r(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await VE(e,t,n,n==="getOobCode");return r(e,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(e,t){const n=py(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ra(l,t??{}))return a;ai(a,"already-initialized")}return n.initialize({options:t})}function VO(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function MO(e,t,n){const r=Rs(e);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=sw(t),{host:c,port:f}=kO(t),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(Ra(p,r.config.emulator)&&Ra(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,LO()}function sw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function kO(e){const t=sw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:ME(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:ME(c)}}}function ME(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function LO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(t){return ur("not implemented")}_linkToIdToken(t,n){return ur("not implemented")}_getReauthenticationResolver(t){return ur("not implemented")}}async function UO(e,t){return Vi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(e,t){return gc(e,"POST","/v1/accounts:signInWithPassword",br(e,t))}async function BO(e,t){return Vi(e,"POST","/v1/accounts:sendOobCode",br(e,t))}async function zO(e,t){return BO(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(e,t){return gc(e,"POST","/v1/accounts:signInWithEmailLink",br(e,t))}async function qO(e,t){return gc(e,"POST","/v1/accounts:signInWithEmailLink",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends Ey{constructor(t,n,r,a=null){super("password",r),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new Qu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Qu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vf(t,n,"signInWithPassword",jO);case"emailLink":return FO(t,{email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vf(t,r,"signUpPassword",UO);case"emailLink":return qO(t,{idToken:n,email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(e,t){return gc(e,"POST","/v1/accounts:signInWithIdp",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="http://localhost";class Ia extends Ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=n,l=gy(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Ia(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Fo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Fo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Fo(t,n)}buildRequest(){const t={requestUri:HO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=mc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KO(e){const t=wu(xu(e)).link,n=t?wu(xu(t)).deep_link_id:null,r=wu(xu(e)).deep_link_id;return(r?wu(xu(r)).link:null)||r||n||t||e}class by{constructor(t){var n,r,a,l,c,f;const m=wu(xu(t)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,_=GO((a=m.mode)!==null&&a!==void 0?a:null);Tt(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(t){const n=KO(t);try{return new by(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(t,n){return Qu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=by.parseLink(n);return Tt(r,"argument-error"),Qu._fromEmailAndCode(t,r.code,r.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends aw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends yc{constructor(){super("facebook.com")}static credential(t){return Ia._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return es.credential(t.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ia._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ns.credential(n,r)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends yc{constructor(){super("github.com")}static credential(t){return Ia._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return is.credential(t.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends yc{constructor(){super("twitter.com")}static credential(t,n){return Ia._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(e,t){return gc(e,"POST","/v1/accounts:signUp",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await si._fromIdTokenResponse(t,r,a),c=kE(r);return new Da({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=kE(r);return new Da({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function kE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends Er{constructor(t,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new Mf(t,n,r,a)}}function ow(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(e,l,t,r):l})}async function QO(e,t,n=!1){const r=await Go(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Da._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(e,t,n=!1){const{auth:r}=e;if(Yn(r.app))return Promise.reject(fr(r));const a="reauthenticate";try{const l=await Go(e,ow(r,a,t,e),n);Tt(l.idToken,r,"internal-error");const c=_y(l.idToken);Tt(c,r,"internal-error");const{sub:f}=c;return Tt(e.uid===f,r,"user-mismatch"),Da._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ai(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(e,t,n=!1){if(Yn(e.app))return Promise.reject(fr(e));const r="signIn",a=await ow(e,r,t),l=await Da._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}async function XO(e,t){return lw(Rs(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(e){const t=Rs(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function WO(e,t,n){const r=Rs(e);await Vf(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",zO)}async function ZO(e,t,n){if(Yn(e.app))return Promise.reject(fr(e));const r=Rs(e),c=await Vf(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&uw(e),m}),f=await Da._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function JO(e,t,n){return Yn(e.app)?Promise.reject(fr(e)):XO(Ie(e),rl.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uw(e),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(e,t){return Vi(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=Ie(e),l={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},c=await Go(r,tP(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function eP(e,t,n,r){return Ie(e).onIdTokenChanged(t,n,r)}function nP(e,t,n){return Ie(e).beforeAuthStateChanged(t,n)}function iP(e,t,n,r){return Ie(e).onAuthStateChanged(t,n,r)}function rP(e){return Ie(e).signOut()}const kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=1e3,aP=10;class hw extends cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ew(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);_O()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,aP):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},sP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}hw.type="LOCAL";const oP=hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}fw.type="SESSION";const dw=fw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new ld(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await lP(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ld.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=Sy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function cP(e){Ri().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function hP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fP(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function dP(){return mw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="firebaseLocalStorageDb",mP=1,Lf="firebaseLocalStorage",gw="fbase_key";class vc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ud(e,t){return e.transaction([Lf],t?"readwrite":"readonly").objectStore(Lf)}function pP(){const e=indexedDB.deleteDatabase(pw);return new vc(e).toPromise()}function bg(){const e=indexedDB.open(pw,mP);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Lf,{keyPath:gw})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Lf)?t(r):(r.close(),await pP(),t(await bg()))})})}async function UE(e,t,n){const r=ud(e,!0).put({[gw]:t,value:n});return new vc(r).toPromise()}async function gP(e,t){const n=ud(e,!1).get(t),r=await new vc(n).toPromise();return r===void 0?null:r.value}function jE(e,t){const n=ud(e,!0).delete(t);return new vc(n).toPromise()}const yP=800,vP=3;class yw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>vP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ld._getInstance(dP()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await hP(),!this.activeServiceWorker)return;this.sender=new uP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bg();return await UE(t,kf,"1"),await jE(t,kf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>UE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>gP(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>jE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=ud(a,!1).getAll();return new vc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yw.type="LOCAL";const _P=yw;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(e,t){return t?cr(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay extends Ey{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Fo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Fo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function EP(e){return lw(e.auth,new Ay(e),e.bypassAuthState)}function bP(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),$O(n,new Ay(e),e.bypassAuthState)}async function SP(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),QO(n,new Ay(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return EP;case"linkViaPopup":case"linkViaRedirect":return SP;case"reauthViaPopup":case"reauthViaRedirect":return bP;default:ai(this.auth,"internal-error")}}resolve(t){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new pc(2e3,1e4);class Vo extends vw{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const t=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,AP.get())};t()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="pendingRedirect",pf=new Map;class xP extends vw{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=pf.get(this.auth._key());if(!t){try{const r=await RP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}pf.set(this.auth._key(),t)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RP(e,t){const n=DP(t),r=IP(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function CP(e,t){pf.set(e._key(),t)}function IP(e){return cr(e._redirectPersistence)}function DP(e){return mf(wP,e.config.apiKey,e.name)}async function NP(e,t,n=!1){if(Yn(e.app))return Promise.reject(fr(e));const r=Rs(e),a=TP(r,t),c=await new xP(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=10*60*1e3;class PP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VP(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!_w(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xi(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=OP&&this.cachedEventUids.clear(),this.cachedEventUids.has(BE(t))}saveEventToCache(t){this.cachedEventUids.add(BE(t)),this.lastProcessedEventTime=Date.now()}}function BE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function _w({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function VP(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _w(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(e,t={}){return Vi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LP=/^https?/;async function UP(e){if(e.config.emulator)return;const{authorizedDomains:t}=await MP(e);for(const n of t)try{if(jP(n))return}catch{}ai(e,"unauthorized-domain")}function jP(e){const t=Tg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!LP.test(n))return!1;if(kP.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=new pc(3e4,6e4);function zE(){const e=Ri().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function zP(e){return new Promise((t,n)=>{var r,a,l;function c(){zE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zE(),n(xi(e,"network-request-failed"))},timeout:BP.get()})}if(!((a=(r=Ri().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Ri().gapi)===null||l===void 0)&&l.load)c();else{const f=CO("iframefcb");return Ri()[f]=()=>{gapi.load?c():n(xi(e,"network-request-failed"))},iw(`${RO()}?onload=${f}`).catch(m=>n(m))}}).catch(t=>{throw gf=null,t})}let gf=null;function FP(e){return gf=gf||zP(e),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=new pc(5e3,15e3),HP="__/auth/iframe",GP="emulator/auth/iframe",KP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QP(e){const t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vy(t,GP):`https://${e.config.authDomain}/${HP}`,r={apiKey:t.apiKey,appName:e.name,v:il},a=YP.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${mc(r).slice(1)}`}async function $P(e){const t=await FP(e),n=Ri().gapi;return Tt(n,e,"internal-error"),t.open({where:document.body,url:QP(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KP,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=xi(e,"network-request-failed"),f=Ri().setTimeout(()=>{l(c)},qP.get());function m(){Ri().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WP=500,ZP=600,JP="_blank",tV="http://localhost";class FE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eV(e,t,n,r=WP,a=ZP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},XP),{width:r.toString(),height:a.toString(),top:l,left:c}),p=ln().toLowerCase();n&&(f=XA(p)?JP:n),QA(p)&&(t=t||tV,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[x,P])=>`${b}${x}=${P},`,"");if(vO(p)&&f!=="_self")return nV(t||"",f),new FE(null);const _=window.open(t||"",f,y);Tt(_,e,"popup-blocked");try{_.focus()}catch{}return new FE(_)}function nV(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="__/auth/handler",rV="emulator/auth/handler",sV=encodeURIComponent("fac");async function qE(e,t,n,r,a,l){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:il,eventId:a};if(t instanceof aw){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",BD(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof yc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await e._getAppCheckToken(),p=m?`#${sV}=${encodeURIComponent(m)}`:"";return`${aV(e)}?${mc(f).slice(1)}${p}`}function aV({config:e}){return e.emulator?vy(e,rV):`https://${e.authDomain}/${iV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="webStorageSupport";class oV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dw,this._completeRedirectFn=NP,this._overrideRedirectResult=CP}async _openPopup(t,n,r,a){var l;pr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await qE(t,n,r,Tg(),a);return eV(t,c,Sy())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await qE(t,n,r,Tg(),a);return cP(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(pr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await $P(t),r=new PP(t);return n.register("authEvent",a=>(Tt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Kp,{type:Kp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Kp];c!==void 0&&n(!!c),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UP(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ew()||$A()||Ty()}}const lV=oV;var HE="@firebase/auth",GE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hV(e){Ho(new Ca("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nw(e)},p=new AO(r,a,l,m);return VO(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ho(new Ca("auth-internal",t=>{const n=Rs(t.getProvider("auth").getImmediate());return(r=>new uV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs(HE,GE,cV(e)),cs(HE,GE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=5*60,dV=PA("authIdTokenMaxAge")||fV;let KE=null;const mV=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dV)return;const a=n==null?void 0:n.token;KE!==a&&(KE=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function pV(e=LA()){const t=py(e,"auth");if(t.isInitialized())return t.getImmediate();const n=PO(e,{popupRedirectResolver:lV,persistence:[_P,oP,dw]}),r=PA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=mV(l.toString());nP(n,c,()=>c(n.currentUser)),eP(n,f=>c(f))}}const a=NA("auth");return a&&MO(n,`http://${a}`),n}function gV(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}wO({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=xi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",gV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hV("Browser");var yV="firebase",vV="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs(yV,vV,"app");var YE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,Tw;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,R){function C(){}C.prototype=R.prototype,N.D=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(V,U,B){for(var D=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)D[fe-2]=arguments[fe];return R.prototype[U].apply(V,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,R,C){C||(C=0);var V=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)V[U]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(U=0;16>U;++U)V[U]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],U=N.g[2];var B=N.g[3],D=R+(B^C&(U^B))+V[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=B+(U^R&(C^U))+V[1]+3905402710&4294967295,B=R+(D<<12&4294967295|D>>>20),D=U+(C^B&(R^C))+V[2]+606105819&4294967295,U=B+(D<<17&4294967295|D>>>15),D=C+(R^U&(B^R))+V[3]+3250441966&4294967295,C=U+(D<<22&4294967295|D>>>10),D=R+(B^C&(U^B))+V[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=B+(U^R&(C^U))+V[5]+1200080426&4294967295,B=R+(D<<12&4294967295|D>>>20),D=U+(C^B&(R^C))+V[6]+2821735955&4294967295,U=B+(D<<17&4294967295|D>>>15),D=C+(R^U&(B^R))+V[7]+4249261313&4294967295,C=U+(D<<22&4294967295|D>>>10),D=R+(B^C&(U^B))+V[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=B+(U^R&(C^U))+V[9]+2336552879&4294967295,B=R+(D<<12&4294967295|D>>>20),D=U+(C^B&(R^C))+V[10]+4294925233&4294967295,U=B+(D<<17&4294967295|D>>>15),D=C+(R^U&(B^R))+V[11]+2304563134&4294967295,C=U+(D<<22&4294967295|D>>>10),D=R+(B^C&(U^B))+V[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=B+(U^R&(C^U))+V[13]+4254626195&4294967295,B=R+(D<<12&4294967295|D>>>20),D=U+(C^B&(R^C))+V[14]+2792965006&4294967295,U=B+(D<<17&4294967295|D>>>15),D=C+(R^U&(B^R))+V[15]+1236535329&4294967295,C=U+(D<<22&4294967295|D>>>10),D=R+(U^B&(C^U))+V[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=B+(C^U&(R^C))+V[6]+3225465664&4294967295,B=R+(D<<9&4294967295|D>>>23),D=U+(R^C&(B^R))+V[11]+643717713&4294967295,U=B+(D<<14&4294967295|D>>>18),D=C+(B^R&(U^B))+V[0]+3921069994&4294967295,C=U+(D<<20&4294967295|D>>>12),D=R+(U^B&(C^U))+V[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=B+(C^U&(R^C))+V[10]+38016083&4294967295,B=R+(D<<9&4294967295|D>>>23),D=U+(R^C&(B^R))+V[15]+3634488961&4294967295,U=B+(D<<14&4294967295|D>>>18),D=C+(B^R&(U^B))+V[4]+3889429448&4294967295,C=U+(D<<20&4294967295|D>>>12),D=R+(U^B&(C^U))+V[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=B+(C^U&(R^C))+V[14]+3275163606&4294967295,B=R+(D<<9&4294967295|D>>>23),D=U+(R^C&(B^R))+V[3]+4107603335&4294967295,U=B+(D<<14&4294967295|D>>>18),D=C+(B^R&(U^B))+V[8]+1163531501&4294967295,C=U+(D<<20&4294967295|D>>>12),D=R+(U^B&(C^U))+V[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=B+(C^U&(R^C))+V[2]+4243563512&4294967295,B=R+(D<<9&4294967295|D>>>23),D=U+(R^C&(B^R))+V[7]+1735328473&4294967295,U=B+(D<<14&4294967295|D>>>18),D=C+(B^R&(U^B))+V[12]+2368359562&4294967295,C=U+(D<<20&4294967295|D>>>12),D=R+(C^U^B)+V[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=B+(R^C^U)+V[8]+2272392833&4294967295,B=R+(D<<11&4294967295|D>>>21),D=U+(B^R^C)+V[11]+1839030562&4294967295,U=B+(D<<16&4294967295|D>>>16),D=C+(U^B^R)+V[14]+4259657740&4294967295,C=U+(D<<23&4294967295|D>>>9),D=R+(C^U^B)+V[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=B+(R^C^U)+V[4]+1272893353&4294967295,B=R+(D<<11&4294967295|D>>>21),D=U+(B^R^C)+V[7]+4139469664&4294967295,U=B+(D<<16&4294967295|D>>>16),D=C+(U^B^R)+V[10]+3200236656&4294967295,C=U+(D<<23&4294967295|D>>>9),D=R+(C^U^B)+V[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=B+(R^C^U)+V[0]+3936430074&4294967295,B=R+(D<<11&4294967295|D>>>21),D=U+(B^R^C)+V[3]+3572445317&4294967295,U=B+(D<<16&4294967295|D>>>16),D=C+(U^B^R)+V[6]+76029189&4294967295,C=U+(D<<23&4294967295|D>>>9),D=R+(C^U^B)+V[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=B+(R^C^U)+V[12]+3873151461&4294967295,B=R+(D<<11&4294967295|D>>>21),D=U+(B^R^C)+V[15]+530742520&4294967295,U=B+(D<<16&4294967295|D>>>16),D=C+(U^B^R)+V[2]+3299628645&4294967295,C=U+(D<<23&4294967295|D>>>9),D=R+(U^(C|~B))+V[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=B+(C^(R|~U))+V[7]+1126891415&4294967295,B=R+(D<<10&4294967295|D>>>22),D=U+(R^(B|~C))+V[14]+2878612391&4294967295,U=B+(D<<15&4294967295|D>>>17),D=C+(B^(U|~R))+V[5]+4237533241&4294967295,C=U+(D<<21&4294967295|D>>>11),D=R+(U^(C|~B))+V[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=B+(C^(R|~U))+V[3]+2399980690&4294967295,B=R+(D<<10&4294967295|D>>>22),D=U+(R^(B|~C))+V[10]+4293915773&4294967295,U=B+(D<<15&4294967295|D>>>17),D=C+(B^(U|~R))+V[1]+2240044497&4294967295,C=U+(D<<21&4294967295|D>>>11),D=R+(U^(C|~B))+V[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=B+(C^(R|~U))+V[15]+4264355552&4294967295,B=R+(D<<10&4294967295|D>>>22),D=U+(R^(B|~C))+V[6]+2734768916&4294967295,U=B+(D<<15&4294967295|D>>>17),D=C+(B^(U|~R))+V[13]+1309151649&4294967295,C=U+(D<<21&4294967295|D>>>11),D=R+(U^(C|~B))+V[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=B+(C^(R|~U))+V[11]+3174756917&4294967295,B=R+(D<<10&4294967295|D>>>22),D=U+(R^(B|~C))+V[2]+718787259&4294967295,U=B+(D<<15&4294967295|D>>>17),D=C+(B^(U|~R))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+B&4294967295}r.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var C=R-this.blockSize,V=this.B,U=this.h,B=0;B<R;){if(U==0)for(;B<=C;)a(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<R;)if(V[U++]=N.charCodeAt(B++),U==this.blockSize){a(this,V),U=0;break}}else for(;B<R;)if(V[U++]=N[B++],U==this.blockSize){a(this,V),U=0;break}}this.h=U,this.o+=R},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var C=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=C&255,C/=256;for(this.u(N),N=Array(16),R=C=0;4>R;++R)for(var V=0;32>V;V+=8)N[C++]=this.g[R]>>>V&255;return N};function l(N,R){var C=f;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function c(N,R){this.h=R;for(var C=[],V=!0,U=N.length-1;0<=U;U--){var B=N[U]|0;V&&B==R||(C[U]=B,V=!1)}this.g=C}var f={};function m(N){return-128<=N&&128>N?l(N,function(R){return new c([R|0],0>R?-1:0)}):new c([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return M(p(-N));for(var R=[],C=1,V=0;N>=C;V++)R[V]=N/C|0,C*=4294967296;return new c(R,0)}function y(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return M(y(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(R,8)),V=_,U=0;U<N.length;U+=8){var B=Math.min(8,N.length-U),D=parseInt(N.substring(U,U+B),R);8>B?(B=p(Math.pow(R,B)),V=V.j(B).add(p(D))):(V=V.j(C),V=V.add(p(D)))}return V}var _=m(0),b=m(1),x=m(16777216);e=c.prototype,e.m=function(){if(L(this))return-M(this).m();for(var N=0,R=1,C=0;C<this.g.length;C++){var V=this.i(C);N+=(0<=V?V:4294967296+V)*R,R*=4294967296}return N},e.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(P(this))return"0";if(L(this))return"-"+M(this).toString(N);for(var R=p(Math.pow(N,6)),C=this,V="";;){var U=st(C,R).g;C=K(C,U.j(R));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=U,P(C))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},e.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function P(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function L(N){return N.h==-1}e.l=function(N){return N=K(this,N),L(N)?-1:P(N)?0:1};function M(N){for(var R=N.g.length,C=[],V=0;V<R;V++)C[V]=~N.g[V];return new c(C,~N.h).add(b)}e.abs=function(){return L(this)?M(this):this},e.add=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],V=0,U=0;U<=R;U++){var B=V+(this.i(U)&65535)+(N.i(U)&65535),D=(B>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);V=D>>>16,B&=65535,D&=65535,C[U]=D<<16|B}return new c(C,C[C.length-1]&-2147483648?-1:0)};function K(N,R){return N.add(M(R))}e.j=function(N){if(P(this)||P(N))return _;if(L(this))return L(N)?M(this).j(M(N)):M(M(this).j(N));if(L(N))return M(this.j(M(N)));if(0>this.l(x)&&0>N.l(x))return p(this.m()*N.m());for(var R=this.g.length+N.g.length,C=[],V=0;V<2*R;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<N.g.length;U++){var B=this.i(V)>>>16,D=this.i(V)&65535,fe=N.i(U)>>>16,ie=N.i(U)&65535;C[2*V+2*U]+=D*ie,W(C,2*V+2*U),C[2*V+2*U+1]+=B*ie,W(C,2*V+2*U+1),C[2*V+2*U+1]+=D*fe,W(C,2*V+2*U+1),C[2*V+2*U+2]+=B*fe,W(C,2*V+2*U+2)}for(V=0;V<R;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=R;V<2*R;V++)C[V]=0;return new c(C,0)};function W(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function G(N,R){this.g=N,this.h=R}function st(N,R){if(P(R))throw Error("division by zero");if(P(N))return new G(_,_);if(L(N))return R=st(M(N),R),new G(M(R.g),M(R.h));if(L(R))return R=st(N,M(R)),new G(M(R.g),R.h);if(30<N.g.length){if(L(N)||L(R))throw Error("slowDivide_ only works with positive integers.");for(var C=b,V=R;0>=V.l(N);)C=X(C),V=X(V);var U=ct(C,1),B=ct(V,1);for(V=ct(V,2),C=ct(C,2);!P(V);){var D=B.add(V);0>=D.l(N)&&(U=U.add(C),B=D),V=ct(V,1),C=ct(C,1)}return R=K(N,U.j(R)),new G(U,R)}for(U=_;0<=N.l(R);){for(C=Math.max(1,Math.floor(N.m()/R.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=p(C),D=B.j(R);L(D)||0<D.l(N);)C-=V,B=p(C),D=B.j(R);P(B)&&(B=b),U=U.add(B),N=K(N,D)}return new G(U,N)}e.A=function(N){return st(this,N).h},e.and=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],V=0;V<R;V++)C[V]=this.i(V)&N.i(V);return new c(C,this.h&N.h)},e.or=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],V=0;V<R;V++)C[V]=this.i(V)|N.i(V);return new c(C,this.h|N.h)},e.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],V=0;V<R;V++)C[V]=this.i(V)^N.i(V);return new c(C,this.h^N.h)};function X(N){for(var R=N.g.length+1,C=[],V=0;V<R;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new c(C,N.h)}function ct(N,R){var C=R>>5;R%=32;for(var V=N.g.length-C,U=[],B=0;B<V;B++)U[B]=0<R?N.i(B+C)>>>R|N.i(B+C+1)<<32-R:N.i(B+C);return new c(U,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Tw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,hs=c}).apply(typeof YE<"u"?YE:typeof self<"u"?self:typeof window<"u"?window:{});var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ew,Ru,bw,yf,Sg,Sw,Aw,ww;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ef=="object"&&ef];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var T=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var F=h[w];if(!(F in T))break t;T=T[F]}h=h[h.length-1],w=T[h],v=v(w),v!=w&&v!=null&&t(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,w=!1,F={next:function(){if(!w&&T<h.length){var $=T++;return{value:v($,h[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),h.apply(v,F)}}return function(){return h.apply(v,arguments)}}function b(h,v,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function x(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function P(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(w,F,$){for(var ut=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ut[Ut-2]=arguments[Ut];return v.prototype[F].apply(w,ut)}}function L(h){const v=h.length;if(0<v){const T=Array(v);for(let w=0;w<v;w++)T[w]=h[w];return T}return[]}function M(h,v){for(let T=1;T<arguments.length;T++){const w=arguments[T];if(m(w)){const F=h.length||0,$=w.length||0;h.length=F+$;for(let ut=0;ut<$;ut++)h[F+ut]=w[ut]}else h.push(w)}}class K{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function W(h){return/^[\s\xa0]*$/.test(h)}function G(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function st(h){return st[" "](h),h}st[" "]=function(){};var X=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ct(h,v,T){for(const w in h)v.call(T,h[w],w,h)}function N(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function R(h){const v={};for(const T in h)v[T]=h[T];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,v){let T,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(T in w)h[T]=w[T];for(let $=0;$<C.length;$++)T=C[$],Object.prototype.hasOwnProperty.call(w,T)&&(h[T]=w[T])}}function U(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function B(h){f.setTimeout(()=>{throw h},0)}function D(){var h=bt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class fe{constructor(){this.h=this.g=null}add(v,T){const w=ie.get();w.set(v,T),this.h?this.h.next=w:this.g=w,this.h=w}}var ie=new K(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,lt=!1,bt=new fe,O=()=>{const h=f.Promise.resolve(void 0);at=()=>{h.then(rt)}};var rt=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(T){B(T)}var v=ie;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}lt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h}();function Ot(h,v){if(ot.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(X){t:{try{st(v.nodeName);var F=!0;break t}catch{}F=!1}F||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:wt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ot.aa.h.call(this)}}P(Ot,ot);var wt={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),ee=0;function li(h,v,T,w,F){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!w,this.ha=F,this.key=++ee,this.da=this.fa=!1}function Sr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Mi(h){this.src=h,this.g={},this.h=0}Mi.prototype.add=function(h,v,T,w,F){var $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);var ut=Ps(h,v,w,F);return-1<ut?(v=h[ut],T||(v.fa=!1)):(v=new li(v,this.src,$,!!w,F),v.fa=T,h.push(v)),v};function Os(h,v){var T=v.type;if(T in h.g){var w=h.g[T],F=Array.prototype.indexOf.call(w,v,void 0),$;($=0<=F)&&Array.prototype.splice.call(w,F,1),$&&(Sr(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ps(h,v,T,w){for(var F=0;F<h.length;++F){var $=h[F];if(!$.da&&$.listener==v&&$.capture==!!T&&$.ha==w)return F}return-1}var Vs="closure_lm_"+(1e6*Math.random()|0),dl={};function Ic(h,v,T,w,F){if(Array.isArray(v)){for(var $=0;$<v.length;$++)Ic(h,v[$],T,w,F);return null}return T=Dc(T),h&&h[Le]?h.K(v,T,p(w)?!!w.capture:!1,F):On(h,v,T,!1,w,F)}function On(h,v,T,w,F,$){if(!v)throw Error("Invalid event type");var ut=p(F)?!!F.capture:!!F,Ut=Ua(h);if(Ut||(h[Vs]=Ut=new Mi(h)),T=Ut.add(v,T,w,ut,$),T.proxy)return T;if(w=Pd(),T.proxy=w,w.src=h,w.listener=T,h.addEventListener)yt||(F=ut),F===void 0&&(F=!1),h.addEventListener(v.toString(),w,F);else if(h.attachEvent)h.attachEvent(Ms(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Pd(){function h(T){return v.call(h.src,h.listener,T)}const v=Vd;return h}function ml(h,v,T,w,F){if(Array.isArray(v))for(var $=0;$<v.length;$++)ml(h,v[$],T,w,F);else w=p(w)?!!w.capture:!!w,T=Dc(T),h&&h[Le]?(h=h.i,v=String(v).toString(),v in h.g&&($=h.g[v],T=Ps($,T,w,F),-1<T&&(Sr($[T]),Array.prototype.splice.call($,T,1),$.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ua(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ps(v,T,w,F)),(T=-1<h?v[h]:null)&&La(T))}function La(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Le])Os(v.i,h);else{var T=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(T,w,h.capture):v.detachEvent?v.detachEvent(Ms(T),w):v.addListener&&v.removeListener&&v.removeListener(w),(T=Ua(v))?(Os(T,h),T.h==0&&(T.src=null,v[Vs]=null)):Sr(h)}}}function Ms(h){return h in dl?dl[h]:dl[h]="on"+h}function Vd(h,v){if(h.da)h=!0;else{v=new Ot(v,this);var T=h.listener,w=h.ha||h.src;h.fa&&La(h),h=T.call(w,v)}return h}function Ua(h){return h=h[Vs],h instanceof Mi?h:null}var pl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dc(h){return typeof h=="function"?h:(h[pl]||(h[pl]=function(v){return h.handleEvent(v)}),h[pl])}function de(){ht.call(this),this.i=new Mi(this),this.M=this,this.F=null}P(de,ht),de.prototype[Le]=!0,de.prototype.removeEventListener=function(h,v,T,w){ml(this,h,v,T,w)};function Kt(h,v){var T,w=h.F;if(w)for(T=[];w;w=w.F)T.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new ot(v,h);else if(v instanceof ot)v.target=v.target||h;else{var F=v;v=new ot(w,h),V(v,F)}if(F=!0,T)for(var $=T.length-1;0<=$;$--){var ut=v.g=T[$];F=bn(ut,w,!0,v)&&F}if(ut=v.g=h,F=bn(ut,w,!0,v)&&F,F=bn(ut,w,!1,v)&&F,T)for($=0;$<T.length;$++)ut=v.g=T[$],F=bn(ut,w,!1,v)&&F}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],w=0;w<T.length;w++)Sr(T[w]);delete h.g[v],h.h--}}this.F=null},de.prototype.K=function(h,v,T,w){return this.i.add(String(h),v,!1,T,w)},de.prototype.L=function(h,v,T,w){return this.i.add(String(h),v,!0,T,w)};function bn(h,v,T,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,$=0;$<v.length;++$){var ut=v[$];if(ut&&!ut.da&&ut.capture==T){var Ut=ut.listener,Ne=ut.ha||ut.src;ut.fa&&Os(h.i,ut),F=Ut.call(Ne,w)!==!1&&F}}return F&&!w.defaultPrevented}function Je(h,v,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Nc(h){h.g=Je(()=>{h.g=null,h.i&&(h.i=!1,Nc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Md extends ht{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Nc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(h){ht.call(this),this.h=h,this.g={}}P(ks,ht);var Ls=[];function Us(h){ct(h.g,function(v,T){this.g.hasOwnProperty(T)&&La(v)},h),h.g={}}ks.prototype.N=function(){ks.aa.N.call(this),Us(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=f.JSON.stringify,ja=f.JSON.parse,js=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function gl(){}gl.prototype.h=null;function yl(h){return h.h||(h.h=h.i())}function vl(){}var ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){ot.call(this,"d")}P(Li,ot);function _l(){ot.call(this,"c")}P(_l,ot);var ui={},Tl=null;function Ar(){return Tl=Tl||new de}ui.La="serverreachability";function Ba(h){ot.call(this,ui.La,h)}P(Ba,ot);function wr(h){const v=Ar();Kt(v,new Ba(v))}ui.STAT_EVENT="statevent";function Oc(h,v){ot.call(this,ui.STAT_EVENT,h),this.stat=v}P(Oc,ot);function se(h){const v=Ar();Kt(v,new Oc(v,h))}ui.Ma="timingevent";function De(h,v){ot.call(this,ui.Ma,h),this.size=v}P(De,ot);function Se(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function El(h,v,T,w,F,$){h.info(function(){if(h.g)if($)for(var ut="",Ut=$.split("&"),Ne=0;Ne<Ut.length;Ne++){var jt=Ut[Ne].split("=");if(1<jt.length){var je=jt[0];jt=jt[1];var Oe=je.split("_");ut=2<=Oe.length&&Oe[1]=="type"?ut+(je+"="+jt+"&"):ut+(je+"=redacted&")}}else ut=null;else ut=$;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+v+`
`+T+`
`+ut})}function kd(h,v,T,w,F,$,ut){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+v+`
`+T+`
`+$+" "+ut})}function xr(h,v,T,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Bs(h,T)+(w?" "+w:"")})}function Pc(h,v){h.info(function(){return"TIMEOUT: "+v})}Pn.prototype.info=function(){};function Bs(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var w=T[h];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var ut=1;ut<F.length;ut++)F[ut]=""}}}}return Wn(T)}catch{return v}}var Rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function hi(){}P(hi,gl),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},ci=new hi;function un(h,v,T,w){this.j=h,this.i=v,this.l=T,this.R=w||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var bl={},za={};function Zn(h,v,T){h.L=1,h.v=Gs(Sn(v)),h.m=T,h.P=!0,ji(h,null)}function ji(h,v){h.F=Date.now(),zs(h),h.A=Sn(h.v);var T=h.A,w=h.R;Array.isArray(w)||(w=[String(w)]),Cl(T.i,"t",w),h.C=0,T=h.j.J,h.h=new ye,h.g=$c(h.j,T?v:null,!h.m),0<h.O&&(h.M=new Md(b(h.Y,h,h.g),h.O)),v=h.U,T=h.g,w=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ls[0]=F.toString()),F=Ls);for(var $=0;$<F.length;$++){var ut=Ic(T,F[$],w||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),wr(),El(h.i,h.u,h.A,h.l,h.R,h.m)}un.prototype.ca=function(h){h=h.target;const v=this.M;v&&Ln(h)==3?v.j():this.Y(h)},un.prototype.Y=function(h){try{if(h==this.g)t:{const Oe=Ln(this.g);var v=this.g.Ba();const Yi=this.g.Z();if(!(3>Oe)&&(Oe!=3||this.g&&(this.h.h||this.g.oa()||zc(this.g)))){this.J||Oe!=4||v==7||(v==8||0>=Yi?wr(3):wr(2)),Cr(this);var T=this.g.Z();this.X=T;e:if(Vc(this)){var w=zc(this.g);h="";var F=w.length,$=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),fi(this);var ut="";break e}this.h.i=new f.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,h+=this.h.i.decode(w[v],{stream:!($&&v==F-1)});w.length=0,this.h.g+=h,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=T==200,kd(this.i,this.u,this.A,this.l,this.R,Oe,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ne=this.g;if((Ut=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ut)){var jt=Ut;break e}}jt=null}if(T=jt)xr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fs(this,T);else{this.o=!1,this.s=3,se(12),He(this),fi(this);break t}}if(this.P){T=!0;let Ge;for(;!this.J&&this.C<ut.length;)if(Ge=Mc(this,ut),Ge==za){Oe==4&&(this.s=4,se(14),T=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==bl){this.s=4,se(15),xr(this.i,this.l,ut,"[Invalid Chunk]"),T=!1;break}else xr(this.i,this.l,Ge,null),Fs(this,Ge);if(Vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||ut.length!=0||this.h.h||(this.s=1,se(16),T=!1),this.o=this.o&&T,!T)xr(this.i,this.l,ut,"[Invalid Chunked Response]"),He(this),fi(this);else if(0<ut.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),Js(je),je.M=!0,se(11))}}else xr(this.i,this.l,ut,null),Fs(this,ut);Oe==4&&He(this),this.o&&!this.J&&(Oe==4?Kc(this.j,this):(this.o=!1,zs(this)))}else zd(this.g),T==400&&0<ut.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),He(this),fi(this)}}}catch{}finally{}};function Vc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Mc(h,v){var T=h.C,w=v.indexOf(`
`,T);return w==-1?za:(T=Number(v.substring(T,w)),isNaN(T)?bl:(w+=1,w+T>v.length?za:(v=v.slice(w,w+T),h.C=w+T,v)))}un.prototype.cancel=function(){this.J=!0,He(this)};function zs(h){h.S=Date.now()+h.I,kc(h,h.I)}function kc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Se(b(h.ba,h),v)}function Cr(h){h.B&&(f.clearTimeout(h.B),h.B=null)}un.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Pc(this.i,this.A),this.L!=2&&(wr(),se(17)),He(this),this.s=2,fi(this)):kc(this,this.S-h)};function fi(h){h.j.G==0||h.J||Kc(h.j,h)}function He(h){Cr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Us(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Fs(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||Sl(T.h,h))){if(!h.K&&Sl(T.h,h)&&T.G==3){try{var w=T.Da.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Ja(T),Wa(T);else break t;Pl(T),se(18)}}else T.za=F[1],0<T.za-T.T&&37500>F[2]&&T.F&&T.v==0&&!T.C&&(T.C=Se(b(T.Za,T),6e3));if(1>=qa(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ki(T,11)}else if((h.K||T.g==h)&&Ja(T),!W(v))for(F=T.Da.g.parse(v),v=0;v<F.length;v++){let jt=F[v];if(T.T=jt[0],jt=jt[1],T.G==2)if(jt[0]=="c"){T.K=jt[1],T.ia=jt[2];const je=jt[3];je!=null&&(T.la=je,T.j.info("VER="+T.la));const Oe=jt[4];Oe!=null&&(T.Aa=Oe,T.j.info("SVER="+T.Aa));const Yi=jt[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(w=1.5*Yi,T.L=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const Ge=h.g;if(Ge){const _i=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var $=w.h;$.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ha($,$.h),$.h=null))}if(w.D){const Ml=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(w.ya=Ml,$t(w.I,w.D,Ml))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),w=T;var ut=h;if(w.qa=Qc(w,w.J?w.ia:null,w.W),ut.K){cn(w.h,ut);var Ut=ut,Ne=w.L;Ne&&(Ut.I=Ne),Ut.B&&(Cr(Ut),zs(Ut)),w.g=ut}else Hc(w);0<T.i.length&&Za(T)}else jt[0]!="stop"&&jt[0]!="close"||Ki(T,7);else T.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Ki(T,7):Nl(T):jt[0]!="noop"&&T.l&&T.l.ta(jt),T.v=0)}}wr(4)}catch{}}var Lc=class{constructor(h,v){this.g=h,this.map=v}};function Bi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qa(h){return h.h?1:h.g?h.g.size:0}function Sl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ha(h,v){h.g?h.g.add(v):h.h=v}function cn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Bi.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Al(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return L(h.i)}function Ld(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,w=0;w<T;w++)v.push(h[w]);return v}v=[],T=0;for(w in h)v[T++]=h[w];return v}function Ga(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const w in h)v[T++]=w;return v}}}function wl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=Ga(h),w=Ld(h),F=w.length,$=0;$<F;$++)v.call(void 0,w[$],T&&T[$],h)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ud(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var w=h[T].indexOf("="),F=null;if(0<=w){var $=h[T].substring(0,w);F=h[T].substring(w+1)}else $=h[T];v($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ae(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ae){this.h=h.h,Hs(this,h.j),this.o=h.o,this.g=h.g,Ir(this,h.s),this.l=h.l;var v=h.i,T=new Fi;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),zi(this,T),this.m=h.m}else h&&(v=String(h).match(qs))?(this.h=!1,Hs(this,v[1]||"",!0),this.o=Vn(v[2]||""),this.g=Vn(v[3]||"",!0),Ir(this,v[4]),this.l=Vn(v[5]||"",!0),zi(this,v[6]||"",!0),this.m=Vn(v[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}Ae.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Ks(v,xl,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ks(v,xl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ks(T,T.charAt(0)=="/"?jd:Rl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ks(T,Ka)),h.join("")};function Sn(h){return new Ae(h)}function Hs(h,v,T){h.j=T?Vn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ir(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function zi(h,v,T){v instanceof Fi?(h.i=v,jc(h.i,h.h)):(T||(v=Ks(v,Bd)),h.i=new Fi(v,h.h))}function $t(h,v,T){h.i.set(v,T)}function Gs(h){return $t(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Vn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ks(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Uc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Uc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xl=/[#\/\?@]/g,Rl=/[#\?:]/g,jd=/[#\?]/g,Bd=/[#\?@]/g,Ka=/#/g;function Fi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Mn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ud(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}e=Fi.prototype,e.add=function(h,v){Mn(this),this.i=null,h=di(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function qi(h,v){Mn(h),v=di(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Hi(h,v){return Mn(h),v=di(h,v),h.g.has(v)}e.forEach=function(h,v){Mn(this),this.g.forEach(function(T,w){T.forEach(function(F){h.call(v,F,w,this)},this)},this)},e.na=function(){Mn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let w=0;w<v.length;w++){const F=h[w];for(let $=0;$<F.length;$++)T.push(v[w])}return T},e.V=function(h){Mn(this);let v=[];if(typeof h=="string")Hi(this,h)&&(v=v.concat(this.g.get(di(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},e.set=function(h,v){return Mn(this),this.i=null,h=di(this,h),Hi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Cl(h,v,T){qi(h,v),0<T.length&&(h.i=null,h.g.set(di(h,v),L(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var w=v[T];const $=encodeURIComponent(String(w)),ut=this.V(w);for(w=0;w<ut.length;w++){var F=$;ut[w]!==""&&(F+="="+encodeURIComponent(String(ut[w]))),h.push(F)}}return this.i=h.join("&")};function di(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function jc(h,v){v&&!h.j&&(Mn(h),h.i=null,h.g.forEach(function(T,w){var F=w.toLowerCase();w!=F&&(qi(this,w),Cl(this,F,T))},h)),h.j=v}function Ys(h,v){const T=new Pn;if(f.Image){const w=new Image;w.onload=x(kn,T,"TestLoadImage: loaded",!0,v,w),w.onerror=x(kn,T,"TestLoadImage: error",!1,v,w),w.onabort=x(kn,T,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(kn,T,"TestLoadImage: timeout",!1,v,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function Jn(h,v){const T=new Pn,w=new AbortController,F=setTimeout(()=>{w.abort(),kn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then($=>{clearTimeout(F),$.ok?kn(T,"TestPingServer: ok",!0,v):kn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),kn(T,"TestPingServer: error",!1,v)})}function kn(h,v,T,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(T)}catch{}}function Qs(){this.g=new js}function mi(h,v,T){const w=T||"";try{wl(h,function(F,$){let ut=F;p(F)&&(ut=Wn(F)),v.push(w+$+"="+encodeURIComponent(ut))})}catch(F){throw v.push(w+"type="+encodeURIComponent("_badmap")),F}}function Dr(h){this.l=h.Ub||null,this.j=h.eb||!1}P(Dr,gl),Dr.prototype.g=function(){return new Gi(this.l,this.j)},Dr.prototype.i=function(h){return function(){return h}}({});function Gi(h,v){de.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Gi,de),e=Gi.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,gi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Il(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Il(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?pi(this):gi(this),this.readyState==3&&Il(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,pi(this))},e.Qa=function(h){this.g&&(this.response=h,pi(this))},e.ga=function(){this.g&&pi(this)};function pi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,gi(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function gi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Dl(h){let v="";return ct(h,function(T,w){v+=w,v+=":",v+=T,v+=`\r
`}),v}function Ue(h,v,T){t:{for(w in T){var w=!1;break t}w=!0}w||(T=Dl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):$t(h,v,T))}function Ht(h){de.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ht,de);var Ya=/^https?$/i,$s=["POST","PUT"];e=Ht.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?yl(this.o):yl(ci),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch($){Bc(this,$);return}if(h=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)T.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())T.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),F=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call($s,v,void 0))||w||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ut]of T)this.g.setRequestHeader($,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xs(this),this.u=!0,this.g.send(h),this.u=!1}catch($){Bc(this,$)}};function Bc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Qa(h),yi(h)}function Qa(h){h.A||(h.A=!0,Kt(h,"complete"),Kt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Kt(this,"complete"),Kt(this,"abort"),yi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),Ht.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},e.bb=function(){$a(this)};function $a(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Ln(h)!=4||h.Z()!=2)){if(h.u&&Ln(h)==4)Je(h.Ea,0,h);else if(Kt(h,"readystatechange"),Ln(h)==4){h.h=!1;try{const ut=h.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var w;if(w=ut===0){var F=String(h.D).match(qs)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),w=!Ya.test(F?F.toLowerCase():"")}T=w}if(T)Kt(h,"complete"),Kt(h,"success");else{h.m=6;try{var $=2<Ln(h)?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.Z()+"]",Qa(h)}}finally{yi(h)}}}}function yi(h,v){if(h.g){Xs(h);const T=h.g,w=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Kt(h,"ready");try{T.onreadystatechange=w}catch{}}}function Xs(h){h.I&&(f.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Ln(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ja(v)}};function zc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function zd(h){const v={};h=(h.g&&2<=Ln(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(W(h[w]))continue;var T=U(h[w]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=v[F]||[];v[F]=$,$.push(T)}N(v,function(w){return w.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Xa(h){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ws("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ws("baseRetryDelayMs",5e3,h),this.cb=Ws("retryDelaySeedMs",1e4,h),this.Wa=Ws("forwardChannelMaxRetries",2,h),this.wa=Ws("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(h&&h.concurrentRequestLimit),this.Da=new Qs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Xa.prototype,e.la=8,e.G=1,e.connect=function(h,v,T,w){se(0),this.W=h,this.H=v||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.I=Qc(this,null,this.W),Za(this)};function Nl(h){if(Fc(h),h.G==3){var v=h.U++,T=Sn(h.I);if($t(T,"SID",h.K),$t(T,"RID",v),$t(T,"TYPE","terminate"),Zs(h,T),v=new un(h,h.j,v),v.L=2,v.v=Gs(Sn(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=$c(v.j,null),v.g.ea(v.v)),v.F=Date.now(),zs(v)}Yc(h)}function Wa(h){h.g&&(Js(h),h.g.cancel(),h.g=null)}function Fc(h){Wa(h),h.u&&(f.clearTimeout(h.u),h.u=null),Ja(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Za(h){if(!Fa(h.h)&&!h.s){h.s=!0;var v=h.Ga;at||O(),lt||(at(),lt=!0),bt.add(v,h),h.B=0}}function Fd(h,v){return qa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Se(b(h.Ga,h,v),Vl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new un(this,this.j,h);let $=this.o;if(this.S&&($?($=R($),V($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(v+=w,4096<v){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=qc(this,F,v),T=Sn(this.I),$t(T,"RID",h),$t(T,"CVER",22),this.D&&$t(T,"X-HTTP-Session-Id",this.D),Zs(this,T),$&&(this.O?v="headers="+encodeURIComponent(String(Dl($)))+"&"+v:this.m&&Ue(T,this.m,$)),Ha(this.h,F),this.Ua&&$t(T,"TYPE","init"),this.P?($t(T,"$req",v),$t(T,"SID","null"),F.T=!0,Zn(F,T,null)):Zn(F,T,v),this.G=2}}else this.G==3&&(h?Ol(this,h):this.i.length==0||Fa(this.h)||Ol(this))};function Ol(h,v){var T;v?T=v.l:T=h.U++;const w=Sn(h.I);$t(w,"SID",h.K),$t(w,"RID",T),$t(w,"AID",h.T),Zs(h,w),h.m&&h.o&&Ue(w,h.m,h.o),T=new un(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=qc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ha(h.h,T),Zn(T,w,v)}function Zs(h,v){h.H&&ct(h.H,function(T,w){$t(v,w,T)}),h.l&&wl({},function(T,w){$t(v,w,T)})}function qc(h,v,T){T=Math.min(h.i.length,T);var w=h.l?b(h.l.Na,h.l,h):null;t:{var F=h.i;let $=-1;for(;;){const ut=["count="+T];$==-1?0<T?($=F[0].g,ut.push("ofs="+$)):$=0:ut.push("ofs="+$);let Ut=!0;for(let Ne=0;Ne<T;Ne++){let jt=F[Ne].g;const je=F[Ne].map;if(jt-=$,0>jt)$=Math.max(0,F[Ne].g-100),Ut=!1;else try{mi(je,ut,"req"+jt+"_")}catch{w&&w(je)}}if(Ut){w=ut.join("&");break t}}}return h=h.i.splice(0,T),v.D=h,w}function Hc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;at||O(),lt||(at(),lt=!0),bt.add(v,h),h.v=0}}function Pl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Se(b(h.Fa,h),Vl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Se(b(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Wa(this),Gc(this))};function Js(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Gc(h){h.g=new un(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Sn(h.qa);$t(v,"RID","rpc"),$t(v,"SID",h.K),$t(v,"AID",h.T),$t(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&$t(v,"TO",h.ja),$t(v,"TYPE","xmlhttp"),Zs(h,v),h.m&&h.o&&Ue(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Gs(Sn(v)),T.m=null,T.P=!0,ji(T,h)}e.Za=function(){this.C!=null&&(this.C=null,Wa(this),Pl(this),se(19))};function Ja(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Kc(h,v){var T=null;if(h.g==v){Ja(h),Js(h),h.g=null;var w=2}else if(Sl(h.h,v))T=v.D,cn(h.h,v),w=1;else return;if(h.G!=0){if(v.o)if(w==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var F=h.B;w=Ar(),Kt(w,new De(w,T)),Za(h)}else Hc(h);else if(F=v.s,F==3||F==0&&0<v.X||!(w==1&&Fd(h,v)||w==2&&Pl(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),F){case 1:Ki(h,5);break;case 4:Ki(h,10);break;case 3:Ki(h,6);break;default:Ki(h,2)}}}function Vl(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function Ki(h,v){if(h.j.info("Error code "+v),v==2){var T=b(h.fb,h),w=h.Xa;const F=!w;w=new Ae(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Hs(w,"https"),Gs(w),F?Ys(w.toString(),T):Jn(w.toString(),T)}else se(2);h.G=0,h.l&&h.l.sa(v),Yc(h),Fc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Yc(h){if(h.G=0,h.ka=[],h.l){const v=Al(h.h);(v.length!=0||h.i.length!=0)&&(M(h.ka,v),M(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function Qc(h,v,T){var w=T instanceof Ae?Sn(T):new Ae(T);if(w.g!="")v&&(w.g=v+"."+w.g),Ir(w,w.s);else{var F=f.location;w=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var $=new Ae(null);w&&Hs($,w),v&&($.g=v),F&&Ir($,F),T&&($.l=T),w=$}return T=h.D,v=h.ya,T&&v&&$t(w,T,v),$t(w,"VER",h.la),Zs(h,w),w}function $c(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Ht(new Dr({eb:T})):new Ht(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xc(){}e=Xc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function to(){}to.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){de.call(this),this.g=new Xa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!W(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!W(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new vi(this)}P(hn,de),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Nl(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Wn(h),h=T);v.i.push(new Lc(v.Ya++,h)),v.G==3&&Za(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,hn.aa.N.call(this)};function Wc(h){Li.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const T in v){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}P(Wc,Li);function Zc(){_l.call(this),this.status=1}P(Zc,_l);function vi(h){this.g=h}P(vi,Xc),vi.prototype.ua=function(){Kt(this.g,"a")},vi.prototype.ta=function(h){Kt(this.g,new Wc(h))},vi.prototype.sa=function(h){Kt(this.g,new Zc)},vi.prototype.ra=function(){Kt(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,ww=function(){return new to},Aw=function(){return Ar()},Sw=ui,Sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,yf=Rr,Ui.COMPLETE="complete",bw=Ui,vl.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",de.prototype.listen=de.prototype.K,Ru=vl,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Ew=Ht}).apply(typeof ef<"u"?ef:typeof self<"u"?self:typeof window<"u"?window:{});const QE="@firebase/firestore",$E="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new dy("@firebase/firestore");function Do(){return Na.logLevel}function ft(e,...t){if(Na.logLevel<=kt.DEBUG){const n=t.map(wy);Na.debug(`Firestore (${sl}): ${e}`,...n)}}function gr(e,...t){if(Na.logLevel<=kt.ERROR){const n=t.map(wy);Na.error(`Firestore (${sl}): ${e}`,...n)}}function Ko(e,...t){if(Na.logLevel<=kt.WARN){const n=t.map(wy);Na.warn(`Firestore (${sl}): ${e}`,...n)}}function wy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,xw(e,r,n)}function xw(e,t,n){let r=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gr(r),new Error(r)}function Gt(e,t,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,e||xw(t,a,r)}function Rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Er{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class TV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EV{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fs,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fs)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new Rw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class bV{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SV{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new bV(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AV{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0,3512);const r=l=>{l.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new XE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new XE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=wV(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function Nt(e,t){return e<t?-1:e>t?1:0}function Ag(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return Nt(r,a);{const l=Cw(),c=xV(l.encode(WE(e,n)),l.encode(WE(t,n)));return c!==0?c:Nt(r,a)}}n+=r>65535?2:1}return Nt(e.length,t.length)}function WE(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function xV(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Nt(e[n],t[n]);return Nt(e.length,t.length)}function Yo(e,t,n){return e.length===t.length&&e.every((r,a)=>n(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=-62135596800,JE=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(t){return Me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*JE);return new Me(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new dt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<ZE)throw new dt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JE}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-ZE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new Me(0,0))}static max(){return new xt(new Me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="__name__";class wi{constructor(t,n,r){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Et(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=wi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Nt(t.length,n.length)}static compareSegments(t,n){const r=wi.isNumericId(t),a=wi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?wi.extractNumericId(t).compare(wi.extractNumericId(n)):Ag(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return hs.fromString(t.substring(4,t.length-2))}}class re extends wi{construct(t,n,r){return new re(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new dt(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new re(n)}static emptyPath(){return new re([])}}const RV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends wi{construct(t,n,r){return new We(t,n,r)}static isValidIdentifier(t){return RV.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tb}static keyField(){return new We([tb])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new dt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new dt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new dt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new dt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(n)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(re.fromString(t))}static fromName(t){return new gt(re.fromString(t).popFirst(5))}static empty(){return new gt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new re(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=-1;function CV(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=xt.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new ms(a,gt.empty(),t)}function IV(e){return new ms(e.readTime,e.key,$u)}class ms{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ms(xt.min(),gt.empty(),$u)}static max(){return new ms(xt.max(),gt.empty(),$u)}}function DV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(e.documentKey,t.documentKey),n!==0?n:Nt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(e){if(e.code!==it.FAILED_PRECONDITION||e.message!==NV)throw e;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.reject(n)}static resolve(t){return new nt((n,r)=>{n(t)})}static reject(t){return new nt((n,r)=>{r(t)})}static waitFor(t){return new nt((n,r)=>{let a=0,l=0,c=!1;t.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>r(m))}),c=!0,l===a&&n()})}static or(t){let n=nt.resolve(!1);for(const r of t)n=n.next(a=>a?nt.resolve(a):r());return n}static forEach(t,n){const r=[];return t.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(t,n){return new nt((r,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next(y=>{c[p]=y,++f,f===l&&r(c)},y=>a(y))}})}static doWhile(t,n){return new nt((r,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):r()};l()})}}function PV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ol(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}cd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=-1;function hd(e){return e==null}function Uf(e){return e===0&&1/e==-1/0}function VV(e){return typeof e=="number"&&Number.isInteger(e)&&!Uf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="";function MV(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=eb(t)),t=kV(e.get(n),t);return eb(t)}function kV(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case Dw:n+="";break;default:n+=l}}return n}function eb(e){return e+Dw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Cs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Xe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nf(this.root,t,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nf(this.root,t,this.comparator,!0)}}class nf{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??Xe.RED,this.left=a??Xe.EMPTY,this.right=l??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new Xe(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Xe.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,r,a,l){return this}insert(t,n,r){return new Xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ib(this.data.getIterator())}getIteratorFrom(t){return new ib(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class ib{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Nn([])}unionWith(t){let n=new ke(We.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Nn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Yo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ow("Invalid base64 string: "+l):l}}(t);return new Ze(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new Ze(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const LV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(e){if(Gt(!!e,39018),typeof e=="string"){let t=0;const n=LV.exec(e);if(Gt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ee(e.seconds),nanos:Ee(e.nanos)}}function Ee(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function gs(e){return typeof e=="string"?Ze.fromBase64String(e):Ze.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="server_timestamp",Vw="__type__",Mw="__previous_value__",kw="__local_write_time__";function Ry(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Vw])===null||n===void 0?void 0:n.stringValue)===Pw}function fd(e){const t=e.mapValue.fields[Mw];return Ry(t)?fd(t):t}function Xu(e){const t=ps(e.mapValue.fields[kw].timestampValue);return new Me(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(t,n,r,a,l,c,f,m,p){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p}}const jf="(default)";class Wu{constructor(t,n){this.projectId=t,this.database=n||jf}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===jf}isEqual(t){return t instanceof Wu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="__type__",jV="__max__",rf={mapValue:{}},Uw="__vector__",Bf="value";function ys(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ry(e)?4:zV(e)?9007199254740991:BV(e)?10:11:Et(28295,{value:e})}function Pi(e,t){if(e===t)return!0;const n=ys(e);if(n!==ys(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xu(e).isEqual(Xu(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ps(a.timestampValue),f=ps(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return gs(a.bytesValue).isEqual(gs(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return Ee(a.geoPointValue.latitude)===Ee(l.geoPointValue.latitude)&&Ee(a.geoPointValue.longitude)===Ee(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ee(a.integerValue)===Ee(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ee(a.doubleValue),f=Ee(l.doubleValue);return c===f?Uf(c)===Uf(f):isNaN(c)&&isNaN(f)}return!1}(e,t);case 9:return Yo(e.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(nb(c)!==nb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Pi(c[m],f[m])))return!1;return!0}(e,t);default:return Et(52216,{left:e})}}function Zu(e,t){return(e.values||[]).find(n=>Pi(n,t))!==void 0}function Qo(e,t){if(e===t)return 0;const n=ys(e),r=ys(t);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(e.booleanValue,t.booleanValue);case 2:return function(l,c){const f=Ee(l.integerValue||l.doubleValue),m=Ee(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(e,t);case 3:return rb(e.timestampValue,t.timestampValue);case 4:return rb(Xu(e),Xu(t));case 5:return Ag(e.stringValue,t.stringValue);case 6:return function(l,c){const f=gs(l),m=gs(c);return f.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Nt(f[p],m[p]);if(y!==0)return y}return Nt(f.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const f=Nt(Ee(l.latitude),Ee(c.latitude));return f!==0?f:Nt(Ee(l.longitude),Ee(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return sb(e.arrayValue,t.arrayValue);case 10:return function(l,c){var f,m,p,y;const _=l.fields||{},b=c.fields||{},x=(f=_[Bf])===null||f===void 0?void 0:f.arrayValue,P=(m=b[Bf])===null||m===void 0?void 0:m.arrayValue,L=Nt(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0);return L!==0?L:sb(x,P)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===rf.mapValue&&c===rf.mapValue)return 0;if(l===rf.mapValue)return 1;if(c===rf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=Ag(m[_],y[_]);if(b!==0)return b;const x=Qo(f[m[_]],p[y[_]]);if(x!==0)return x}return Nt(m.length,y.length)}(e.mapValue,t.mapValue);default:throw Et(23264,{Pe:n})}}function rb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Nt(e,t);const n=ps(e),r=ps(t),a=Nt(n.seconds,r.seconds);return a!==0?a:Nt(n.nanos,r.nanos)}function sb(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Qo(n[a],r[a]);if(l)return l}return Nt(n.length,r.length)}function $o(e){return wg(e)}function wg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ps(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return gs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return gt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=wg(l);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${wg(n.fields[c])}`;return a+"}"}(e.mapValue):Et(61005,{value:e})}function vf(e){switch(ys(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fd(e);return t?16+vf(t):16;case 5:return 2*e.stringValue.length;case 6:return gs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+vf(l),0)}(e.arrayValue);case 10:case 11:return function(r){let a=0;return Cs(r.fields,(l,c)=>{a+=l.length+vf(c)}),a}(e.mapValue);default:throw Et(13486,{value:e})}}function ab(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function xg(e){return!!e&&"integerValue"in e}function Cy(e){return!!e&&"arrayValue"in e}function ob(e){return!!e&&"nullValue"in e}function lb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _f(e){return!!e&&"mapValue"in e}function BV(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Lw])===null||n===void 0?void 0:n.stringValue)===Uw}function Mu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Cs(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Mu(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Mu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function zV(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===jV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!_f(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mu(n)}setAll(t){let n=We.emptyPath(),r={},a=[];t.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=Mu(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());_f(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];_f(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){Cs(n,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new Tn(Mu(this.value))}}function jw(e){const t=[];return Cs(e.fields,(n,r)=>{const a=new We([n]);if(_f(r)){const l=jw(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Nn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t,n,r,a,l,c,f){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new an(t,0,xt.min(),xt.min(),xt.min(),Tn.empty(),0)}static newFoundDocument(t,n,r,a){return new an(t,1,n,xt.min(),r,a,0)}static newNoDocument(t,n){return new an(t,2,n,xt.min(),xt.min(),Tn.empty(),0)}static newUnknownDocument(t,n){return new an(t,3,n,xt.min(),xt.min(),Tn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,n){this.position=t,this.inclusive=n}}function ub(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=gt.comparator(gt.fromName(c.referenceValue),n.key):r=Qo(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function cb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Pi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,n="asc"){this.field=t,this.dir=n}}function FV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{}class Ce extends Bw{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new HV(t,n,r):n==="array-contains"?new YV(t,r):n==="in"?new QV(t,r):n==="not-in"?new $V(t,r):n==="array-contains-any"?new XV(t,r):new Ce(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new GV(t,r):new KV(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qo(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends Bw{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new oi(t,n)}matches(t){return zw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function zw(e){return e.op==="and"}function Fw(e){return qV(e)&&zw(e)}function qV(e){for(const t of e.filters)if(t instanceof oi)return!1;return!0}function Rg(e){if(e instanceof Ce)return e.field.canonicalString()+e.op.toString()+$o(e.value);if(Fw(e))return e.filters.map(t=>Rg(t)).join(",");{const t=e.filters.map(n=>Rg(n)).join(",");return`${e.op}(${t})`}}function qw(e,t){return e instanceof Ce?function(r,a){return a instanceof Ce&&r.op===a.op&&r.field.isEqual(a.field)&&Pi(r.value,a.value)}(e,t):e instanceof oi?function(r,a){return a instanceof oi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&qw(c,a.filters[f]),!0):!1}(e,t):void Et(19439)}function Hw(e){return e instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`}(e):e instanceof oi?function(n){return n.op.toString()+" {"+n.getFilters().map(Hw).join(" ,")+"}"}(e):"Filter"}class HV extends Ce{constructor(t,n,r){super(t,n,r),this.key=gt.fromName(r.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class GV extends Ce{constructor(t,n){super(t,"in",n),this.keys=Gw("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class KV extends Ce{constructor(t,n){super(t,"not-in",n),this.keys=Gw("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Gw(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>gt.fromName(r.referenceValue))}class YV extends Ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Cy(n)&&Zu(n.arrayValue,this.value)}}class QV extends Ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class $V extends Ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zu(this.value.arrayValue,n)}}class XV extends Ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(t,n=null,r=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function hb(e,t=null,n=[],r=[],a=null,l=null,c=null){return new WV(e,t,n,r,a,l,c)}function Iy(e){const t=Rt(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Rg(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),hd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>$o(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>$o(r)).join(",")),t.Ie=n}return t.Ie}function Dy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!FV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!qw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cb(e.startAt,t.startAt)&&cb(e.endAt,t.endAt)}function Cg(e){return gt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t,n=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ZV(e,t,n,r,a,l,c,f){return new ll(e,t,n,r,a,l,c,f)}function Ny(e){return new ll(e)}function fb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Kw(e){return e.collectionGroup!==null}function ku(e){const t=Rt(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new ke(We.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Ju(l,r))}),n.has(We.keyField().canonicalString())||t.Ee.push(new Ju(We.keyField(),r))}return t.Ee}function Ci(e){const t=Rt(e);return t.de||(t.de=JV(t,ku(e))),t.de}function JV(e,t){if(e.limitType==="F")return hb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Ju(a.field,l)});const n=e.endAt?new zf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new zf(e.startAt.position,e.startAt.inclusive):null;return hb(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ig(e,t){const n=e.filters.concat([t]);return new ll(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Dg(e,t,n){return new ll(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dd(e,t){return Dy(Ci(e),Ci(t))&&e.limitType===t.limitType}function Yw(e){return`${Iy(Ci(e))}|lt:${e.limitType}`}function No(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>Hw(a)).join(", ")}]`),hd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>$o(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>$o(a)).join(",")),`Target(${r})`}(Ci(e))}; limitType=${e.limitType})`}function md(e,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):gt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(e,t)&&function(r,a){for(const l of ku(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(r,a){return!(r.startAt&&!function(c,f,m){const p=ub(c,f,m);return c.inclusive?p<=0:p<0}(r.startAt,ku(r),a)||r.endAt&&!function(c,f,m){const p=ub(c,f,m);return c.inclusive?p>=0:p>0}(r.endAt,ku(r),a))}(e,t)}function tM(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Qw(e){return(t,n)=>{let r=!1;for(const a of ku(e)){const l=eM(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function eM(e,t,n){const r=e.field.isKeyField()?gt.comparator(t.key,n.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Qo(m,p):Et(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Cs(this.inner,(n,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return Nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=new ce(gt.comparator);function yr(){return nM}const $w=new ce(gt.comparator);function Cu(...e){let t=$w;for(const n of e)t=t.insert(n.key,n);return t}function Xw(e){let t=$w;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ea(){return Lu()}function Ww(){return Lu()}function Lu(){return new Va(e=>e.toString(),(e,t)=>e.isEqual(t))}const iM=new ce(gt.comparator),rM=new ke(gt.comparator);function Lt(...e){let t=rM;for(const n of e)t=t.add(n);return t}const sM=new ke(Nt);function aM(){return sM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uf(t)?"-0":t}}function Zw(e){return{integerValue:""+e}}function oM(e,t){return VV(t)?Zw(t):Oy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this._=void 0}}function lM(e,t,n){return e instanceof Ff?function(a,l){const c={fields:{[Vw]:{stringValue:Pw},[kw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ry(l)&&(l=fd(l)),l&&(c.fields[Mw]=l),{mapValue:c}}(n,t):e instanceof tc?t1(e,t):e instanceof ec?e1(e,t):function(a,l){const c=Jw(a,l),f=db(c)+db(a.Re);return xg(c)&&xg(a.Re)?Zw(f):Oy(a.serializer,f)}(e,t)}function uM(e,t,n){return e instanceof tc?t1(e,t):e instanceof ec?e1(e,t):n}function Jw(e,t){return e instanceof qf?function(r){return xg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class Ff extends pd{}class tc extends pd{constructor(t){super(),this.elements=t}}function t1(e,t){const n=n1(t);for(const r of e.elements)n.some(a=>Pi(a,r))||n.push(r);return{arrayValue:{values:n}}}class ec extends pd{constructor(t){super(),this.elements=t}}function e1(e,t){let n=n1(t);for(const r of e.elements)n=n.filter(a=>!Pi(a,r));return{arrayValue:{values:n}}}class qf extends pd{constructor(t,n){super(),this.serializer=t,this.Re=n}}function db(e){return Ee(e.integerValue||e.doubleValue)}function n1(e){return Cy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function cM(e,t){return e.field.isEqual(t.field)&&function(r,a){return r instanceof tc&&a instanceof tc||r instanceof ec&&a instanceof ec?Yo(r.elements,a.elements,Pi):r instanceof qf&&a instanceof qf?Pi(r.Re,a.Re):r instanceof Ff&&a instanceof Ff}(e.transform,t.transform)}class hM{constructor(t,n){this.version=t,this.transformResults=n}}class Qn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Qn}static exists(t){return new Qn(void 0,t)}static updateTime(t){return new Qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class gd{}function i1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Py(e.key,Qn.none()):new _c(e.key,e.data,Qn.none());{const n=e.data,r=Tn.empty();let a=new ke(We.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Is(e.key,r,new Nn(a.toArray()),Qn.none())}}function fM(e,t,n){e instanceof _c?function(a,l,c){const f=a.value.clone(),m=pb(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(e,t,n):e instanceof Is?function(a,l,c){if(!Tf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=pb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(r1(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function Uu(e,t,n,r){return e instanceof _c?function(l,c,f,m){if(!Tf(l.precondition,c))return f;const p=l.value.clone(),y=gb(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(e,t,n,r):e instanceof Is?function(l,c,f,m){if(!Tf(l.precondition,c))return f;const p=gb(l.fieldTransforms,m,c),y=c.data;return y.setAll(r1(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(e,t,n,r):function(l,c,f){return Tf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(e,t,n)}function dM(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=Jw(r.transform,a||null);l!=null&&(n===null&&(n=Tn.empty()),n.set(r.field,l))}return n||null}function mb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Yo(r,a,(l,c)=>cM(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class _c extends gd{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Is extends gd{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function r1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function pb(e,t,n){const r=new Map;Gt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);r.set(l.field,uM(c,f,n[a]))}return r}function gb(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,lM(l,c,t))}return r}class Py extends gd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mM extends gd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&fM(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Uu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Uu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Ww();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=i1(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Yo(this.mutations,t.mutations,(n,r)=>mb(n,r))&&Yo(this.baseMutations,t.baseMutations,(n,r)=>mb(n,r))}}class Vy{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){Gt(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let a=function(){return iM}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Vy(t,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,zt;function vM(e){switch(e){case it.OK:return Et(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Et(15467,{code:e})}}function s1(e){if(e===void 0)return gr("GRPC error has no .code"),it.UNKNOWN;switch(e){case Re.OK:return it.OK;case Re.CANCELLED:return it.CANCELLED;case Re.UNKNOWN:return it.UNKNOWN;case Re.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Re.INTERNAL:return it.INTERNAL;case Re.UNAVAILABLE:return it.UNAVAILABLE;case Re.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Re.NOT_FOUND:return it.NOT_FOUND;case Re.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Re.ABORTED:return it.ABORTED;case Re.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Re.DATA_LOSS:return it.DATA_LOSS;default:return Et(39323,{code:e})}}(zt=Re||(Re={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new hs([4294967295,4294967295],0);function yb(e){const t=Cw().encode(e),n=new Tw;return n.update(t),new Uint8Array(n.digest())}function vb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new hs([n,r],0),new hs([a,l],0)]}class My{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Iu(`Invalid padding: ${n}`);if(r<0)throw new Iu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=hs.fromNumber(this.pe)}we(t,n,r){let a=t.add(n.multiply(hs.fromNumber(r)));return a.compare(_M)===1&&(a=new hs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=yb(t),[r,a]=vb(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);if(!this.be(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new My(l,a,n);return r.forEach(f=>c.insert(f)),c}insert(t){if(this.pe===0)return;const n=yb(t),[r,a]=vb(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,Tc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new yd(xt.min(),a,new ce(Nt),yr(),Lt())}}class Tc{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Tc(r,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,n,r,a){this.De=t,this.removedTargetIds=n,this.key=r,this.ve=a}}class a1{constructor(t,n){this.targetId=t,this.Ce=n}}class o1{constructor(t,n,r=Ze.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class _b{constructor(){this.Fe=0,this.Me=Tb(),this.xe=Ze.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Lt(),n=Lt(),r=Lt();return this.Me.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Et(38017,{changeType:l})}}),new Tc(this.xe,this.Oe,t,n,r)}Qe(){this.Ne=!1,this.Me=Tb()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class TM{constructor(t){this.ze=t,this.je=new Map,this.He=yr(),this.Je=sf(),this.Ye=sf(),this.Ze=new ce(Nt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const r=this.rt(n);switch(t.state){case 0:this.it(n)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(t){const n=t.targetId,r=t.Ce.count,a=this._t(n);if(a){const l=a.target;if(Cg(l))if(r===0){const c=new gt(l.path);this.tt(n,c,an.newNoDocument(c,xt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const c=this.ut(n);if(c!==r){const f=this.ct(t),m=f?this.lt(f,t,c):1;if(m!==0){this.st(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=gs(r).toUint8Array()}catch(m){if(m instanceof Ow)return Ko("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new My(c,a,l)}catch(m){return Ko(m instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(t,n,r){return n.Ce.count===r-this.Tt(t,n.targetId)?0:2}Tt(t,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.tt(n,l,null),a++)}),a}It(t){const n=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&Cg(f.target)){const m=new gt(f.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,an.newNoDocument(m,t))}l.Le&&(n.set(c,l.qe()),l.Qe())}});let r=Lt();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.He.forEach((l,c)=>c.setReadTime(t));const a=new yd(t,n,this.Ze,this.He,r);return this.He=yr(),this.Je=sf(),this.Ye=sf(),this.Ze=new ce(Nt),a}et(t,n){if(!this.it(t))return;const r=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,r){if(!this.it(t))return;const a=this.rt(t);this.dt(t,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),r&&(this.He=this.He.insert(n,r))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new _b,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new ke(Nt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new ke(Nt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new _b),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function sf(){return new ce(gt.comparator)}function Tb(){return new ce(gt.comparator)}const EM={asc:"ASCENDING",desc:"DESCENDING"},bM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SM={and:"AND",or:"OR"};class AM{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ng(e,t){return e.useProto3Json||hd(t)?t:{value:t}}function Hf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function l1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wM(e,t){return Hf(e,t.toTimestamp())}function Ii(e){return Gt(!!e,49232),xt.fromTimestamp(function(n){const r=ps(n);return new Me(r.seconds,r.nanos)}(e))}function ky(e,t){return Og(e,t).canonicalString()}function Og(e,t){const n=function(a){return new re(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function u1(e){const t=re.fromString(e);return Gt(m1(t),10190,{key:t.toString()}),t}function Pg(e,t){return ky(e.databaseId,t.path)}function Yp(e,t){const n=u1(t);if(n.get(1)!==e.databaseId.projectId)throw new dt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gt(h1(n))}function c1(e,t){return ky(e.databaseId,t)}function xM(e){const t=u1(e);return t.length===4?re.emptyPath():h1(t)}function Vg(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function h1(e){return Gt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Eb(e,t,n){return{name:Pg(e,t),fields:n.value.mapValue.fields}}function RM(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Et(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Gt(y===void 0||typeof y=="string",58123),Ze.fromBase64String(y||"")):(Gt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ze.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(p){const y=p.code===void 0?it.UNKNOWN:s1(p.code);return new dt(y,p.message||"")}(c);n=new o1(r,a,l,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Yp(e,r.document.name),l=Ii(r.document.updateTime),c=r.document.createTime?Ii(r.document.createTime):xt.min(),f=new Tn({mapValue:{fields:r.document.fields}}),m=an.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Ef(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Yp(e,r.document),l=r.readTime?Ii(r.readTime):xt.min(),c=an.newNoDocument(a,l),f=r.removedTargetIds||[];n=new Ef([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Yp(e,r.document),l=r.removedTargetIds||[];n=new Ef([],l,a,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new yM(a,l),f=r.targetId;n=new a1(f,c)}}return n}function CM(e,t){let n;if(t instanceof _c)n={update:Eb(e,t.key,t.value)};else if(t instanceof Py)n={delete:Pg(e,t.key)};else if(t instanceof Is)n={update:Eb(e,t.key,t.data),updateMask:LM(t.fieldMask)};else{if(!(t instanceof mM))return Et(16599,{ft:t.type});n={verify:Pg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof Ff)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof tc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ec)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof qf)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Et(20930,{transform:c.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:wM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)}(e,t.precondition)),n}function IM(e,t){return e&&e.length>0?(Gt(t!==void 0,14353),e.map(n=>function(a,l){let c=a.updateTime?Ii(a.updateTime):Ii(l);return c.isEqual(xt.min())&&(c=Ii(l)),new hM(c,a.transformResults||[])}(n,t))):[]}function DM(e,t){return{documents:[c1(e,t.path)]}}function NM(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=c1(e,a);const l=function(p){if(p.length!==0)return d1(oi.create(p,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:Oo(b.field),direction:VM(b.dir)}}(y))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Ng(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:n,parent:a}}function OM(e){let t=xM(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Gt(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=function(_){const b=f1(_);return b instanceof oi&&Fw(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(b=>function(P){return new Ju(Po(P.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(b))}(n.orderBy));let f=null;n.limit&&(f=function(_){let b;return b=typeof _=="object"?_.value:_,hd(b)?null:b}(n.limit));let m=null;n.startAt&&(m=function(_){const b=!!_.before,x=_.values||[];return new zf(x,b)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const b=!_.before,x=_.values||[];return new zf(x,b)}(n.endAt)),ZV(t,a,c,l,f,"F",m,p)}function PM(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:a})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function f1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Po(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Po(n.unaryFilter.field);return Ce.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Po(n.unaryFilter.field);return Ce.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Po(n.unaryFilter.field);return Ce.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(e):e.fieldFilter!==void 0?function(n){return Ce.create(Po(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return oi.create(n.compositeFilter.filters.map(r=>f1(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(n.compositeFilter.op))}(e):Et(30097,{filter:e})}function VM(e){return EM[e]}function MM(e){return bM[e]}function kM(e){return SM[e]}function Oo(e){return{fieldPath:e.canonicalString()}}function Po(e){return We.fromServerFormat(e.fieldPath)}function d1(e){return e instanceof Ce?function(n){if(n.op==="=="){if(lb(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NAN"}};if(ob(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lb(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NAN"}};if(ob(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(n.field),op:MM(n.op),value:n.value}}}(e):e instanceof oi?function(n){const r=n.getFilters().map(a=>d1(a));return r.length===1?r[0]:{compositeFilter:{op:kM(n.op),filters:r}}}(e):Et(54877,{filter:e})}function LM(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function m1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,n,r,a,l=xt.min(),c=xt.min(),f=Ze.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new as(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t){this.wt=t}}function jM(e){const t=OM({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Dg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.yn=new zM}addToCollectionParentIndex(t,n){return this.yn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.yn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(ms.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(ms.min())}updateCollectionGroup(t,n,r){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class zM{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new ke(re.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new ke(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p1=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(p1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Xo(0)}static ir(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="LruGarbageCollector",FM=1048576;function Ab([e,t],[n,r]){const a=Nt(e,n);return a===0?Nt(t,r):a}class qM{constructor(t){this.cr=t,this.buffer=new ke(Ab),this.lr=0}hr(){return++this.lr}Pr(t){const n=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ab(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HM{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ft(Sb,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ol(n)?ft(Sb,"Ignoring IndexedDB error during garbage collection: ",n):await al(n)}await this.Ir(3e5)})}}class GM{constructor(t,n){this.Er=t,this.params=n}calculateTargetCount(t,n){return this.Er.dr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(cd.le);const r=new qM(n);return this.Er.forEachTarget(t,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Er.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Er.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(bb)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bb):this.Rr(t,n))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,n){let r,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a))).next(_=>(r=_,f=Date.now(),this.removeTargets(t,r,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(_=>(p=Date.now(),Do()<=kt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function KM(e,t){return new GM(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.changes=new Va(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?nt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(r!==null&&Uu(r.mutation,a,Nn.empty(),Me.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Lt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Lt()){const a=Ea();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,r).next(l=>{let c=Cu();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const r=Ea();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Lt()))}populateOverlays(t,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(t,n,r,a){let l=yr();const c=Lu(),f=function(){return Lu()}();return n.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Is)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Uu(y.mutation,p,y.mutation.getFieldMask(),Me.now())):c.set(p.key,Nn.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return f.set(p,new QM(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(t,n){const r=Lu();let a=new ce((c,f)=>c-f),l=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||Nn.empty();y=f.applyToLocalView(p,y),r.set(m,y);const _=(a.get(f.batchId)||Lt()).add(m);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=Ww();y.forEach(b=>{if(!l.has(b)){const x=i1(n.get(b),r.get(b));x!==null&&_.set(b,x),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return nt.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,a){return function(c){return gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Kw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):nt.resolve(Ea());let f=$u,m=l;return c.next(p=>nt.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Lt())).next(y=>({batchId:f,changes:Xw(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next(r=>{let a=Cu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=Cu();return this.indexManager.getCollectionParents(t,l).next(f=>nt.forEach(f,m=>{const p=function(_,b){return new ll(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next(y=>{y.forEach((_,b)=>{c=c.insert(_,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,an.newInvalidDocument(y)))});let f=Cu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Uu(y.mutation,p,Nn.empty(),Me.now()),md(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Fr.get(n))}saveBundleMetadata(t,n){return this.Fr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ii(a.createTime)}}(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.Mr.get(n))}saveNamedQuery(t,n){return this.Mr.set(n.name,function(a){return{name:a.name,query:jM(a.bundledQuery),readTime:Ii(a.readTime)}}(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.overlays=new ce(gt.comparator),this.Or=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ea();return nt.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((a,l)=>{this.St(t,n,l)}),nt.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(r)),nt.resolve()}getOverlaysForCollection(t,n,r){const a=Ea(),l=n.length+1,c=new gt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new ce((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=Ea(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Ea(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return nt.resolve(f)}St(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new gM(n,r));let l=this.Or.get(n);l===void 0&&(l=Lt(),this.Or.set(n,l)),this.Or.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.Nr=new ke(qe.Br),this.Lr=new ke(qe.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,n){const r=new qe(t,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Qr(new qe(t,n))}$r(t,n){t.forEach(r=>this.removeReference(r,n))}Ur(t){const n=new gt(new re([])),r=new qe(n,t),a=new qe(n,t+1),l=[];return this.Lr.forEachInRange([r,a],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const n=new gt(new re([])),r=new qe(n,t),a=new qe(n,t+1);let l=Lt();return this.Lr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new qe(t,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,n){this.key=t,this.Gr=n}static Br(t,n){return gt.comparator(t.key,n.key)||Nt(t.Gr,n.Gr)}static kr(t,n){return Nt(t.Gr,n.Gr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new ke(qe.Br)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new pM(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.zr=this.zr.add(new qe(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,n){return nt.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.Hr(r),l=a<0?0:a;return nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?xy:this.Jn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new qe(n,0),a=new qe(n,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([r,a],c=>{const f=this.jr(c.Gr);l.push(f)}),nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ke(Nt);return n.forEach(a=>{const l=new qe(a,0),c=new qe(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],f=>{r=r.add(f.Gr)})}),nt.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;gt.isDocumentKey(l)||(l=l.child(""));const c=new qe(new gt(l),0);let f=new ke(Nt);return this.zr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Gr)),!0)},c),nt.resolve(this.Jr(f))}Jr(t){const n=[];return t.forEach(r=>{const a=this.jr(r);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){Gt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return nt.forEach(n.mutations,a=>{const l=new qe(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=r})}Xn(t){}containsKey(t,n){const r=new qe(n,0),a=this.zr.firstAfterOrEqual(r);return nt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}Yr(t,n){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const n=this.Hr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(t){this.Zr=t,this.docs=function(){return new ce(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return nt.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(t,n){let r=yr();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():an.newInvalidDocument(a))}),nt.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=yr();const c=n.path,f=new gt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||DV(IV(y),r)<=0||(a.has(y.key)||md(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return nt.resolve(l)}getAllFromCollectionGroup(t,n,r,a){Et(9500)}Xr(t,n){return nt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new e4(this)}getSize(t){return nt.resolve(this.size)}}class e4 extends YM{constructor(t){super(),this.vr=t}applyChanges(t){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.vr.addEntry(t,a)):this.vr.removeEntry(r)}),nt.waitFor(n)}getFromCache(t,n){return this.vr.getEntry(t,n)}getAllFromCache(t,n){return this.vr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(t){this.persistence=t,this.ei=new Va(n=>Iy(n),Dy),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ly,this.targetCount=0,this.ri=Xo.rr()}forEachTarget(t,n){return this.ei.forEach((r,a)=>n(a)),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),nt.resolve()}ar(t){this.ei.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ri=new Xo(n),this.highestTargetId=n),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,n){return this.ar(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.ar(n),nt.resolve()}removeTargetData(t,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.ei.forEach((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)}),nt.waitFor(l).next(()=>a)}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const r=this.ei.get(n)||null;return nt.resolve(r)}addMatchingKeys(t,n,r){return this.ni.qr(n,r),nt.resolve()}removeMatchingKeys(t,n,r){this.ni.$r(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),nt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.ni.Ur(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ni.Wr(n);return nt.resolve(r)}containsKey(t,n){return nt.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t,n){this.ii={},this.overlays={},this.si=new cd(0),this.oi=!1,this.oi=!0,this._i=new ZM,this.referenceDelegate=t(this),this.ai=new n4(this),this.indexManager=new BM,this.remoteDocumentCache=function(a){return new t4(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new UM(n),this.ci=new XM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new WM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ii[t.toKey()];return r||(r=new JM(n,this.referenceDelegate),this.ii[t.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,n,r){ft("MemoryPersistence","Starting transaction:",t);const a=new i4(this.si.next());return this.referenceDelegate.li(),r(a).next(l=>this.referenceDelegate.hi(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Pi(t,n){return nt.or(Object.values(this.ii).map(r=>()=>r.containsKey(t,n)))}}class i4 extends OV{constructor(t){super(),this.currentSequenceNumber=t}}class Uy{constructor(t){this.persistence=t,this.Ti=new Ly,this.Ii=null}static Ei(t){return new Uy(t)}get di(){if(this.Ii)return this.Ii;throw Et(60996)}addReference(t,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),nt.resolve()}removeReference(t,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ti.Ur(n.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.di.add(l.toString()))}).next(()=>r.removeTargetData(t,n))}li(){this.Ii=new Set}hi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,r=>{const a=gt.fromPath(r);return this.Ai(t,a).next(l=>{l||n.removeEntry(a,xt.min())})}).next(()=>(this.Ii=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ai(t,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(t){return 0}Ai(t,n){return nt.or([()=>nt.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Pi(t,n)])}}class Gf{constructor(t,n){this.persistence=t,this.Ri=new Va(r=>MV(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=KM(this,n)}static Ei(t,n){return new Gf(t,n)}li(){}hi(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(a=>r+a))}Vr(t){let n=0;return this.Ar(t,r=>{n++}).next(()=>n)}Ar(t,n){return nt.forEach(this.Ri,(r,a)=>this.gr(t,r,a).next(l=>l?nt.resolve():n(a)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Xr(t,c=>this.gr(t,c,n).next(f=>{f||(r++,l.removeEntry(c,xt.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.Ri.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.Ri.set(r,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,r){return this.Ri.set(r,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.Ri.set(n,t.currentSequenceNumber),nt.resolve()}ui(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=vf(t.data.value)),n}gr(t,n,r){return nt.or([()=>this.persistence.Pi(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.Ri.get(n);return nt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.ls=r,this.hs=a}static Ps(t,n){let r=Lt(),a=Lt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new jy(t,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return VD()?8:PV(ln())>0?6:4}()}initialize(t,n){this.As=t,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.Rs(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(t,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new r4;return this.fs(t,n,c).next(f=>{if(l.result=f,this.Is)return this.gs(t,n,c,f.size)})}).next(()=>l.result)}gs(t,n,r,a){return r.documentReadCount<this.Es?(Do()<=kt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",No(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),nt.resolve()):(Do()<=kt.DEBUG&&ft("QueryEngine","Query:",No(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Do()<=kt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",No(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(n))):nt.resolve())}Rs(t,n){if(fb(n))return nt.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Dg(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=Lt(...l);return this.As.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,r).next(m=>{const p=this.ps(n,f);return this.ys(n,p,c,m.readTime)?this.Rs(t,Dg(n,null,"F")):this.ws(t,p,n,m)}))})))}Vs(t,n,r,a){return fb(n)||a.isEqual(xt.min())?nt.resolve(null):this.As.getDocuments(t,r).next(l=>{const c=this.ps(n,l);return this.ys(n,c,r,a)?nt.resolve(null):(Do()<=kt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),No(n)),this.ws(t,c,n,CV(a,$u)).next(f=>f))})}ps(t,n){let r=new ke(Qw(t));return n.forEach((a,l)=>{md(t,l)&&(r=r.add(l))}),r}ys(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}fs(t,n,r){return Do()<=kt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",No(n)),this.As.getDocumentsMatchingQuery(t,n,ms.min(),r)}ws(t,n,r,a){return this.As.getDocumentsMatchingQuery(t,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="LocalStore",a4=3e8;class o4{constructor(t,n,r,a){this.persistence=t,this.bs=n,this.serializer=a,this.Ss=new ce(Nt),this.Ds=new Va(l=>Iy(l),Dy),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(r)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $M(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ss))}}function l4(e,t,n,r){return new o4(e,t,n,r)}async function y1(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Fs(t),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let m=Lt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:f}))})})}function u4(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=n.Cs.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const _=p.batch,b=_.keys();let x=nt.resolve();return b.forEach(P=>{x=x.next(()=>y.getEntry(m,P)).next(L=>{const M=p.docVersions.get(P);Gt(M!==null,48541),L.version.compareTo(M)<0&&(_.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))})}),x.next(()=>f.mutationQueue.removeMutationBatch(m,_))}(n,r,t,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=Lt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(t))).next(()=>n.localDocuments.getDocuments(r,a))})}function v1(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ai.getLastRemoteSnapshotVersion(n))}function c4(e,t){const n=Rt(e),r=t.snapshotVersion;let a=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Cs.newChangeBuffer({trackRemovals:!0});a=n.Ss;const f=[];t.targetChanges.forEach((y,_)=>{const b=a.get(_);if(!b)return;f.push(n.ai.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.ai.addMatchingKeys(l,y.addedDocuments,_)));let x=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?x=x.withResumeToken(Ze.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),a=a.insert(_,x),function(L,M,K){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=a4?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(b,x,y)&&f.push(n.ai.updateTargetData(l,x))});let m=yr(),p=Lt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(h4(l,c,t.documentUpdates).next(y=>{m=y.xs,p=y.Os})),!r.isEqual(xt.min())){const y=n.ai.getLastRemoteSnapshotVersion(l).next(_=>n.ai.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(y)}return nt.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ss=a,l))}function h4(e,t,n){let r=Lt(),a=Lt();return n.forEach(l=>r=r.add(l)),t.getEntries(e,r).next(l=>{let c=yr();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(xt.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):ft(By,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{xs:c,Os:a}})}function f4(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=xy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function d4(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.ai.getTargetData(r,t).next(l=>l?(a=l,nt.resolve(a)):n.ai.allocateTargetId(r).next(c=>(a=new as(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(t,r.targetId)),r})}async function Mg(e,t,n){const r=Rt(e),a=r.Ss.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!ol(c))throw c;ft(By,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(a.target)}function wb(e,t,n){const r=Rt(e);let a=xt.min(),l=Lt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=Rt(m),b=_.Ds.get(y);return b!==void 0?nt.resolve(_.Ss.get(b)):_.ai.getTargetData(p,y)}(r,c,Ci(t)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>r.bs.getDocumentsMatchingQuery(c,t,n?a:xt.min(),n?l:Lt())).next(f=>(m4(r,tM(t),f),{documents:f,Ns:l})))}function m4(e,t,n){let r=e.vs.get(t)||xt.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),e.vs.set(t,r)}class xb{constructor(){this.activeTargetIds=aM()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class p4{constructor(){this.So=new xb,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,n,r){this.Do[t]=n}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new xb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="ConnectivityMonitor";class Cb{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ft(Rb,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ft(Rb,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af=null;function kg(){return af===null?af=function(){return 268435456+Math.round(2147483648*Math.random())}():af++,"0x"+af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="RestConnection",y4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v4{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+t.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===jf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(t,n,r,a,l){const c=kg(),f=this.$o(t,n.toUriEncodedString());ft(Qp,`Sending RPC '${t}' ${c}:`,f,r);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(m,a,l),this.Ko(t,f,m,r).then(p=>(ft(Qp,`Received RPC '${t}' ${c}: `,p),p),p=>{throw Ko(Qp,`RPC '${t}' ${c} failed with error: `,p,"url: ",f,"request:",r),p})}Wo(t,n,r,a,l,c){return this.Qo(t,n,r,a,l)}Uo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}$o(t,n){const r=y4[t];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class T4 extends v4{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,n,r,a){const l=kg();return new Promise((c,f)=>{const m=new Ew;m.setWithCredentials(!0),m.listenOnce(bw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case yf.NO_ERROR:const y=m.getResponseJson();ft(nn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case yf.TIMEOUT:ft(nn,`RPC '${t}' ${l} timed out`),f(new dt(it.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const _=m.getStatus();if(ft(nn,`RPC '${t}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const x=b==null?void 0:b.error;if(x&&x.status&&x.message){const P=function(M){const K=M.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(K)>=0?K:it.UNKNOWN}(x.status);f(new dt(P,x.message))}else f(new dt(it.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new dt(it.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{s_:t,streamId:l,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{ft(nn,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(a);ft(nn,`RPC '${t}' ${l} sending request:`,a),m.send(n,"POST",p,r,15)})}a_(t,n,r){const a=kg(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=ww(),f=Aw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");ft(nn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);let b=!1,x=!1;const P=new _4({Go:M=>{x?ft(nn,`Not sending because RPC '${t}' stream ${a} is closed:`,M):(b||(ft(nn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),b=!0),ft(nn,`RPC '${t}' stream ${a} sending:`,M),_.send(M))},zo:()=>_.close()}),L=(M,K,W)=>{M.listen(K,G=>{try{W(G)}catch(st){setTimeout(()=>{throw st},0)}})};return L(_,Ru.EventType.OPEN,()=>{x||(ft(nn,`RPC '${t}' stream ${a} transport opened.`),P.t_())}),L(_,Ru.EventType.CLOSE,()=>{x||(x=!0,ft(nn,`RPC '${t}' stream ${a} transport closed`),P.r_())}),L(_,Ru.EventType.ERROR,M=>{x||(x=!0,Ko(nn,`RPC '${t}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),P.r_(new dt(it.UNAVAILABLE,"The operation could not be completed")))}),L(_,Ru.EventType.MESSAGE,M=>{var K;if(!x){const W=M.data[0];Gt(!!W,16349);const G=W,st=(G==null?void 0:G.error)||((K=G[0])===null||K===void 0?void 0:K.error);if(st){ft(nn,`RPC '${t}' stream ${a} received error:`,st);const X=st.status;let ct=function(C){const V=Re[C];if(V!==void 0)return s1(V)}(X),N=st.message;ct===void 0&&(ct=it.INTERNAL,N="Unknown error status: "+X+" with message "+st.message),x=!0,P.r_(new dt(ct,N)),_.close()}else ft(nn,`RPC '${t}' stream ${a} received:`,W),P.i_(W)}}),L(f,Sw.STAT_EVENT,M=>{M.stat===Sg.PROXY?ft(nn,`RPC '${t}' stream ${a} detected buffering proxy`):M.stat===Sg.NOPROXY&&ft(nn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{P.n_()},0),P}}function $p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(e){return new AM(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,n,r=1e3,a=1.5,l=6e4){this.bi=t,this.timerId=n,this.u_=r,this.c_=a,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,n-r);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="PersistentStream";class T1{constructor(t,n,r,a,l,c,f,m){this.bi=t,this.R_=r,this.V_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new _1(t,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===n&&this.B_(r,a)},r=>{t(()=>{const a=new dt(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(t,n){const r=this.N_(this.m_);this.stream=this.k_(t,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ft(Ib,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return n=>{this.bi.enqueueAndForget(()=>this.m_===t?n():(ft(Ib,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E4 extends T1{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}k_(t,n){return this.connection.a_("Listen",t,n)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const n=RM(this.serializer,t),r=function(l){if(!("targetChange"in l))return xt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xt.min():c.readTime?Ii(c.readTime):xt.min()}(t);return this.listener.Q_(n,r)}U_(t){const n={};n.database=Vg(this.serializer),n.addTarget=function(l,c){let f;const m=c.target;if(f=Cg(m)?{documents:DM(l,m)}:{query:NM(l,m).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=l1(l,c.resumeToken);const p=Ng(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(xt.min())>0){f.readTime=Hf(l,c.snapshotVersion.toTimestamp());const p=Ng(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,t);const r=PM(this.serializer,t);r&&(n.labels=r),this.F_(n)}K_(t){const n={};n.database=Vg(this.serializer),n.removeTarget=t,this.F_(n)}}class b4 extends T1{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,n){return this.connection.a_("Write",t,n)}q_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const n=IM(t.writeResults,t.commitTime),r=Ii(t.commitTime);return this.listener.j_(r,n)}H_(){const t={};t.database=Vg(this.serializer),this.F_(t)}G_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>CM(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{}class A4 extends S4{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new dt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,n,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(t,Og(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new dt(it.UNKNOWN,l.toString())})}Wo(t,n,r,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Wo(t,Og(n,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(it.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class w4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(gr(n),this.ea=!1):ft("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class x4{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{r.enqueueAndForget(async()=>{Ma(this)&&(ft(Oa,"Restarting streams for network reachability change."),await async function(m){const p=Rt(m);p.aa.add(4),await Ec(p),p.la.set("Unknown"),p.aa.delete(4),await _d(p)}(this))})}),this.la=new w4(r,a)}}async function _d(e){if(Ma(e))for(const t of e.ua)await t(!0)}async function Ec(e){for(const t of e.ua)await t(!1)}function E1(e,t){const n=Rt(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Hy(n)?qy(n):ul(n).b_()&&Fy(n,t))}function zy(e,t){const n=Rt(e),r=ul(n);n._a.delete(t),r.b_()&&b1(n,t),n._a.size===0&&(r.b_()?r.v_():Ma(n)&&n.la.set("Unknown"))}function Fy(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ul(e).U_(t)}function b1(e,t){e.ha.Ke(t),ul(e).K_(t)}function qy(e){e.ha=new TM({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),ul(e).start(),e.la.ta()}function Hy(e){return Ma(e)&&!ul(e).w_()&&e._a.size>0}function Ma(e){return Rt(e).aa.size===0}function S1(e){e.ha=void 0}async function R4(e){e.la.set("Online")}async function C4(e){e._a.forEach((t,n)=>{Fy(e,t)})}async function I4(e,t){S1(e),Hy(e)?(e.la.ia(t),qy(e)):e.la.set("Unknown")}async function D4(e,t,n){if(e.la.set("Online"),t instanceof o1&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a._a.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a._a.delete(f),a.ha.removeTarget(f))}(e,t)}catch(r){ft(Oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Kf(e,r)}else if(t instanceof Ef?e.ha.Xe(t):t instanceof a1?e.ha.ot(t):e.ha.nt(t),!n.isEqual(xt.min()))try{const r=await v1(e.localStore);n.compareTo(r)>=0&&await function(l,c){const f=l.ha.It(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l._a.get(p);y&&l._a.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l._a.get(m);if(!y)return;l._a.set(m,y.withResumeToken(Ze.EMPTY_BYTE_STRING,y.snapshotVersion)),b1(l,m);const _=new as(y.target,m,p,y.sequenceNumber);Fy(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(e,n)}catch(r){ft(Oa,"Failed to raise snapshot:",r),await Kf(e,r)}}async function Kf(e,t,n){if(!ol(t))throw t;e.aa.add(1),await Ec(e),e.la.set("Offline"),n||(n=()=>v1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ft(Oa,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await _d(e)})}function A1(e,t){return t().catch(n=>Kf(e,n,t))}async function Td(e){const t=Rt(e),n=vs(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:xy;for(;N4(t);)try{const a=await f4(t.localStore,r);if(a===null){t.oa.length===0&&n.v_();break}r=a.batchId,O4(t,a)}catch(a){await Kf(t,a)}w1(t)&&x1(t)}function N4(e){return Ma(e)&&e.oa.length<10}function O4(e,t){e.oa.push(t);const n=vs(e);n.b_()&&n.W_&&n.G_(t.mutations)}function w1(e){return Ma(e)&&!vs(e).w_()&&e.oa.length>0}function x1(e){vs(e).start()}async function P4(e){vs(e).H_()}async function V4(e){const t=vs(e);for(const n of e.oa)t.G_(n.mutations)}async function M4(e,t,n){const r=e.oa.shift(),a=Vy.from(r,t,n);await A1(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Td(e)}async function k4(e,t){t&&vs(e).W_&&await async function(r,a){if(function(c){return vM(c)&&c!==it.ABORTED}(a.code)){const l=r.oa.shift();vs(r).D_(),await A1(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Td(r)}}(e,t),w1(e)&&x1(e)}async function Db(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),ft(Oa,"RemoteStore received new credentials");const r=Ma(n);n.aa.add(3),await Ec(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await _d(n)}async function L4(e,t){const n=Rt(e);t?(n.aa.delete(2),await _d(n)):t||(n.aa.add(2),await Ec(n),n.la.set("Unknown"))}function ul(e){return e.Pa||(e.Pa=function(n,r,a){const l=Rt(n);return l.Y_(),new E4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{jo:R4.bind(null,e),Jo:C4.bind(null,e),Zo:I4.bind(null,e),Q_:D4.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),Hy(e)?qy(e):e.la.set("Unknown")):(await e.Pa.stop(),S1(e))})),e.Pa}function vs(e){return e.Ta||(e.Ta=function(n,r,a){const l=Rt(n);return l.Y_(),new b4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:P4.bind(null,e),Zo:k4.bind(null,e),z_:V4.bind(null,e),j_:M4.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await Td(e)):(await e.Ta.stop(),e.oa.length>0&&(ft(Oa,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,f=new Gy(t,n,c,a,l);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ky(e,t){if(gr("AsyncQueue",`${t}: ${e}`),ol(e))return new dt(it.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(t){return new qo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof qo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new qo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.Ia=new ce(gt.comparator)}track(t){const n=t.doc.key,r=this.Ia.get(n);r?t.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,t):t.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Ia=this.Ia.remove(n):t.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):Et(63341,{Vt:t,Ea:r}):this.Ia=this.Ia.insert(n,t)}da(){const t=[];return this.Ia.inorderTraversal((n,r)=>{t.push(r)}),t}}class Wo{constructor(t,n,r,a,l,c,f,m,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new Wo(t,n,qo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class j4{constructor(){this.queries=Ob(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const a=Rt(n),l=a.queries;a.queries=Ob(),l.forEach((c,f)=>{for(const m of f.Ra)m.onError(r)})})(this,new dt(it.ABORTED,"Firestore shutting down"))}}function Ob(){return new Va(e=>Yw(e),dd)}async function R1(e,t){const n=Rt(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.Va()&&t.ma()&&(r=2):(l=new U4,r=t.ma()?0:1);try{switch(r){case 0:l.Aa=await n.onListen(a,!0);break;case 1:l.Aa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Ky(c,`Initialization of query '${No(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.Ra.push(t),t.ga(n.onlineState),l.Aa&&t.pa(l.Aa)&&Yy(n)}async function C1(e,t){const n=Rt(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.Ra.indexOf(t);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?a=t.ma()?0:1:!l.Va()&&t.ma()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function B4(e,t){const n=Rt(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Ra)f.pa(a)&&(r=!0);c.Aa=a}}r&&Yy(n)}function z4(e,t,n){const r=Rt(e),a=r.queries.get(t);if(a)for(const l of a.Ra)l.onError(n);r.queries.delete(t)}function Yy(e){e.fa.forEach(t=>{t.next()})}var Lg,Pb;(Pb=Lg||(Lg={})).ya="default",Pb.Cache="cache";class I1{constructor(t,n,r){this.query=t,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Wo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ba?this.Da(t)&&(this.wa.next(t),n=!0):this.va(t,this.onlineState)&&(this.Ca(t),n=!0),this.Sa=t,n}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),n=!0),n}va(t,n){if(!t.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(t){t=Wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t){this.key=t}}class N1{constructor(t){this.key=t}}class F4{constructor(t,n){this.query=t,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Lt(),this.mutatedKeys=Lt(),this.Ua=Qw(t),this.Ka=new qo(this.Ua)}get Wa(){return this.qa}Ga(t,n){const r=n?n.za:new Nb,a=n?n.Ka:this.Ka;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,_)=>{const b=a.get(y),x=md(this.query,_)?_:null,P=!!b&&this.mutatedKeys.has(b.key),L=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let M=!1;b&&x?b.data.isEqual(x.data)?P!==L&&(r.track({type:3,doc:x}),M=!0):this.ja(b,x)||(r.track({type:2,doc:x}),M=!0,(m&&this.Ua(x,m)>0||p&&this.Ua(x,p)<0)&&(f=!0)):!b&&x?(r.track({type:0,doc:x}),M=!0):b&&!x&&(r.track({type:1,doc:b}),M=!0,(m||p)&&(f=!0)),M&&(x?(c=c.add(x),l=L?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{Ka:c,za:r,ys:f,mutatedKeys:l}}ja(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const c=t.za.da();c.sort((y,_)=>function(x,P){const L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:M})}};return L(x)-L(P)}(y.type,_.type)||this.Ua(y.doc,_.doc)),this.Ha(r),a=a!=null&&a;const f=n&&!a?this.Ja():[],m=this.$a.size===0&&this.current&&!a?1:0,p=m!==this.Qa;return this.Qa=m,c.length!==0||p?{snapshot:new Wo(this.query,t.Ka,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:f}:{Ya:f}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Nb,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Lt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return t.forEach(r=>{this.$a.has(r)||n.push(new N1(r))}),this.$a.forEach(r=>{t.has(r)||n.push(new D1(r))}),n}Xa(t){this.qa=t.Ns,this.$a=Lt();const n=this.Ga(t.documents);return this.applyChanges(n,!0)}eu(){return Wo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Qy="SyncEngine";class q4{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class H4{constructor(t){this.key=t,this.tu=!1}}class G4{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Va(f=>Yw(f),dd),this.iu=new Map,this.su=new Set,this.ou=new ce(gt.comparator),this._u=new Map,this.au=new Ly,this.uu={},this.cu=new Map,this.lu=Xo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function K4(e,t,n=!0){const r=L1(e);let a;const l=r.ru.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.eu()):a=await O1(r,t,n,!0),a}async function Y4(e,t){const n=L1(e);await O1(n,t,!0,!1)}async function O1(e,t,n,r){const a=await d4(e.localStore,Ci(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await Q4(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&E1(e.remoteStore,a),f}async function Q4(e,t,n,r,a){e.Pu=(_,b,x)=>async function(L,M,K,W){let G=M.view.Ga(K);G.ys&&(G=await wb(L.localStore,M.query,!1).then(({documents:N})=>M.view.Ga(N,G)));const st=W&&W.targetChanges.get(M.targetId),X=W&&W.targetMismatches.get(M.targetId)!=null,ct=M.view.applyChanges(G,L.isPrimaryClient,st,X);return Mb(L,M.targetId,ct.Ya),ct.snapshot}(e,_,b,x);const l=await wb(e.localStore,t,!0),c=new F4(t,l.Ns),f=c.Ga(l.documents),m=Tc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),p=c.applyChanges(f,e.isPrimaryClient,m);Mb(e,n,p.Ya);const y=new q4(t,n,c);return e.ru.set(t,y),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),p.snapshot}async function $4(e,t,n){const r=Rt(e),a=r.ru.get(t),l=r.iu.get(a.targetId);if(l.length>1)return r.iu.set(a.targetId,l.filter(c=>!dd(c,t))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Mg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&zy(r.remoteStore,a.targetId),Ug(r,a.targetId)}).catch(al)):(Ug(r,a.targetId),await Mg(r.localStore,a.targetId,!0))}async function X4(e,t){const n=Rt(e),r=n.ru.get(t),a=n.iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zy(n.remoteStore,r.targetId))}async function W4(e,t,n){const r=rk(e);try{const a=await function(c,f){const m=Rt(c),p=Me.now(),y=f.reduce((x,P)=>x.add(P.key),Lt());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let P=yr(),L=Lt();return m.Cs.getEntries(x,y).next(M=>{P=M,P.forEach((K,W)=>{W.isValidDocument()||(L=L.add(K))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,P)).next(M=>{_=M;const K=[];for(const W of f){const G=dM(W,_.get(W.key).overlayedDocument);G!=null&&K.push(new Is(W.key,G,jw(G.value.mapValue),Qn.exists(!0)))}return m.mutationQueue.addMutationBatch(x,p,K,f)}).next(M=>{b=M;const K=M.applyToLocalDocumentSet(_,L);return m.documentOverlayCache.saveOverlays(x,M.batchId,K)})}).then(()=>({batchId:b.batchId,changes:Xw(_)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.uu[c.currentUser.toKey()];p||(p=new ce(Nt)),p=p.insert(f,m),c.uu[c.currentUser.toKey()]=p}(r,a.batchId,n),await bc(r,a.changes),await Td(r.remoteStore)}catch(a){const l=Ky(a,"Failed to persist write");n.reject(l)}}async function P1(e,t){const n=Rt(e);try{const r=await c4(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n._u.get(l);c&&(Gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?Gt(c.tu,14607):a.removedDocuments.size>0&&(Gt(c.tu,42227),c.tu=!1))}),await bc(n,r,t)}catch(r){await al(r)}}function Vb(e,t,n){const r=Rt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.ru.forEach((l,c)=>{const f=c.view.ga(t);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=Rt(c);m.onlineState=f;let p=!1;m.queries.forEach((y,_)=>{for(const b of _.Ra)b.ga(f)&&(p=!0)}),p&&Yy(m)}(r.eventManager,t),a.length&&r.nu.Q_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Z4(e,t,n){const r=Rt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r._u.get(t),l=a&&a.key;if(l){let c=new ce(gt.comparator);c=c.insert(l,an.newNoDocument(l,xt.min()));const f=Lt().add(l),m=new yd(xt.min(),new Map,new ce(Nt),c,f);await P1(r,m),r.ou=r.ou.remove(l),r._u.delete(t),$y(r)}else await Mg(r.localStore,t,!1).then(()=>Ug(r,t,n)).catch(al)}async function J4(e,t){const n=Rt(e),r=t.batch.batchId;try{const a=await u4(n.localStore,t);M1(n,r,null),V1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bc(n,a)}catch(a){await al(a)}}async function tk(e,t,n){const r=Rt(e);try{const a=await function(c,f){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(_=>(Gt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,t);M1(r,t,n),V1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await bc(r,a)}catch(a){await al(a)}}function V1(e,t){(e.cu.get(t)||[]).forEach(n=>{n.resolve()}),e.cu.delete(t)}function M1(e,t,n){const r=Rt(e);let a=r.uu[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.uu[r.currentUser.toKey()]=a}}function Ug(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(r=>{e.au.containsKey(r)||k1(e,r)})}function k1(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);n!==null&&(zy(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),$y(e))}function Mb(e,t,n){for(const r of n)r instanceof D1?(e.au.addReference(r.key,t),ek(e,r)):r instanceof N1?(ft(Qy,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||k1(e,r.key)):Et(19791,{Iu:r})}function ek(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(ft(Qy,"New document in limbo: "+n),e.su.add(r),$y(e))}function $y(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new gt(re.fromString(t)),r=e.lu.next();e._u.set(r,new H4(n)),e.ou=e.ou.insert(n,r),E1(e.remoteStore,new as(Ci(Ny(n.path)),r,"TargetPurposeLimboResolution",cd.le))}}async function bc(e,t,n){const r=Rt(e),a=[],l=[],c=[];r.ru.isEmpty()||(r.ru.forEach((f,m)=>{c.push(r.Pu(m,t,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=jy.Ps(m.targetId,p);l.push(_)}}))}),await Promise.all(c),r.nu.Q_(a),await async function(m,p){const y=Rt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>nt.forEach(p,b=>nt.forEach(b.ls,x=>y.persistence.referenceDelegate.addReference(_,b.targetId,x)).next(()=>nt.forEach(b.hs,x=>y.persistence.referenceDelegate.removeReference(_,b.targetId,x)))))}catch(_){if(!ol(_))throw _;ft(By,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const x=y.Ss.get(b),P=x.snapshotVersion,L=x.withLastLimboFreeSnapshotVersion(P);y.Ss=y.Ss.insert(b,L)}}}(r.localStore,l))}async function nk(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){ft(Qy,"User change. New user:",t.toKey());const r=await y1(n.localStore,t);n.currentUser=t,function(l,c){l.cu.forEach(f=>{f.forEach(m=>{m.reject(new dt(it.CANCELLED,c))})}),l.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await bc(n,r.Ms)}}function ik(e,t){const n=Rt(e),r=n._u.get(t);if(r&&r.tu)return Lt().add(r.key);{let a=Lt();const l=n.iu.get(t);if(!l)return a;for(const c of l){const f=n.ru.get(c);a=a.unionWith(f.view.Wa)}return a}}function L1(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=P1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ik.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Z4.bind(null,t),t.nu.Q_=B4.bind(null,t.eventManager),t.nu.Tu=z4.bind(null,t.eventManager),t}function rk(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=J4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tk.bind(null,t),t}class Yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vd(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,n){return null}fu(t,n){return null}Vu(t){return l4(this.persistence,new s4,t.initialUser,this.serializer)}Ru(t){return new g1(Uy.Ei,this.serializer)}Au(t){return new p4}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yf.provider={build:()=>new Yf};class sk extends Yf{constructor(t){super(),this.cacheSizeBytes=t}mu(t,n){Gt(this.persistence.referenceDelegate instanceof Gf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HM(r,t.asyncQueue,n)}Ru(t){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new g1(r=>Gf.Ei(r,n),this.serializer)}}class jg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nk.bind(null,this.syncEngine),await L4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new j4}()}createDatastore(t){const n=vd(t.databaseInfo.databaseId),r=function(l){return new T4(l)}(t.databaseInfo);return function(l,c,f,m){return new A4(l,c,f,m)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,a,l,c,f){return new x4(r,a,l,c,f)}(this.localStore,this.datastore,t.asyncQueue,n=>Vb(this.syncEngine,n,0),function(){return Cb.C()?new Cb:new g4}())}createSyncEngine(t,n){return function(a,l,c,f,m,p,y){const _=new G4(a,l,c,f,m,p);return y&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const l=Rt(a);ft(Oa,"RemoteStore shutting down."),l.aa.add(5),await Ec(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):gr("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class ak{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=Iw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{ft(_s,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ft(_s,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ky(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Xp(e,t){e.asyncQueue.verifyOperationInProgress(),ft(_s,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async a=>{r.isEqual(a)||(await y1(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function kb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ok(e);ft(_s,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Db(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,a)=>Db(t.remoteStore,a)),e._onlineComponents=t}async function ok(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(_s,"Using user provided OfflineComponentProvider");try{await Xp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===it.FAILED_PRECONDITION||a.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ko("Error using user provided cache. Falling back to memory cache: "+n),await Xp(e,new Yf)}}else ft(_s,"Using default OfflineComponentProvider"),await Xp(e,new sk(void 0));return e._offlineComponents}async function j1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(_s,"Using user provided OnlineComponentProvider"),await kb(e,e._uninitializedComponentsProvider._online)):(ft(_s,"Using default OnlineComponentProvider"),await kb(e,new jg))),e._onlineComponents}function lk(e){return j1(e).then(t=>t.syncEngine)}async function Bg(e){const t=await j1(e),n=t.eventManager;return n.onListen=K4.bind(null,t.syncEngine),n.onUnlisten=$4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Y4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=X4.bind(null,t.syncEngine),n}function uk(e,t,n={}){const r=new fs;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new U1({next:b=>{y.yu(),c.enqueueAndForget(()=>C1(l,_)),b.fromCache&&m.source==="server"?p.reject(new dt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new I1(f,y,{includeMetadataChanges:!0,Fa:!0});return R1(l,_)}(await Bg(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(e,t,n){if(!n)throw new dt(it.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ck(e,t,n,r){if(t===!0&&r===!0)throw new dt(it.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ub(e){if(!gt.isDocumentKey(e))throw new dt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jb(e){if(gt.isDocumentKey(e))throw new dt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ed(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Et(12329,{type:typeof e})}function $n(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ed(e);throw new dt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firestore.googleapis.com",Bb=!0;class zb{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new dt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=F1,this.ssl=Bb}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Bb;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=p1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<FM)throw new dt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ck("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B1((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new dt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new dt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new dt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bd{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _V;switch(r.type){case"firstParty":return new SV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Lb.get(n);r&&(ft("ComponentProvider","Removing Datastore"),Lb.delete(n),r.terminate())}(this),Promise.resolve()}}function hk(e,t,n,r={}){var a;const l=(e=$n(e,bd))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:e._getEmulatorOptions()}),f=`${t}:${n}`;l.host!==F1&&l.host!==f&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:r});if(!Ra(m,c)&&(e._setSettings(m),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=sn.MOCK_USER;else{p=RD(r.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new dt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(_)}e._authCredentials=new TV(new Rw(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ds(this.firestore,t,this._query)}}class pn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pn(this.firestore,t,this._key)}}class ds extends Ds{constructor(t,n,r){super(t,n,Ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pn(this.firestore,null,new gt(t))}withConverter(t){return new ds(this.firestore,t,this._path)}}function bf(e,t,...n){if(e=Ie(e),z1("collection","path",t),e instanceof bd){const r=re.fromString(t,...n);return jb(r),new ds(e,null,r)}{if(!(e instanceof pn||e instanceof ds))throw new dt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(re.fromString(t,...n));return jb(r),new ds(e.firestore,null,r)}}function Qf(e,t,...n){if(e=Ie(e),arguments.length===1&&(t=Iw.newId()),z1("doc","path",t),e instanceof bd){const r=re.fromString(t,...n);return Ub(r),new pn(e,null,new gt(r))}{if(!(e instanceof pn||e instanceof ds))throw new dt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(re.fromString(t,...n));return Ub(r),new pn(e.firestore,e instanceof ds?e.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="AsyncQueue";class qb{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new _1(this,"async_queue_retry"),this.ju=()=>{const r=$p();r&&ft(Fb,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=t;const n=$p();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=$p();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new fs;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!ol(t))throw t;ft(Fb,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(r=>{throw this.Ku=r,this.Wu=!1,gr("INTERNAL UNHANDLED ERROR: ",Hb(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(t,n,r){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const a=Gy.createAndSchedule(this,t,n,r,l=>this.Xu(l));return this.Uu.push(a),a}Ju(){this.Ku&&Et(47125,{ec:Hb(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function Hb(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(e,["next","error","complete"])}class Ts extends bd{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new qb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qb(t),this._firestoreClient=void 0,await t}}}function fk(e,t){const n=typeof e=="object"?e:LA(),r=typeof e=="string"?e:jf,a=py(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=wD("firestore");l&&hk(a,...l)}return a}function Xy(e){if(e._terminated)throw new dt(it.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||dk(e),e._firestoreClient}function dk(e){var t,n,r;const a=e._freezeSettings(),l=function(f,m,p,y){return new UV(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,B1(y.experimentalLongPollingOptions),y.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new ak(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zo(Ze.fromBase64String(t))}catch(n){throw new dt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Zo(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new dt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new dt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=/^__.*__$/;class pk{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Is(t,this.data,this.fieldMask,n,this.fieldTransforms):new _c(t,this.data,n,this.fieldTransforms)}}class q1{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Is(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function H1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{oc:e})}}class tv{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new tv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ac({path:r,cc:!1});return a.lc(t),a}hc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return $f(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(H1(this.oc)&&mk.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class gk{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||vd(t)}dc(t,n,r,a=!1){return new tv({oc:t,methodName:n,Ec:r,path:We.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ad(e){const t=e._freezeSettings(),n=vd(e._databaseId);return new gk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function G1(e,t,n,r,a,l={}){const c=e.dc(l.merge||l.mergeFields?2:0,t,n,a);ev("Data must be an object, but it was:",c,r);const f=K1(r,c);let m,p;if(l.merge)m=new Nn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=zg(t,_,n);if(!c.contains(b))throw new dt(it.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Q1(y,b)||y.push(b)}m=new Nn(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new pk(new Tn(f),m,p)}class wd extends Wy{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wd}}function yk(e,t,n,r){const a=e.dc(1,t,n);ev("Data must be an object, but it was:",a,r);const l=[],c=Tn.empty();Cs(r,(m,p)=>{const y=nv(t,m,n);p=Ie(p);const _=a.hc(y);if(p instanceof wd)l.push(y);else{const b=Sc(p,_);b!=null&&(l.push(y),c.set(y,b))}});const f=new Nn(l);return new q1(c,f,a.fieldTransforms)}function vk(e,t,n,r,a,l){const c=e.dc(1,t,n),f=[zg(t,r,n)],m=[a];if(l.length%2!=0)throw new dt(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(zg(t,l[b])),m.push(l[b+1]);const p=[],y=Tn.empty();for(let b=f.length-1;b>=0;--b)if(!Q1(p,f[b])){const x=f[b];let P=m[b];P=Ie(P);const L=c.hc(x);if(P instanceof wd)p.push(x);else{const M=Sc(P,L);M!=null&&(p.push(x),y.set(x,M))}}const _=new Nn(p);return new q1(y,_,c.fieldTransforms)}function _k(e,t,n,r=!1){return Sc(n,e.dc(r?4:3,t))}function Sc(e,t){if(Y1(e=Ie(e)))return ev("Unsupported field value:",t,e),K1(e,t);if(e instanceof Wy)return function(r,a){if(!H1(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let m=Sc(f,a.Pc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(e,t)}return function(r,a){if((r=Ie(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Me.fromDate(r);return{timestampValue:Hf(a.serializer,l)}}if(r instanceof Me){const l=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hf(a.serializer,l)}}if(r instanceof Zy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zo)return{bytesValue:l1(a.serializer,r._byteString)};if(r instanceof pn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ky(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Jy)return function(c,f){return{mapValue:{fields:{[Lw]:{stringValue:Uw},[Bf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.Tc("VectorValues must only contain numeric values.");return Oy(f.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${Ed(r)}`)}(e,t)}function K1(e,t){const n={};return Nw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cs(e,(r,a)=>{const l=Sc(a,t.uc(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function Y1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Me||e instanceof Zy||e instanceof Zo||e instanceof pn||e instanceof Wy||e instanceof Jy)}function ev(e,t,n){if(!Y1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=Ed(n);throw r==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}}function zg(e,t,n){if((t=Ie(t))instanceof Sd)return t._internalPath;if(typeof t=="string")return nv(e,t);throw $f("Field path arguments must be of type string or ",e,!1,void 0,n)}const Tk=new RegExp("[~\\*/\\[\\]]");function nv(e,t,n){if(t.search(Tk)>=0)throw $f(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Sd(...t.split("."))._internalPath}catch{throw $f(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function $f(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new dt(it.INVALID_ARGUMENT,f+e+m)}function Q1(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Ek(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(xd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ek extends $1{data(){return super.data()}}function xd(e,t){return typeof t=="string"?nv(e,t):t instanceof Sd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new dt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iv{}class W1 extends iv{}function Xf(e,t,...n){let r=[];t instanceof iv&&r.push(t),r=r.concat(n),function(l){const c=l.filter(m=>m instanceof rv).length,f=l.filter(m=>m instanceof Rd).length;if(c>1||c>0&&f>0)throw new dt(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)e=a._apply(e);return e}class Rd extends W1{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Rd(t,n,r)}_apply(t){const n=this._parse(t);return Z1(t._query,n),new Ds(t.firestore,t.converter,Ig(t._query,n))}_parse(t){const n=Ad(t.firestore);return function(l,c,f,m,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new dt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Yb(_,y);const P=[];for(const L of _)P.push(Kb(m,l,L));b={arrayValue:{values:P}}}else b=Kb(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Yb(_,y),b=_k(f,c,_,y==="in"||y==="not-in");return Ce.create(p,y,b)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function ju(e,t,n){const r=t,a=xd("where",e);return Rd._create(a,r,n)}class rv extends iv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new rv(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)Z1(c,m),c=Ig(c,m)}(t._query,n),new Ds(t.firestore,t.converter,Ig(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sv extends W1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new sv(t,n)}_apply(t){const n=function(a,l,c){if(a.startAt!==null)throw new dt(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new dt(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ju(l,c)}(t._query,this._field,this._direction);return new Ds(t.firestore,t.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new ll(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,n))}}function bk(e,t="asc"){const n=t,r=xd("orderBy",e);return sv._create(r,n)}function Kb(e,t,n){if(typeof(n=Ie(n))=="string"){if(n==="")throw new dt(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kw(t)&&n.indexOf("/")!==-1)throw new dt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(re.fromString(n));if(!gt.isDocumentKey(r))throw new dt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ab(e,new gt(r))}if(n instanceof pn)return ab(e,n._key);throw new dt(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(n)}.`)}function Yb(e,t){if(!Array.isArray(e)||e.length===0)throw new dt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Z1(e,t){const n=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new dt(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new dt(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Sk{convertValue(t,n="none"){switch(ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(gs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Cs(t,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(t){var n,r,a;const l=(a=(r=(n=t.fields)===null||n===void 0?void 0:n[Bf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>Ee(c.doubleValue));return new Jy(l)}convertGeoPoint(t){return new Zy(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=fd(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xu(t));default:return null}}convertTimestamp(t){const n=ps(t);return new Me(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=re.fromString(t);Gt(m1(r),9688,{name:t});const a=new Wu(r.get(1),r.get(3)),l=new gt(r.popFirst(5));return a.isEqual(n)||gr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class tx extends $1{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(xd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sf extends tx{data(t={}){return super.data(t)}}class ex{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Du(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Sf(this._firestore,this._userDataWriter,r.key,r,new Du(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new dt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Sf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Du(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Sf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Du(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:Ak(f.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ak(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:e})}}class av extends Sk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function Fg(e){e=$n(e,Ds);const t=$n(e.firestore,Ts),n=Xy(t),r=new av(t);return X1(e._query),uk(n,e._query).then(a=>new ex(t,r,e,a))}function wk(e,t,n){e=$n(e,pn);const r=$n(e.firestore,Ts),a=J1(e.converter,t);return Cd(r,[G1(Ad(r),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Qn.none())])}function xk(e,t,n,...r){e=$n(e,pn);const a=$n(e.firestore,Ts),l=Ad(a);let c;return c=typeof(t=Ie(t))=="string"||t instanceof Sd?vk(l,"updateDoc",e._key,t,n,r):yk(l,"updateDoc",e._key,t),Cd(a,[c.toMutation(e._key,Qn.exists(!0))])}function Rk(e){return Cd($n(e.firestore,Ts),[new Py(e._key,Qn.none())])}function Ck(e,t){const n=$n(e.firestore,Ts),r=Qf(e),a=J1(e.converter,t);return Cd(n,[G1(Ad(e.firestore),"addDoc",r._key,a,e.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}function Ik(e,...t){var n,r,a;e=Ie(e);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||Gb(t[c])||(l=t[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Gb(t[c])){const _=t[c];t[c]=(n=_.next)===null||n===void 0?void 0:n.bind(_),t[c+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),t[c+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let m,p,y;if(e instanceof pn)p=$n(e.firestore,Ts),y=Ny(e._key.path),m={next:_=>{t[c]&&t[c](Dk(p,e,_))},error:t[c+1],complete:t[c+2]};else{const _=$n(e,Ds);p=$n(_.firestore,Ts),y=_._query;const b=new av(p);m={next:x=>{t[c]&&t[c](new ex(p,b,_,x))},error:t[c+1],complete:t[c+2]},X1(e._query)}return function(b,x,P,L){const M=new U1(L),K=new I1(x,M,P);return b.asyncQueue.enqueueAndForget(async()=>R1(await Bg(b),K)),()=>{M.yu(),b.asyncQueue.enqueueAndForget(async()=>C1(await Bg(b),K))}}(Xy(p),y,f,m)}function Cd(e,t){return function(r,a){const l=new fs;return r.asyncQueue.enqueueAndForget(async()=>W4(await lk(r),a,l)),l.promise}(Xy(e),t)}function Dk(e,t,n){const r=n.docs.get(t._key),a=new av(e);return new tx(e,a,t._key,r,new Du(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){sl=a})(il),Ho(new Ca("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Ts(new EV(r.getProvider("auth-internal")),new AV(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new dt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),cs(QE,$E,t),cs(QE,$E,"esm2017")})();const Nk={apiKey:"AIzaSyAwHDyAQA3zh-fKugf2NisjJiuqvDj8drc",authDomain:"cloud-contact-saver.firebaseapp.com",projectId:"cloud-contact-saver",storageBucket:"cloud-contact-saver.firebasestorage.app",messagingSenderId:"705922541331",appId:"1:705922541331:web:945f482a60df03e609dce6"},nx=kA(Nk),Su=pV(nx),_a=fk(nx),ix=j.createContext();function ka(){return j.useContext(ix)}function Ok({children:e}){const[t,n]=j.useState(null),[r,a]=j.useState(!0),[l,c]=j.useState("");async function f(P,L,M){const K=await ZO(Su,P,L);return await LE(K.user,{displayName:M}),K}function m(P,L){return JO(Su,P,L)}function p(){return rP(Su)}function y(P){return WO(Su,P)}function _(P,L){return LE(P,L)}function b(){c("")}j.useEffect(()=>iP(Su,L=>{n(L),a(!1)}),[]);const x={currentUser:t,signup:f,login:m,logout:p,resetPassword:y,updateUserProfile:_,error:l,setError:c,resetError:b};return A.jsx(ix.Provider,{value:x,children:!r&&e})}const ov=j.createContext({});function lv(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const uv=typeof window<"u",rx=uv?j.useLayoutEffect:j.useEffect,Id=j.createContext(null),cv=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Pk extends j.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=r instanceof HTMLElement&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Vk({children:e,isPresent:t,anchorX:n}){const r=j.useId(),a=j.useRef(null),l=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=j.useContext(cv);return j.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:y,right:_}=l.current;if(t||!a.current||!f||!m)return;const b=n==="left"?`left: ${y}`:`right: ${_}`;a.current.dataset.motionPopId=r;const x=document.createElement("style");return c&&(x.nonce=c),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[t]),A.jsx(Pk,{isPresent:t,childRef:a,sizeRef:l,children:j.cloneElement(e,{ref:a})})}const Mk=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f})=>{const m=lv(kk),p=j.useId();let y=!0,_=j.useMemo(()=>(y=!1,{id:p,initial:t,isPresent:n,custom:a,onExitComplete:b=>{m.set(b,!0);for(const x of m.values())if(!x)return;r&&r()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,r]);return l&&y&&(_={..._}),j.useMemo(()=>{m.forEach((b,x)=>m.set(x,!1))},[n]),j.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(e=A.jsx(Vk,{isPresent:n,anchorX:f,children:e})),A.jsx(Id.Provider,{value:_,children:e})};function kk(){return new Map}function sx(e=!0){const t=j.useContext(Id);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=j.useId();j.useEffect(()=>{if(e)return a(l)},[e]);const c=j.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const of=e=>e.key||"";function Qb(e){const t=[];return j.Children.forEach(e,n=>{j.isValidElement(n)&&t.push(n)}),t}const Ac=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left"})=>{const[m,p]=sx(c),y=j.useMemo(()=>Qb(e),[e]),_=c&&!m?[]:y.map(of),b=j.useRef(!0),x=j.useRef(y),P=lv(()=>new Map),[L,M]=j.useState(y),[K,W]=j.useState(y);rx(()=>{b.current=!1,x.current=y;for(let X=0;X<K.length;X++){const ct=of(K[X]);_.includes(ct)?P.delete(ct):P.get(ct)!==!0&&P.set(ct,!1)}},[K,_.length,_.join("-")]);const G=[];if(y!==L){let X=[...y];for(let ct=0;ct<K.length;ct++){const N=K[ct],R=of(N);_.includes(R)||(X.splice(ct,0,N),G.push(N))}return l==="wait"&&G.length&&(X=G),W(Qb(X)),M(y),null}const{forceRender:st}=j.useContext(ov);return A.jsx(A.Fragment,{children:K.map(X=>{const ct=of(X),N=c&&!m?!1:y===K||_.includes(ct),R=()=>{if(P.has(ct))P.set(ct,!0);else return;let C=!0;P.forEach(V=>{V||(C=!1)}),C&&(st==null||st(),W(x.current),c&&(p==null||p()),r&&r())};return A.jsx(Mk,{isPresent:N,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,onExitComplete:N?void 0:R,anchorX:f,children:X},ct)})})};function hv(e,t){e.indexOf(t)===-1&&e.push(t)}function fv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const vr=(e,t,n)=>n>t?t:n<e?e:n;let dv=()=>{};const _r={},ax=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ox=e=>/^0[^.\s]+$/u.test(e);function mv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Xn=e=>e,Lk=(e,t)=>n=>t(e(n)),wc=(...e)=>e.reduce(Lk),nc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class pv{constructor(){this.subscriptions=[]}add(t){return hv(this.subscriptions,t),()=>fv(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Di=e=>e*1e3,Ni=e=>e/1e3;function lx(e,t){return t?e*(1e3/t):0}const ux=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Uk=1e-7,jk=12;function Bk(e,t,n,r,a){let l,c,f=0;do c=t+(n-t)/2,l=ux(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>Uk&&++f<jk);return c}function xc(e,t,n,r){if(e===t&&n===r)return Xn;const a=l=>Bk(l,0,1,e,n);return l=>l===0||l===1?l:ux(a(l),t,r)}const cx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hx=e=>t=>1-e(1-t),fx=xc(.33,1.53,.69,.99),gv=hx(fx),dx=cx(gv),mx=e=>(e*=2)<1?.5*gv(e):.5*(2-Math.pow(2,-10*(e-1))),yv=e=>1-Math.sin(Math.acos(e)),px=hx(yv),gx=cx(yv),zk=xc(.42,0,1,1),Fk=xc(0,0,.58,1),yx=xc(.42,0,.58,1),qk=e=>Array.isArray(e)&&typeof e[0]!="number",vx=e=>Array.isArray(e)&&typeof e[0]=="number",Hk={linear:Xn,easeIn:zk,easeInOut:yx,easeOut:Fk,circIn:yv,circInOut:gx,circOut:px,backIn:gv,backInOut:dx,backOut:fx,anticipate:mx},Gk=e=>typeof e=="string",$b=e=>{if(vx(e)){dv(e.length===4);const[t,n,r,a]=e;return xc(t,n,r,a)}else if(Gk(e))return Hk[e];return e},lf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Xb={value:null};function Kk(e,t){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function p(_){c.has(_)&&(y.schedule(_),e()),m++,_(f)}const y={schedule:(_,b=!1,x=!1)=>{const L=x&&a?n:r;return b&&c.add(_),L.has(_)||L.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(f=_,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),t&&Xb.value&&Xb.value.frameloop[t].push(m),m=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const Yk=40;function _x(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=lf.reduce((G,st)=>(G[st]=Kk(l,t?st:void 0),G),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:b,render:x,postRender:P}=c,L=()=>{const G=_r.useManualTiming?a.timestamp:performance.now();n=!1,_r.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(G-a.timestamp,Yk),1)),a.timestamp=G,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),b.process(a),x.process(a),P.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(L))},M=()=>{n=!0,r=!0,a.isProcessing||e(L)};return{schedule:lf.reduce((G,st)=>{const X=c[st];return G[st]=(ct,N=!1,R=!1)=>(n||M(),X.schedule(ct,N,R)),G},{}),cancel:G=>{for(let st=0;st<lf.length;st++)c[lf[st]].cancel(G)},state:a,steps:c}}const{schedule:ue,cancel:Es,state:$e,steps:Wp}=_x(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let Af;function Qk(){Af=void 0}const En={now:()=>(Af===void 0&&En.set($e.isProcessing||_r.useManualTiming?$e.timestamp:performance.now()),Af),set:e=>{Af=e,queueMicrotask(Qk)}},Tx=e=>t=>typeof t=="string"&&t.startsWith(e),vv=Tx("--"),$k=Tx("var(--"),_v=e=>$k(e)?Xk.test(e.split("/*")[0].trim()):!1,Xk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ic={...cl,transform:e=>vr(0,1,e)},uf={...cl,default:1},Bu=e=>Math.round(e*1e5)/1e5,Tv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Wk(e){return e==null}const Zk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ev=(e,t)=>n=>!!(typeof n=="string"&&Zk.test(n)&&n.startsWith(e)||t&&!Wk(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ex=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(Tv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},Jk=e=>vr(0,255,e),Zp={...cl,transform:e=>Math.round(Jk(e))},ba={test:Ev("rgb","red"),parse:Ex("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Zp.transform(e)+", "+Zp.transform(t)+", "+Zp.transform(n)+", "+Bu(ic.transform(r))+")"};function tL(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const qg={test:Ev("#"),parse:tL,transform:ba.transform},Rc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Jr=Rc("deg"),Oi=Rc("%"),At=Rc("px"),eL=Rc("vh"),nL=Rc("vw"),Wb={...Oi,parse:e=>Oi.parse(e)/100,transform:e=>Oi.transform(e*100)},Mo={test:Ev("hsl","hue"),parse:Ex("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Oi.transform(Bu(t))+", "+Oi.transform(Bu(n))+", "+Bu(ic.transform(r))+")"},rn={test:e=>ba.test(e)||qg.test(e)||Mo.test(e),parse:e=>ba.test(e)?ba.parse(e):Mo.test(e)?Mo.parse(e):qg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ba.transform(e):Mo.transform(e)},iL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rL(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Tv))==null?void 0:t.length)||0)+(((n=e.match(iL))==null?void 0:n.length)||0)>0}const bx="number",Sx="color",sL="var",aL="var(",Zb="${}",oL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(oL,m=>(rn.test(m)?(r.color.push(l),a.push(Sx),n.push(rn.parse(m))):m.startsWith(aL)?(r.var.push(l),a.push(sL),n.push(m)):(r.number.push(l),a.push(bx),n.push(parseFloat(m))),++l,Zb)).split(Zb);return{values:n,split:f,indexes:r,types:a}}function Ax(e){return rc(e).values}function wx(e){const{split:t,types:n}=rc(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const f=n[c];f===bx?l+=Bu(a[c]):f===Sx?l+=rn.transform(a[c]):l+=a[c]}return l}}const lL=e=>typeof e=="number"?0:e;function uL(e){const t=Ax(e);return wx(e)(t.map(lL))}const bs={test:rL,parse:Ax,createTransformer:wx,getAnimatableNone:uL};function Jp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cL({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;a=Jp(m,f,e+1/3),l=Jp(m,f,e),c=Jp(m,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Wf(e,t){return n=>n>0?t:e}const le=(e,t,n)=>e+(t-e)*n,tg=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},hL=[qg,ba,Mo],fL=e=>hL.find(t=>t.test(e));function Jb(e){const t=fL(e);if(!t)return!1;let n=t.parse(e);return t===Mo&&(n=cL(n)),n}const tS=(e,t)=>{const n=Jb(e),r=Jb(t);if(!n||!r)return Wf(e,t);const a={...n};return l=>(a.red=tg(n.red,r.red,l),a.green=tg(n.green,r.green,l),a.blue=tg(n.blue,r.blue,l),a.alpha=le(n.alpha,r.alpha,l),ba.transform(a))},Hg=new Set(["none","hidden"]);function dL(e,t){return Hg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function mL(e,t){return n=>le(e,t,n)}function bv(e){return typeof e=="number"?mL:typeof e=="string"?_v(e)?Wf:rn.test(e)?tS:yL:Array.isArray(e)?xx:typeof e=="object"?rn.test(e)?tS:pL:Wf}function xx(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>bv(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function pL(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=bv(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function gL(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][r[l]],f=e.values[c]??0;n[a]=f,r[l]++}return n}const yL=(e,t)=>{const n=bs.createTransformer(t),r=rc(e),a=rc(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Hg.has(e)&&!a.values.length||Hg.has(t)&&!r.values.length?dL(e,t):wc(xx(gL(r,a),a.values),n):Wf(e,t)};function Rx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?le(e,t,n):bv(e)(e,t)}const vL=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ue.update(t,!0),stop:()=>Es(t),now:()=>$e.isProcessing?$e.timestamp:En.now()}},Cx=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=e(l/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Zf=2e4;function Sv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Zf;)t+=n,r=e.next(t);return t>=Zf?1/0:t}function _L(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Sv(r),Zf);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:Ni(a)}}const TL=5;function Ix(e,t,n){const r=Math.max(t-TL,0);return lx(n-e(r),t-r)}const ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eS=.001;function EL({duration:e=ge.duration,bounce:t=ge.bounce,velocity:n=ge.velocity,mass:r=ge.mass}){let a,l,c=1-t;c=vr(ge.minDamping,ge.maxDamping,c),e=vr(ge.minDuration,ge.maxDuration,Ni(e)),c<1?(a=p=>{const y=p*c,_=y*e,b=y-n,x=Gg(p,c),P=Math.exp(-_);return eS-b/x*P},l=p=>{const _=p*c*e,b=_*n+n,x=Math.pow(c,2)*Math.pow(p,2)*e,P=Math.exp(-_),L=Gg(Math.pow(p,2),c);return(-a(p)+eS>0?-1:1)*((b-x)*P)/L}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-.001+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const f=5/e,m=SL(a,l,f);if(e=Di(e),isNaN(m))return{stiffness:ge.stiffness,damping:ge.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:e}}}const bL=12;function SL(e,t,n){let r=n;for(let a=1;a<bL;a++)r=r-e(r)/t(r);return r}function Gg(e,t){return e*Math.sqrt(1-t*t)}const AL=["duration","bounce"],wL=["stiffness","damping","mass"];function nS(e,t){return t.some(n=>e[n]!==void 0)}function xL(e){let t={velocity:ge.velocity,stiffness:ge.stiffness,damping:ge.damping,mass:ge.mass,isResolvedFromDuration:!1,...e};if(!nS(e,wL)&&nS(e,AL))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*vr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ge.mass,stiffness:a,damping:l}}else{const n=EL(e);t={...t,...n,mass:ge.mass},t.isResolvedFromDuration=!0}return t}function Jf(e=ge.visualDuration,t=ge.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:x}=xL({...n,velocity:-Ni(n.velocity||0)}),P=b||0,L=p/(2*Math.sqrt(m*y)),M=c-l,K=Ni(Math.sqrt(m/y)),W=Math.abs(M)<5;r||(r=W?ge.restSpeed.granular:ge.restSpeed.default),a||(a=W?ge.restDelta.granular:ge.restDelta.default);let G;if(L<1){const X=Gg(K,L);G=ct=>{const N=Math.exp(-L*K*ct);return c-N*((P+L*K*M)/X*Math.sin(X*ct)+M*Math.cos(X*ct))}}else if(L===1)G=X=>c-Math.exp(-K*X)*(M+(P+K*M)*X);else{const X=K*Math.sqrt(L*L-1);G=ct=>{const N=Math.exp(-L*K*ct),R=Math.min(X*ct,300);return c-N*((P+L*K*M)*Math.sinh(R)+X*M*Math.cosh(R))/X}}const st={calculatedDuration:x&&_||null,next:X=>{const ct=G(X);if(x)f.done=X>=_;else{let N=X===0?P:0;L<1&&(N=X===0?Di(P):Ix(G,X,ct));const R=Math.abs(N)<=r,C=Math.abs(c-ct)<=a;f.done=R&&C}return f.value=f.done?c:ct,f},toString:()=>{const X=Math.min(Sv(st),Zf),ct=Cx(N=>st.next(X*N).value,X,30);return X+"ms "+ct},toTransition:()=>{}};return st}Jf.applyToOptions=e=>{const t=_L(e,100,Jf);return e.ease=t.ease,e.duration=Di(t.duration),e.type="keyframes",e};function Kg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],b={done:!1,value:_},x=R=>f!==void 0&&R<f||m!==void 0&&R>m,P=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let L=n*t;const M=_+L,K=c===void 0?M:c(M);K!==M&&(L=K-_);const W=R=>-L*Math.exp(-R/r),G=R=>K+W(R),st=R=>{const C=W(R),V=G(R);b.done=Math.abs(C)<=p,b.value=b.done?K:V};let X,ct;const N=R=>{x(b.value)&&(X=R,ct=Jf({keyframes:[b.value,P(b.value)],velocity:Ix(G,R,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:R=>{let C=!1;return!ct&&X===void 0&&(C=!0,st(R),N(R)),X!==void 0&&R>=X?ct.next(R-X):(!C&&st(R),b)}}}function RL(e,t,n){const r=[],a=n||_r.mix||Rx,l=e.length-1;for(let c=0;c<l;c++){let f=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Xn:t;f=wc(m,f)}r.push(f)}return r}function CL(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(dv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=RL(t,r,a),m=f.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const b=nc(e[_],e[_+1],y);return f[_](b)};return n?y=>p(vr(e[0],e[l-1],y)):p}function IL(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=nc(0,t,r);e.push(le(n,1,a))}}function DL(e){const t=[0];return IL(t,e.length-1),t}function NL(e,t){return e.map(n=>n*t)}function OL(e,t){return e.map(()=>t||yx).splice(0,e.length-1)}function zu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=qk(r)?r.map($b):$b(r),l={done:!1,value:t[0]},c=NL(n&&n.length===t.length?n:DL(t),e),f=CL(c,t,{ease:Array.isArray(a)?a:OL(t,a)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const PL=e=>e!==null;function Av(e,{repeat:t,repeatType:n="loop"},r,a=1){const l=e.filter(PL),f=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const VL={decay:Kg,inertia:Kg,tween:zu,keyframes:zu,spring:Jf};function Dx(e){typeof e.type=="string"&&(e.type=VL[e.type])}class wv{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const ML=e=>e/100;class Nx extends wv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==En.now()&&this.tick(En.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Dx(t);const{type:n=zu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:f}=t;const m=n||zu;m!==zu&&typeof f[0]!="number"&&(this.mixKeyframes=wc(ML,Rx(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Sv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:x,type:P,onUpdate:L,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const K=this.currentTime-p*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?K<0:K>a;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let G=this.currentTime,st=r;if(_){const R=Math.min(this.currentTime,a)/f;let C=Math.floor(R),V=R%1;!V&&R>=1&&(V=1),V===1&&C--,C=Math.min(C,_+1),!!(C%2)&&(b==="reverse"?(V=1-V,x&&(V-=x/f)):b==="mirror"&&(st=c)),G=vr(0,1,V)*f}const X=W?{done:!1,value:y[0]}:st.next(G);l&&(X.value=l(X.value));let{done:ct}=X;!W&&m!==null&&(ct=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return N&&P!==Kg&&(X.value=Av(y,this.options,M,this.speed)),L&&L(X.value),N&&this.finish(),X}then(t,n){return this.finished.then(t,n)}get duration(){return Ni(this.calculatedDuration)}get time(){return Ni(this.currentTime)}set time(t){t=Di(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(En.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ni(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=vL,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),n&&n();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(En.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}}function kL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Sa=e=>e*180/Math.PI,Yg=e=>{const t=Sa(Math.atan2(e[1],e[0]));return Qg(t)},LL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Yg,rotateZ:Yg,skewX:e=>Sa(Math.atan(e[1])),skewY:e=>Sa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Qg=e=>(e=e%360,e<0&&(e+=360),e),iS=Yg,rS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),sS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),UL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rS,scaleY:sS,scale:e=>(rS(e)+sS(e))/2,rotateX:e=>Qg(Sa(Math.atan2(e[6],e[5]))),rotateY:e=>Qg(Sa(Math.atan2(-e[2],e[0]))),rotateZ:iS,rotate:iS,skewX:e=>Sa(Math.atan(e[4])),skewY:e=>Sa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function aS(e){return e.includes("scale")?1:0}function $g(e,t){if(!e||e==="none")return aS(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=UL,a=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=LL,a=f}if(!a)return aS(t);const l=r[t],c=a[1].split(",").map(BL);return typeof l=="function"?l(c):c[l]}const jL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return $g(n,t)};function BL(e){return parseFloat(e.trim())}const hl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fl=new Set(hl),oS=e=>e===cl||e===At,zL=new Set(["x","y","z"]),FL=hl.filter(e=>!zL.has(e));function qL(e){const t=[];return FL.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Jo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>$g(t,"x"),y:(e,{transform:t})=>$g(t,"y")};Jo.translateX=Jo.x;Jo.translateY=Jo.y;const Aa=new Set;let Xg=!1,Wg=!1,Zg=!1;function Ox(){if(Wg){const e=Array.from(Aa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=qL(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var f;(f=r.getValue(l))==null||f.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wg=!1,Xg=!1,Aa.forEach(e=>e.complete(Zg)),Aa.clear()}function Px(){Aa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wg=!0)})}function HL(){Zg=!0,Px(),Ox(),Zg=!1}class xv{constructor(t,n,r,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Aa.add(this),Xg||(Xg=!0,ue.read(Px),ue.resolveKeyframes(Ox))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const f=r.readValue(n,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}kL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Aa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Aa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const GL=e=>e.startsWith("--");function KL(e,t,n){GL(t)?e.style.setProperty(t,n):e.style[t]=n}const YL=mv(()=>window.ScrollTimeline!==void 0),QL={};function $L(e,t){const n=mv(e);return()=>QL[t]??n()}const Vx=$L(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,lS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nu([0,.65,.55,1]),circOut:Nu([.55,0,1,.45]),backIn:Nu([.31,.01,.66,-.59]),backOut:Nu([.33,1.53,.69,.99])};function Mx(e,t){if(e)return typeof e=="function"?Vx()?Cx(e,t):"ease-out":vx(e)?Nu(e):Array.isArray(e)?e.map(n=>Mx(n,t)||lS.easeOut):lS[e]}function XL(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=Mx(f,a);Array.isArray(_)&&(y.easing=_);const b={delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),e.animate(y,b)}function kx(e){return typeof e=="function"&&"applyToOptions"in e}function WL({type:e,...t}){return kx(e)&&Vx()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ZL extends wv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,dv(typeof t.type!="string");const p=WL(t);this.animation=XL(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Av(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):KL(n,r,y),this.animation.cancel()}m==null||m(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ni(Number(t))}get time(){return Ni(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Di(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&YL()?(this.animation.timeline=t,Xn):n(this)}}const Lx={anticipate:mx,backInOut:dx,circInOut:gx};function JL(e){return e in Lx}function tU(e){typeof e.ease=="string"&&JL(e.ease)&&(e.ease=Lx[e.ease])}const uS=10;class eU extends ZL{constructor(t){tU(t),Dx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new Nx({...c,autoplay:!1}),m=Di(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-uS).value,f.sample(m).value,uS),f.stop()}}const cS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bs.test(e)||e==="0")&&!e.startsWith("url("));function nU(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function iU(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=cS(a,t),f=cS(l,t);return!c||!f?!1:nU(e)||(n==="spring"||kx(n))&&r}const rU=new Set(["opacity","clipPath","filter","transform"]),sU=mv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aU(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return sU()&&n&&rU.has(n)&&(n!=="transform"||!m)&&!f&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const oU=40;class lU extends wv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){var P;super(),this.stop=()=>{var L,M;this._animation?(this._animation.stop(),(L=this.stopTimeline)==null||L.call(this)):(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=En.now();const b={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},x=(y==null?void 0:y.KeyframeResolver)||xv;this.keyframeResolver=new x(f,(L,M,K)=>this.onKeyframesResolved(L,M,b,!K),m,p,y),(P=this.keyframeResolver)==null||P.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=r;this.resolvedAt=En.now(),iU(t,l,c,f)||((_r.instantAnimations||!m)&&(y==null||y(Av(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>oU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},x=!p&&aU(b)?new eU({...b,element:b.motionValue.owner.current}):new Nx(b);x.finished.then(()=>this.notifyFinished()).catch(Xn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||HL(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const uU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cU(e){const t=uU.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function Ux(e,t,n=1){const[r,a]=cU(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return ax(c)?parseFloat(c):c}return _v(a)?Ux(a,t,n+1):a}function Rv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const jx=new Set(["width","height","top","left","right","bottom",...hl]),hU={test:e=>e==="auto",parse:e=>e},Bx=e=>t=>t.test(e),zx=[cl,At,Oi,Jr,nL,eL,hU],hS=e=>zx.find(Bx(e));function fU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ox(e):!0}const dU=new Set(["brightness","contrast","saturate","opacity"]);function mU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Tv)||[];if(!r)return e;const a=n.replace(r,"");let l=dU.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const pU=/\b([a-z-]*)\(.*?\)/gu,Jg={...bs,getAnimatableNone:e=>{const t=e.match(pU);return t?t.map(mU).join(" "):e}},fS={...cl,transform:Math.round},gU={rotate:Jr,rotateX:Jr,rotateY:Jr,rotateZ:Jr,scale:uf,scaleX:uf,scaleY:uf,scaleZ:uf,skew:Jr,skewX:Jr,skewY:Jr,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:ic,originX:Wb,originY:Wb,originZ:At},Cv={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...gU,zIndex:fS,fillOpacity:ic,strokeOpacity:ic,numOctaves:fS},yU={...Cv,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:Jg,WebkitFilter:Jg},Fx=e=>yU[e];function qx(e,t){let n=Fx(e);return n!==Jg&&(n=bs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vU=new Set(["auto","none","0"]);function _U(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!vU.has(l)&&rc(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=qx(n,a)}class TU extends xv{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),_v(p))){const y=Ux(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!jx.has(r)||t.length!==2)return;const[a,l]=t,c=hS(a),f=hS(l);if(c!==f)if(oS(c)&&oS(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||fU(t[a]))&&r.push(a);r.length&&_U(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Jo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function EU(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const{schedule:Iv}=_x(queueMicrotask,!1),ii={x:!1,y:!1};function Hx(){return ii.x||ii.y}function bU(e){return e==="x"||e==="y"?ii[e]?null:(ii[e]=!0,()=>{ii[e]=!1}):ii.x||ii.y?null:(ii.x=ii.y=!0,()=>{ii.x=ii.y=!1})}function Gx(e,t){const n=EU(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function dS(e){return!(e.pointerType==="touch"||Hx())}function SU(e,t,n={}){const[r,a,l]=Gx(e,n),c=f=>{if(!dS(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const y=_=>{dS(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const Kx=(e,t)=>t?e===t?!0:Kx(e,t.parentElement):!1,Dv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,AU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wU(e){return AU.has(e.tagName)||e.tabIndex!==-1}const Ou=new WeakSet;function mS(e){return t=>{t.key==="Enter"&&e(t)}}function eg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xU=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=mS(()=>{if(Ou.has(n))return;eg(n,"down");const a=mS(()=>{eg(n,"up")}),l=()=>eg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function pS(e){return Dv(e)&&!Hx()}function RU(e,t,n={}){const[r,a,l]=Gx(e,n),c=f=>{const m=f.currentTarget;if(!pS(f)||Ou.has(m))return;Ou.add(m);const p=t(m,f),y=(x,P)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),!(!pS(x)||!Ou.has(m))&&(Ou.delete(m),typeof p=="function"&&p(x,{success:P}))},_=x=>{y(x,m===window||m===document||n.useGlobalTarget||Kx(m,x.target))},b=x=>{y(x,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),f instanceof HTMLElement&&(f.addEventListener("focus",p=>xU(p,a)),!wU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}const gS=30,CU=e=>!isNaN(parseFloat(e));class IU{constructor(t,n={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var c,f;const l=En.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),a&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=En.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=CU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new pv);const r=this.events[t].add(n);return t==="change"?()=>{r(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=En.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>gS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gS);return lx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t;(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sc(e,t){return new IU(e,t)}const DU=[...zx,rn,bs],NU=e=>DU.find(Bx(e)),Yx=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Qx=j.createContext({strict:!1}),yS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tl={};for(const e in yS)tl[e]={isEnabled:t=>yS[e].some(n=>!!t[n])};function OU(e){for(const t in e)tl[t]={...tl[t],...e[t]}}const PU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function td(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||PU.has(e)}let $x=e=>!td(e);function VU(e){e&&($x=t=>t.startsWith("on")?!td(t):e(t))}try{VU(require("@emotion/is-prop-valid").default)}catch{}function MU(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||($x(a)||n===!0&&td(a)||!t&&!td(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function kU(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Dd=j.createContext({});function Nd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ac(e){return typeof e=="string"||Array.isArray(e)}const Nv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ov=["initial",...Nv];function Od(e){return Nd(e.animate)||Ov.some(t=>ac(e[t]))}function Xx(e){return!!(Od(e)||e.variants)}function LU(e,t){if(Od(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ac(n)?n:void 0,animate:ac(r)?r:void 0}}return e.inherit!==!1?t:{}}function UU(e){const{initial:t,animate:n}=LU(e,j.useContext(Dd));return j.useMemo(()=>({initial:t,animate:n}),[vS(t),vS(n)])}function vS(e){return Array.isArray(e)?e.join(" "):e}const jU=Symbol.for("motionComponentSymbol");function ko(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function BU(e,t,n){return j.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ko(n)&&(n.current=r))},[t])}const Pv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zU="framerAppearId",Wx="data-"+Pv(zU),Zx=j.createContext({});function FU(e,t,n,r,a){var L,M;const{visualElement:l}=j.useContext(Dd),c=j.useContext(Qx),f=j.useContext(Id),m=j.useContext(cv).reducedMotion,p=j.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=j.useContext(Zx);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&qU(p.current,n,a,_);const b=j.useRef(!1);j.useInsertionEffect(()=>{y&&b.current&&y.update(n,f)});const x=n[Wx],P=j.useRef(!!x&&!((L=window.MotionHandoffIsComplete)!=null&&L.call(window,x))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,x)));return rx(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),Iv.render(y.render),P.current&&y.animationState&&y.animationState.animateChanges())}),j.useEffect(()=>{y&&(!P.current&&y.animationState&&y.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var K;(K=window.MotionHandoffMarkAsComplete)==null||K.call(window,x)}),P.current=!1))}),y}function qU(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Jx(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&ko(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function Jx(e){if(e)return e.options.allowProjection!==!1?e.projection:Jx(e.parent)}function HU({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&OU(e);function l(f,m){let p;const y={...j.useContext(cv),...f,layoutId:GU(f)},{isStatic:_}=y,b=UU(f),x=r(f,_);if(!_&&uv){KU();const P=YU(y);p=P.MeasureLayout,b.visualElement=FU(a,x,y,t,P.ProjectionNode)}return A.jsxs(Dd.Provider,{value:b,children:[p&&b.visualElement?A.jsx(p,{visualElement:b.visualElement,...y}):null,n(a,f,BU(x,b.visualElement,m),x,_,b.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=j.forwardRef(l);return c[jU]=a,c}function GU({layoutId:e}){const t=j.useContext(ov).id;return t&&e!==void 0?t+"-"+e:e}function KU(e,t){j.useContext(Qx).strict}function YU(e){const{drag:t,layout:n}=tl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const oc={};function QU(e){for(const t in e)oc[t]=e[t],vv(t)&&(oc[t].isCSSVariable=!0)}function tR(e,{layout:t,layoutId:n}){return fl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!oc[e]||e==="opacity")}const on=e=>!!(e&&e.getVelocity),$U={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XU=hl.length;function WU(e,t,n){let r="",a=!0;for(let l=0;l<XU;l++){const c=hl[l],f=e[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=Yx(f,Cv[c]);if(!m){a=!1;const y=$U[c]||c;r+=`${y}(${p}) `}n&&(t[c]=p)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function Vv(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,f=!1;for(const m in t){const p=t[m];if(fl.has(m)){c=!0;continue}else if(vv(m)){a[m]=p;continue}else{const y=Yx(p,Cv[m]);m.startsWith("origin")?(f=!0,l[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=WU(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const Mv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eR(e,t,n){for(const r in t)!on(t[r])&&!tR(r,n)&&(e[r]=t[r])}function ZU({transformTemplate:e},t){return j.useMemo(()=>{const n=Mv();return Vv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function JU(e,t){const n=e.style||{},r={};return eR(r,n,e),Object.assign(r,ZU(e,t)),r}function tj(e,t){const n={},r=JU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const ej=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kv(e){return typeof e!="string"||e.includes("-")?!1:!!(ej.indexOf(e)>-1||/[A-Z]/u.test(e))}const nj={offset:"stroke-dashoffset",array:"stroke-dasharray"},ij={offset:"strokeDashoffset",array:"strokeDasharray"};function rj(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?nj:ij;e[l.offset]=At.transform(-r);const c=At.transform(t),f=At.transform(n);e[l.array]=`${c} ${f}`}function nR(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p){if(Vv(e,f,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:_}=e;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox="fill-box",delete y.transformBox),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),a!==void 0&&rj(y,a,l,c,!1)}const iR=()=>({...Mv(),attrs:{}}),rR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function sj(e,t,n,r){const a=j.useMemo(()=>{const l=iR();return nR(l,t,rR(r),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};eR(l,e.style,e),a.style={...l,...a.style}}return a}function aj(e=!1){return(n,r,a,{latestValues:l},c)=>{const m=(kv(n)?sj:tj)(r,l,c,n),p=MU(r,typeof n=="string",e),y=n!==j.Fragment?{...p,...m,ref:a}:{},{children:_}=r,b=j.useMemo(()=>on(_)?_.get():_,[_]);return j.createElement(n,{...y,children:b})}}function _S(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Lv(e,t,n,r){if(typeof t=="function"){const[a,l]=_S(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=_S(r);t=t(n!==void 0?n:e.custom,a,l)}return t}function wf(e){return on(e)?e.get():e}function oj({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:lj(n,r,a,e),renderState:t()}}const sR=e=>(t,n)=>{const r=j.useContext(Dd),a=j.useContext(Id),l=()=>oj(e,t,r,a);return n?l():lv(l)};function lj(e,t,n,r){const a={},l=r(e,{});for(const b in l)a[b]=wf(l[b]);let{initial:c,animate:f}=e;const m=Od(e),p=Xx(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!Nd(_)){const b=Array.isArray(_)?_:[_];for(let x=0;x<b.length;x++){const P=Lv(e,b[x]);if(P){const{transitionEnd:L,transition:M,...K}=P;for(const W in K){let G=K[W];if(Array.isArray(G)){const st=y?G.length-1:0;G=G[st]}G!==null&&(a[W]=G)}for(const W in L)a[W]=L[W]}}}return a}function Uv(e,t,n){var l;const{style:r}=e,a={};for(const c in r)(on(r[c])||t.style&&on(t.style[c])||tR(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const uj={useVisualState:sR({scrapeMotionValuesFromProps:Uv,createRenderState:Mv})};function aR(e,t,n){const r=Uv(e,t,n);for(const a in e)if(on(e[a])||on(t[a])){const l=hl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const cj={useVisualState:sR({scrapeMotionValuesFromProps:aR,createRenderState:iR})};function hj(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...kv(r)?cj:uj,preloadedFeatures:e,useRender:aj(a),createVisualElement:t,Component:r};return HU(c)}}function lc(e,t,n){const r=e.getProps();return Lv(r,t,n!==void 0?n:r.custom,e)}const ty=e=>Array.isArray(e);function fj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,sc(n))}function dj(e){return ty(e)?e[e.length-1]||0:e}function mj(e,t){const n=lc(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const f=dj(l[c]);fj(e,c,f)}}function pj(e){return!!(on(e)&&e.add)}function ey(e,t){const n=e.getValue("willChange");if(pj(n))return n.add(t);if(!n&&_r.WillChange){const r=new _r.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function oR(e){return e.props[Wx]}const gj=e=>e!==null;function yj(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(gj),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const vj={type:"spring",stiffness:500,damping:25,restSpeed:10},_j=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Tj={type:"keyframes",duration:.8},Ej={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bj=(e,{keyframes:t})=>t.length>2?Tj:fl.has(e)?e.startsWith("scale")?_j(t[1]):vj:Ej;function Sj({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const jv=(e,t,n,r={},a,l)=>c=>{const f=Rv(r,e)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Di(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:a};Sj(f)||Object.assign(y,bj(e,y)),y.duration&&(y.duration=Di(y.duration)),y.repeatDelay&&(y.repeatDelay=Di(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),(_r.instantAnimations||_r.skipAnimations)&&(_=!0,y.duration=0,y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&t.get()!==void 0){const b=yj(y.keyframes,f);if(b!==void 0){ue.update(()=>{y.onUpdate(b),y.onComplete()});return}}return new lU(y)};function Aj({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function lR(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...f}=t;r&&(l=r);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in f){const _=e.getValue(y,e.latestValues[y]??null),b=f[y];if(b===void 0||p&&Aj(p,y))continue;const x={delay:n,...Rv(l||{},y)},P=_.get();if(P!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===P&&!x.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const K=oR(e);if(K){const W=window.MotionHandoffAnimation(K,y,ue);W!==null&&(x.startTime=W,L=!0)}}ey(e,y),_.start(jv(y,_,b,e.shouldReduceMotion&&jx.has(y)?{type:!1}:x,e,L));const M=_.animation;M&&m.push(M)}return c&&Promise.all(m).then(()=>{ue.update(()=>{c&&mj(e,c)})}),m}function ny(e,t,n={}){var m;const r=lc(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(lR(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:b}=a;return wj(e,t,y+p,_,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function wj(e,t,n=0,r=0,a=1,l){const c=[],f=(e.variantChildren.size-1)*r,m=a===1?(p=0)=>p*r:(p=0)=>f-p*r;return Array.from(e.variantChildren).sort(xj).forEach((p,y)=>{p.notify("AnimationStart",t),c.push(ny(p,t,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(c)}function xj(e,t){return e.sortNodePosition(t)}function Rj(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>ny(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=ny(e,t,n);else{const a=typeof t=="function"?lc(e,t,n.custom):t;r=Promise.all(lR(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function uR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Cj=Ov.length;function cR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?cR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Cj;n++){const r=Ov[n],a=e.props[r];(ac(a)||a===!1)&&(t[r]=a)}return t}const Ij=[...Nv].reverse(),Dj=Nv.length;function Nj(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Rj(e,n,r)))}function Oj(e){let t=Nj(e),n=TS(),r=!0;const a=m=>(p,y)=>{var b;const _=lc(e,y,m==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(_){const{transition:x,transitionEnd:P,...L}=_;p={...p,...L,...P}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=cR(e.parent)||{},_=[],b=new Set;let x={},P=1/0;for(let M=0;M<Dj;M++){const K=Ij[M],W=n[K],G=p[K]!==void 0?p[K]:y[K],st=ac(G),X=K===m?W.isActive:null;X===!1&&(P=M);let ct=G===y[K]&&G!==p[K]&&st;if(ct&&r&&e.manuallyAnimateOnMount&&(ct=!1),W.protectedKeys={...x},!W.isActive&&X===null||!G&&!W.prevProp||Nd(G)||typeof G=="boolean")continue;const N=Pj(W.prevProp,G);let R=N||K===m&&W.isActive&&!ct&&st||M>P&&st,C=!1;const V=Array.isArray(G)?G:[G];let U=V.reduce(a(K),{});X===!1&&(U={});const{prevResolvedValues:B={}}=W,D={...B,...U},fe=at=>{R=!0,b.has(at)&&(C=!0,b.delete(at)),W.needsAnimating[at]=!0;const lt=e.getValue(at);lt&&(lt.liveStyle=!1)};for(const at in D){const lt=U[at],bt=B[at];if(x.hasOwnProperty(at))continue;let O=!1;ty(lt)&&ty(bt)?O=!uR(lt,bt):O=lt!==bt,O?lt!=null?fe(at):b.add(at):lt!==void 0&&b.has(at)?fe(at):W.protectedKeys[at]=!0}W.prevProp=G,W.prevResolvedValues=U,W.isActive&&(x={...x,...U}),r&&e.blockInitialAnimation&&(R=!1),R&&(!(ct&&N)||C)&&_.push(...V.map(at=>({animation:at,options:{type:K}})))}if(b.size){const M={};if(typeof p.initial!="boolean"){const K=lc(e,Array.isArray(p.initial)?p.initial[0]:p.initial);K&&K.transition&&(M.transition=K.transition)}b.forEach(K=>{const W=e.getBaseTarget(K),G=e.getValue(K);G&&(G.liveStyle=!0),M[K]=W??null}),_.push({animation:M})}let L=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(L=!1),r=!1,L?t(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=e.variantChildren)==null||_.forEach(b=>{var x;return(x=b.animationState)==null?void 0:x.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=TS(),r=!0}}}function Pj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!uR(t,e):!1}function pa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TS(){return{animate:pa(!0),whileInView:pa(),whileHover:pa(),whileTap:pa(),whileDrag:pa(),whileFocus:pa(),exit:pa()}}class Ns{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Vj extends Ns{constructor(t){super(t),t.animationState||(t.animationState=Oj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Nd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Mj=0;class kj extends Ns{constructor(){super(...arguments),this.id=Mj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Lj={animation:{Feature:Vj},exit:{Feature:kj}};function uc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Cc(e){return{point:{x:e.pageX,y:e.pageY}}}const Uj=e=>t=>Dv(t)&&e(t,Cc(t));function Fu(e,t,n,r){return uc(e,t,Uj(n),r)}function hR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function jj({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Bj(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const fR=1e-4,zj=1-fR,Fj=1+fR,dR=.01,qj=0-dR,Hj=0+dR;function mn(e){return e.max-e.min}function Gj(e,t,n){return Math.abs(e-t)<=n}function ES(e,t,n,r=.5){e.origin=r,e.originPoint=le(t.min,t.max,e.origin),e.scale=mn(n)/mn(t),e.translate=le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=zj&&e.scale<=Fj||isNaN(e.scale))&&(e.scale=1),(e.translate>=qj&&e.translate<=Hj||isNaN(e.translate))&&(e.translate=0)}function qu(e,t,n,r){ES(e.x,t.x,n.x,r?r.originX:void 0),ES(e.y,t.y,n.y,r?r.originY:void 0)}function bS(e,t,n){e.min=n.min+t.min,e.max=e.min+mn(t)}function Kj(e,t,n){bS(e.x,t.x,n.x),bS(e.y,t.y,n.y)}function SS(e,t,n){e.min=t.min-n.min,e.max=e.min+mn(t)}function Hu(e,t,n){SS(e.x,t.x,n.x),SS(e.y,t.y,n.y)}const AS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lo=()=>({x:AS(),y:AS()}),wS=()=>({min:0,max:0}),Te=()=>({x:wS(),y:wS()});function Kn(e){return[e("x"),e("y")]}function ng(e){return e===void 0||e===1}function iy({scale:e,scaleX:t,scaleY:n}){return!ng(e)||!ng(t)||!ng(n)}function va(e){return iy(e)||mR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function mR(e){return xS(e.x)||xS(e.y)}function xS(e){return e&&e!=="0%"}function ed(e,t,n){const r=e-n,a=t*r;return n+a}function RS(e,t,n,r,a){return a!==void 0&&(e=ed(e,a,r)),ed(e,n,r)+t}function ry(e,t=0,n=1,r,a){e.min=RS(e.min,t,n,r,a),e.max=RS(e.max,t,n,r,a)}function pR(e,{x:t,y:n}){ry(e.x,t.translate,t.scale,t.originPoint),ry(e.y,n.translate,n.scale,n.originPoint)}const CS=.999999999999,IS=1.0000000000001;function Yj(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&jo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,pR(e,c)),r&&va(l.latestValues)&&jo(e,l.latestValues))}t.x<IS&&t.x>CS&&(t.x=1),t.y<IS&&t.y>CS&&(t.y=1)}function Uo(e,t){e.min=e.min+t,e.max=e.max+t}function DS(e,t,n,r,a=.5){const l=le(e.min,e.max,a);ry(e,t,n,l,r)}function jo(e,t){DS(e.x,t.x,t.scaleX,t.scale,t.originX),DS(e.y,t.y,t.scaleY,t.scale,t.originY)}function gR(e,t){return hR(Bj(e.getBoundingClientRect(),t))}function Qj(e,t,n){const r=gR(e,n),{scroll:a}=t;return a&&(Uo(r.x,a.offset.x),Uo(r.y,a.offset.y)),r}const yR=({current:e})=>e?e.ownerDocument.defaultView:null,NS=(e,t)=>Math.abs(e-t);function $j(e,t){const n=NS(e.x,t.x),r=NS(e.y,t.y);return Math.sqrt(n**2+r**2)}class vR{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=rg(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=$j(_.offset,{x:0,y:0})>=3;if(!b&&!x)return;const{point:P}=_,{timestamp:L}=$e;this.history.push({...P,timestamp:L});const{onStart:M,onMove:K}=this.handlers;b||(M&&M(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,_)},this.handlePointerMove=(_,b)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=ig(b,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(_,b)=>{this.end();const{onEnd:x,onSessionEnd:P,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=rg(_.type==="pointercancel"?this.lastMoveEventInfo:ig(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(_,M),P&&P(_,M)},!Dv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=Cc(t),f=ig(c,this.transformPagePoint),{point:m}=f,{timestamp:p}=$e;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(t,rg(f,this.history)),this.removeListeners=wc(Fu(this.contextWindow,"pointermove",this.handlePointerMove),Fu(this.contextWindow,"pointerup",this.handlePointerUp),Fu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Es(this.updatePoint)}}function ig(e,t){return t?{point:t(e.point)}:e}function OS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rg({point:e},t){return{point:e,delta:OS(e,_R(t)),offset:OS(e,Xj(t)),velocity:Wj(t,.1)}}function Xj(e){return e[0]}function _R(e){return e[e.length-1]}function Wj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=_R(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Di(t)));)n--;if(!r)return{x:0,y:0};const l=Ni(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Zj(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?le(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?le(n,e,r.max):Math.min(e,n)),e}function PS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Jj(e,{top:t,left:n,bottom:r,right:a}){return{x:PS(e.x,n,a),y:PS(e.y,t,r)}}function VS(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function t3(e,t){return{x:VS(e.x,t.x),y:VS(e.y,t.y)}}function e3(e,t){let n=.5;const r=mn(e),a=mn(t);return a>r?n=nc(t.min,t.max-r,e.min):r>a&&(n=nc(e.min,e.max-a,t.min)),vr(0,1,n)}function n3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const sy=.35;function i3(e=sy){return e===!1?e=0:e===!0&&(e=sy),{x:MS(e,"left","right"),y:MS(e,"top","bottom")}}function MS(e,t,n){return{min:kS(e,t),max:kS(e,n)}}function kS(e,t){return typeof e=="number"?e:e[t]||0}const r3=new WeakMap;class s3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Te(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cc(y).point)},l=(y,_)=>{const{drag:b,dragPropagation:x,onDragStart:P}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bU(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(M=>{let K=this.getAxisMotionValue(M).get()||0;if(Oi.test(K)){const{projection:W}=this.visualElement;if(W&&W.layout){const G=W.layout.layoutBox[M];G&&(K=mn(G)*(parseFloat(K)/100))}}this.originPoint[M]=K}),P&&ue.postRender(()=>P(y,_)),ey(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:P,onDrag:L}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:M}=_;if(x&&this.currentDirection===null){this.currentDirection=a3(M),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",_.point,M),this.updateAxis("y",_.point,M),this.visualElement.render(),L&&L(y,_)},f=(y,_)=>this.stop(y,_),m=()=>Kn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new vR(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:yR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ue.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!cf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=Zj(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&ko(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Jj(r.layoutBox,t):this.constraints=!1,this.elastic=i3(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=n3(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ko(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Qj(r,a.root,this.visualElement.getTransformPagePoint());let c=t3(a.layout.layoutBox,l);if(n){const f=n(jj(c));this.hasMutatedConstraints=!!f,f&&(c=hR(f))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Kn(y=>{if(!cf(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,x=a?40:1e7,P={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,P)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ey(this.visualElement,t),r.start(jv(t,r,0,n,this.visualElement,!1))}stopAnimation(){Kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kn(n=>{const{drag:r}=this.getProps();if(!cf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(t[n]-le(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ko(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Kn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=e3({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(c=>{if(!cf(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(le(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;r3.set(this.visualElement,this);const t=this.visualElement.current,n=Fu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();ko(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ue.read(r);const c=uc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Kn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=sy,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function cf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function a3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class o3 extends Ns{constructor(t){super(t),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new s3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const LS=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class l3 extends Ns{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(t){this.session=new vR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:LS(t),onStart:LS(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&ue.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Fu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function US(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Au={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(At.test(e))e=parseFloat(e);else return e;const n=US(e,t.target.x),r=US(e,t.target.y);return`${n}% ${r}%`}},u3={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=bs.parse(e);if(a.length>5)return r;const l=bs.createTransformer(e),c=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const p=le(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class c3 extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;QU(h3),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ue.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Iv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function TR(e){const[t,n]=sx(),r=j.useContext(ov);return A.jsx(c3,{...e,layoutGroup:r,switchLayoutGroup:j.useContext(Zx),isPresent:t,safeToRemove:n})}const h3={borderRadius:{...Au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Au,borderTopRightRadius:Au,borderBottomLeftRadius:Au,borderBottomRightRadius:Au,boxShadow:u3};function f3(e,t,n){const r=on(e)?e:sc(e);return r.start(jv("",r,t,n)),r.animation}function d3(e){return e instanceof SVGElement&&e.tagName!=="svg"}const m3=(e,t)=>e.depth-t.depth;class p3{constructor(){this.children=[],this.isDirty=!1}add(t){hv(this.children,t),this.isDirty=!0}remove(t){fv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(m3),this.isDirty=!1,this.children.forEach(t)}}function g3(e,t){const n=En.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(Es(r),e(l-t))};return ue.setup(r,!0),()=>Es(r)}const ER=["TopLeft","TopRight","BottomLeft","BottomRight"],y3=ER.length,jS=e=>typeof e=="string"?parseFloat(e):e,BS=e=>typeof e=="number"||At.test(e);function v3(e,t,n,r,a,l){a?(e.opacity=le(0,n.opacity??1,_3(r)),e.opacityExit=le(t.opacity??1,0,T3(r))):l&&(e.opacity=le(t.opacity??1,n.opacity??1,r));for(let c=0;c<y3;c++){const f=`border${ER[c]}Radius`;let m=zS(t,f),p=zS(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||BS(m)===BS(p)?(e[f]=Math.max(le(jS(m),jS(p),r),0),(Oi.test(p)||Oi.test(m))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=le(t.rotate||0,n.rotate||0,r))}function zS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _3=bR(0,.5,px),T3=bR(.5,.95,Xn);function bR(e,t,n){return r=>r<e?0:r>t?1:n(nc(e,t,r))}function FS(e,t){e.min=t.min,e.max=t.max}function Gn(e,t){FS(e.x,t.x),FS(e.y,t.y)}function qS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function HS(e,t,n,r,a){return e-=t,e=ed(e,1/n,r),a!==void 0&&(e=ed(e,1/a,r)),e}function E3(e,t=0,n=1,r=.5,a,l=e,c=e){if(Oi.test(t)&&(t=parseFloat(t),t=le(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=le(l.min,l.max,r);e===l&&(f-=t),e.min=HS(e.min,t,n,f,a),e.max=HS(e.max,t,n,f,a)}function GS(e,t,[n,r,a],l,c){E3(e,t[n],t[r],t[a],t.scale,l,c)}const b3=["x","scaleX","originX"],S3=["y","scaleY","originY"];function KS(e,t,n,r){GS(e.x,t,b3,n?n.x:void 0,r?r.x:void 0),GS(e.y,t,S3,n?n.y:void 0,r?r.y:void 0)}function YS(e){return e.translate===0&&e.scale===1}function SR(e){return YS(e.x)&&YS(e.y)}function QS(e,t){return e.min===t.min&&e.max===t.max}function A3(e,t){return QS(e.x,t.x)&&QS(e.y,t.y)}function $S(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function AR(e,t){return $S(e.x,t.x)&&$S(e.y,t.y)}function XS(e){return mn(e.x)/mn(e.y)}function WS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class w3{constructor(){this.members=[]}add(t){hv(this.members,t),t.scheduleRender()}remove(t){if(fv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x3(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:x,skewY:P}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),b&&(r+=`rotateY(${b}deg) `),x&&(r+=`skewX(${x}deg) `),P&&(r+=`skewY(${P}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const sg=["","X","Y","Z"],R3={visibility:"hidden"},ZS=1e3;let C3=0;function ag(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function wR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=oR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&wR(r)}function xR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=t==null?void 0:t()){this.id=C3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(N3),this.nodes.forEach(k3),this.nodes.forEach(L3),this.nodes.forEach(O3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new p3)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new pv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=d3(c),this.instance=c;const{layoutId:m,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(p||m)&&(this.isLayoutDirty=!0),e){let _;const b=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=g3(b,250),xf.hasAnimatedSinceResize&&(xf.hasAnimatedSinceResize=!1,this.nodes.forEach(tA))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||y.getDefaultTransition()||F3,{onLayoutAnimationStart:M,onLayoutAnimationComplete:K}=y.getProps(),W=!this.targetLayout||!AR(this.targetLayout,P),G=!b&&x;if(this.options.layoutRoot||this.resumeFrom||G||b&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,G);const st={...Rv(L,"layout"),onPlay:M,onComplete:K};(y.shouldReduceMotion||this.options.layoutRoot)&&(st.delay=0,st.type=!1),this.startAnimation(st)}else b||tA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Es(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JS);return}this.isUpdating||this.nodes.forEach(V3),this.isUpdating=!1,this.nodes.forEach(M3),this.nodes.forEach(I3),this.nodes.forEach(D3),this.clearAllSnapshots();const f=En.now();$e.delta=vr(0,1e3/60,f-$e.timestamp),$e.timestamp=f,$e.isProcessing=!0,Wp.update.process($e),Wp.preRender.process($e),Wp.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(P3),this.sharedNodes.forEach(j3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Te(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!SR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&(f||va(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),q3(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Te();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(H3))){const{scroll:y}=this.root;y&&(Uo(f.x,y.offset.x),Uo(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=Te();if(Gn(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:b}=y;y!==this.root&&_&&b.layoutScroll&&(_.wasRoot&&Gn(f,c),Uo(f.x,_.offset.x),Uo(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Te();Gn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&jo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),va(y.latestValues)&&jo(m,y.latestValues)}return va(this.latestValues)&&jo(m,this.latestValues),m}removeTransform(c){const f=Te();Gn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!va(p.latestValues))continue;iy(p.latestValues)&&p.updateSnapshot();const y=Te(),_=p.measurePageBox();Gn(y,_),KS(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return va(this.latestValues)&&KS(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=$e.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),Hu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Te(),this.targetWithTransforms=Te()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),pR(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),Hu(this.relativeTargetOrigin,this.target,x.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||iy(this.parent.latestValues)||mR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var P;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(P=this.parent)!=null&&P.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Gn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;Yj(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Te());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qS(this.prevProjectionDelta.x,this.projectionDelta.x),qS(this.prevProjectionDelta.y,this.projectionDelta.y)),qu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!WS(this.projectionDelta.x,this.prevProjectionDelta.x)||!WS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lo(),this.projectionDelta=Lo(),this.projectionDeltaWithTransform=Lo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Te(),x=m?m.source:void 0,P=this.layout?this.layout.source:void 0,L=x!==P,M=this.getStack(),K=!M||M.members.length<=1,W=!!(L&&!K&&this.options.crossfade===!0&&!this.path.some(z3));this.animationProgress=0;let G;this.mixTargetDelta=st=>{const X=st/1e3;eA(_.x,c.x,X),eA(_.y,c.y,X),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B3(this.relativeTarget,this.relativeTargetOrigin,b,X),G&&A3(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=Te()),Gn(G,this.relativeTarget)),L&&(this.animationValues=y,v3(y,p,this.latestValues,X,W,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Es(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{xf.hasAnimatedSinceResize=!0,this.currentAnimation=f3(0,ZS,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&RR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Te();const _=mn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=mn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}Gn(f,m),jo(f,y),qu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new w3),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&ag("z",c,p,this.animationValues);for(let y=0;y<sg.length;y++)ag(`rotate${sg[y]}`,c,p,this.animationValues),ag(`skew${sg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return R3;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=wf(c==null?void 0:c.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=wf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!va(this.latestValues)&&(x.transform=m?m({},""):"none",this.hasProjected=!1),x}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=x3(this.projectionDeltaWithTransform,this.treeScale,y),m&&(f.transform=m(y,f.transform));const{x:_,y:b}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${b.origin*100}% 0`,p.animationValues?f.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const x in oc){if(y[x]===void 0)continue;const{correct:P,applyTo:L,isCSSVariable:M}=oc[x],K=f.transform==="none"?y[x]:P(y[x],p);if(L){const W=L.length;for(let G=0;G<W;G++)f[L[G]]=K}else M?this.options.visualElement.renderState.vars[x]=K:f[x]=K}return this.options.layoutId&&(f.pointerEvents=p===this?wf(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(JS),this.root.sharedNodes.clear()}}}function I3(e){e.updateLayout()}function D3(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Kn(_=>{const b=c?t.measuredBox[_]:t.layoutBox[_],x=mn(b);b.min=r[_].min,b.max=b.min+x}):RR(l,t.layoutBox,r)&&Kn(_=>{const b=c?t.measuredBox[_]:t.layoutBox[_],x=mn(r[_]);b.max=b.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+x)});const f=Lo();qu(f,r,t.layoutBox);const m=Lo();c?qu(m,e.applyTransform(a,!0),t.measuredBox):qu(m,r,t.layoutBox);const p=!SR(f);let y=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:b,layout:x}=_;if(b&&x){const P=Te();Hu(P,t.layoutBox,b.layoutBox);const L=Te();Hu(L,r,x.layoutBox),AR(P,L)||(y=!0),_.options.layoutRoot&&(e.relativeTarget=L,e.relativeTargetOrigin=P,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function N3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function O3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function P3(e){e.clearSnapshot()}function JS(e){e.clearMeasurements()}function V3(e){e.isLayoutDirty=!1}function M3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function k3(e){e.resolveTargetDelta()}function L3(e){e.calcProjection()}function U3(e){e.resetSkewAndRotation()}function j3(e){e.removeLeadSnapshot()}function eA(e,t,n){e.translate=le(t.translate,0,n),e.scale=le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function nA(e,t,n,r){e.min=le(t.min,n.min,r),e.max=le(t.max,n.max,r)}function B3(e,t,n,r){nA(e.x,t.x,n.x,r),nA(e.y,t.y,n.y,r)}function z3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const F3={duration:.45,ease:[.4,0,.1,1]},iA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rA=iA("applewebkit/")&&!iA("chrome/")?Math.round:Xn;function sA(e){e.min=rA(e.min),e.max=rA(e.max)}function q3(e){sA(e.x),sA(e.y)}function RR(e,t,n){return e==="position"||e==="preserve-aspect"&&!Gj(XS(t),XS(n),.2)}function H3(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const G3=xR({attachResizeListener:(e,t)=>uc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),og={current:void 0},CR=xR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!og.current){const e=new G3({});e.mount(window),e.setOptions({layoutScroll:!0}),og.current=e}return og.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),K3={pan:{Feature:l3},drag:{Feature:o3,ProjectionNode:CR,MeasureLayout:TR}};function aA(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&ue.postRender(()=>l(t,Cc(t)))}class Y3 extends Ns{mount(){const{current:t}=this.node;t&&(this.unmount=SU(t,(n,r)=>(aA(this.node,r,"Start"),a=>aA(this.node,a,"End"))))}unmount(){}}class Q3 extends Ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wc(uc(this.node.current,"focus",()=>this.onFocus()),uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oA(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&ue.postRender(()=>l(t,Cc(t)))}class $3 extends Ns{mount(){const{current:t}=this.node;t&&(this.unmount=RU(t,(n,r)=>(oA(this.node,r,"Start"),(a,{success:l})=>oA(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ay=new WeakMap,lg=new WeakMap,X3=e=>{const t=ay.get(e.target);t&&t(e)},W3=e=>{e.forEach(X3)};function Z3({root:e,...t}){const n=e||document;lg.has(n)||lg.set(n,{});const r=lg.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(W3,{root:e,...t})),r[a]}function J3(e,t,n){const r=Z3(t);return ay.set(e,n),r.observe(e),()=>{ay.delete(e),r.unobserve(e)}}const t9={some:0,all:1};class e9 extends Ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:t9[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(m)};return J3(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(n9(t,n))&&this.startObserver()}unmount(){}}function n9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const i9={inView:{Feature:e9},tap:{Feature:$3},focus:{Feature:Q3},hover:{Feature:Y3}},r9={layout:{ProjectionNode:CR,MeasureLayout:TR}},oy={current:null},IR={current:!1};function s9(){if(IR.current=!0,!!uv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>oy.current=e.matches;e.addListener(t),t()}else oy.current=!1}const a9=new WeakMap;function o9(e,t,n){for(const r in t){const a=t[r],l=n[r];if(on(a))e.addValue(r,a);else if(on(l))e.addValue(r,sc(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,sc(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const lA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l9{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=En.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ue.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Od(n),this.isVariantNode=Xx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const x=_[b];m[b]!==void 0&&on(x)&&x.set(m[b],!1)}}mount(t){this.current=t,a9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),IR.current||s9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:oy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),this.projection=void 0,Es(this.notifyUpdate),Es(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=fl.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in tl){const n=tl[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Te()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lA.length;r++){const a=lA[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=o9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=sc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(ax(r)||ox(r))?r=parseFloat(r):!NU(r)&&bs.test(n)&&(r=qx(t,n)),this.setBaseTarget(t,on(r)?r.get():r)),on(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Lv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!on(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new pv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class DR extends l9{constructor(){super(...arguments),this.KeyframeResolver=TU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;on(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NR(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}function u9(e){return window.getComputedStyle(e)}class c9 extends DR{constructor(){super(...arguments),this.type="html",this.renderInstance=NR}readValueFromInstance(t,n){if(fl.has(n))return jL(t,n);{const r=u9(t),a=(vv(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return gR(t,n)}build(t,n,r){Vv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Uv(t,n,r)}}const OR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function h9(e,t,n,r){NR(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(OR.has(a)?a:Pv(a),t.attrs[a])}class f9 extends DR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Te}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(fl.has(n)){const r=Fx(n);return r&&r.default||0}return n=OR.has(n)?n:Pv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return aR(t,n,r)}build(t,n,r){nR(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,a){h9(t,n,r,a)}mount(t){this.isSVGTag=rR(t.tagName),super.mount(t)}}const d9=(e,t)=>kv(e)?new f9(t):new c9(t,{allowProjection:e!==j.Fragment}),m9=hj({...Lj,...i9,...K3,...r9},d9),Jt=kU(m9);var PR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uA=hr.createContext&&hr.createContext(PR),p9=["attr","size","title"];function g9(e,t){if(e==null)return{};var n=y9(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function y9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nd.apply(this,arguments)}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(r){v9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v9(e,t,n){return t=_9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _9(e){var t=T9(e,"string");return typeof t=="symbol"?t:t+""}function T9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VR(e){return e&&e.map((t,n)=>hr.createElement(t.tag,id({key:n},t.attr),VR(t.child)))}function he(e){return t=>hr.createElement(E9,nd({attr:id({},e.attr)},t),VR(e.child))}function E9(e){var t=n=>{var{attr:r,size:a,title:l}=e,c=g9(e,p9),f=a||n.size||"1em",m;return n.className&&(m=n.className),e.className&&(m=(m?m+" ":"")+e.className),hr.createElement("svg",nd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:m,style:id(id({color:e.color||n.color},n.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&hr.createElement("title",null,l),e.children)};return uA!==void 0?hr.createElement(uA.Consumer,null,n=>t(n)):t(PR)}function b9(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Bv(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function ug(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function MR(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Ss(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"},child:[]}]})(e)}function kR(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function S9(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function A9(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function LR(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function w9(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function x9(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function R9(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function zv(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function UR(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function hA(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function C9(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function jR(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function I9(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function D9(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function N9(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function O9(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function wa(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function P9(e){return he({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const As=({children:e,type:t="button",variant:n="primary",fullWidth:r=!1,loading:a=!1,disabled:l=!1,onClick:c,className:f=""})=>{const m="btn",p={primary:"btn-primary",secondary:"btn-secondary"},y=r?"w-full":"";return A.jsx(Jt.button,{type:t,whileTap:{scale:.98},whileHover:{scale:1.02},className:`${m} ${p[n]} ${y} ${f}`,disabled:l||a,onClick:c,children:a?A.jsxs("div",{className:"flex items-center justify-center",children:[A.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-white rounded-full animate-spin mr-2"}),A.jsx("span",{children:"Loading..."})]}):e})},xa=({id:e,type:t="text",label:n,placeholder:r,value:a,onChange:l,error:c,required:f=!1,autoComplete:m="off",...p})=>{const[y,_]=j.useState(!1),b=()=>{_(!y)};return A.jsxs("div",{className:"form-group",children:[n&&A.jsx("label",{htmlFor:e,className:"form-label",children:n}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{id:e,type:t==="password"&&y?"text":t,className:`input-field ${c?"border-error-400 focus:ring-error-400":""}`,placeholder:r,value:a,onChange:l,required:f,autoComplete:m,...p}),t==="password"&&A.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300 focus:outline-none",onClick:b,children:y?A.jsx(S9,{size:18}):A.jsx(A9,{size:18})})]}),c&&A.jsx("p",{className:"form-error",children:c})]})},V9={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,staggerChildren:.1}}},ga={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}},BR=({type:e,onSubmit:t,loading:n,email:r,setEmail:a,password:l,setPassword:c,displayName:f,setDisplayName:m,errors:p})=>{const y=e==="login",_=y?"Welcome Back":"Create Account",b=y?"Sign in to access your contacts":"Register to start saving your contacts securely",x=y?"Sign In":"Sign Up",P=y?"Don't have an account? ":"Already have an account? ",L=y?{to:"/register",text:"Sign Up"}:{to:"/login",text:"Sign In"};return A.jsxs(Jt.form,{onSubmit:t,className:"w-full max-w-md rounded-lg p-8 bg-gray-900 border border-gray-800 shadow-md mx-auto",variants:V9,initial:"hidden",animate:"visible",children:[A.jsxs(Jt.div,{className:" mb-8 text-center",variants:ga,children:[A.jsx("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent",children:_}),A.jsx("p",{className:"text-gray-400",children:b})]}),!y&&A.jsx(Jt.div,{variants:ga,children:A.jsx(xa,{id:"displayName",type:"text",label:"Username",placeholder:"Chose a username",value:f,onChange:M=>m(M.target.value),error:p==null?void 0:p.displayName,required:!0,icon:A.jsx(wa,{}),autoComplete:"name"})}),A.jsx(Jt.div,{variants:ga,children:A.jsx(xa,{id:"email",type:"email",label:"Email Address",placeholder:"Enter your email",value:r,onChange:M=>a(M.target.value),error:p==null?void 0:p.email,required:!0,icon:A.jsx(zv,{}),autoComplete:y?"email":"new-email"})}),A.jsx(Jt.div,{variants:ga,children:A.jsx(xa,{id:"password",type:"password",label:"Password",placeholder:y?"Enter your password":"Create a password",value:l,onChange:M=>c(M.target.value),error:p==null?void 0:p.password,required:!0,icon:A.jsx(x9,{}),autoComplete:y?"current-password":"new-password"})}),y&&A.jsx(Jt.div,{className:"flex justify-end mb-6",variants:ga,children:A.jsx(ri,{to:"/forgot-password",className:"text-sm text-primary-400 transition-colors duration-200",children:"Forgot Password?"})}),A.jsx(Jt.div,{className:"mb-6",variants:ga,children:A.jsx(As,{type:"submit",variant:"primary",fullWidth:!0,loading:n,children:x})}),A.jsx(Jt.div,{className:"text-center text-gray-400",variants:ga,children:A.jsxs("p",{children:[P,A.jsx(ri,{to:L.to,className:"link",children:L.text})]})})]})},M9=()=>{const[e,t]=j.useState(""),[n,r]=j.useState(""),[a,l]=j.useState(!1),[c,f]=j.useState({}),{login:m,setError:p,resetError:y}=ka(),_=hc(),b=()=>{const P={};let L=!0;return e.trim()||(It.error("Email is required"),P.email="Email is required",L=!1),n||(It.error("Password is required"),P.password="Password is required",L=!1),f(P),L},x=async P=>{if(P.preventDefault(),y(),!!b()){l(!0);try{await m(e,n),It.success("Welcome back!"),_("/dashboard")}catch(L){console.error("Login error:",L);let M="Failed to log in";L.code==="auth/user-not-found"||L.code==="auth/wrong-password"||L.code==="auth/invalid-credential"?(M="Invalid email or password",It.error("Invalid email or password"),f({email:" ",password:" "})):L.code==="auth/too-many-requests"?(M="Too many attempts. Please try again later",It.error("Too many attempts. Please try again later")):L.code==="auth/network-request-failed"?(M="Network error. Please check your connection",It.error("Network error. Please check your connection")):It.error("An unexpected error occurred"),p(M)}finally{l(!1)}}};return A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-12",children:[A.jsxs("div",{className:"flex items-center mb-8 transform transition-all duration-300 hover:scale-105",children:[A.jsx(Ss,{className:"text-primary-400 mr-2 text-4xl"}),A.jsx("h1",{className:"text-2xl font-bold text-white",children:"Cloud Contact Saver"})]}),A.jsx(BR,{type:"login",onSubmit:x,loading:a,email:e,setEmail:t,password:n,setPassword:r,errors:c})]})},k9=()=>{const[e,t]=j.useState(""),[n,r]=j.useState(""),[a,l]=j.useState(""),[c,f]=j.useState(!1),[m,p]=j.useState({}),{signup:y,setError:_,resetError:b}=ka(),x=hc(),P=async(W,G)=>{const st=bf(_a,"users"),X=Xf(st,ju("email","==",W.toLowerCase()));if(!(await Fg(X)).empty)throw new Error("email-exists");const N=Xf(st,ju("displayName","==",G.trim()));if(!(await Fg(N)).empty)throw new Error("username-exists")},L=()=>{const W={};let G=!0;return e.trim()||(It.error("Name is required"),W.displayName="Name is required",G=!1),n.trim()?/\S+@\S+\.\S+/.test(n)||(It.error("Please enter a valid email address"),W.email="Email is invalid",G=!1):(It.error("Email is required"),W.email="Email is required",G=!1),a?a.length<6&&(It.error("Password must be at least 6 characters"),W.password="Password must be at least 6 characters",G=!1):(It.error("Password is required"),W.password="Password is required",G=!1),p(W),G},M=async W=>{const G=Qf(_a,"users",W.uid),st={userId:W.uid,displayName:W.displayName,email:W.email.toLowerCase(),createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString(),contacts:[],settings:{theme:"dark",notifications:!0}};try{await wk(G,st)}catch(X){throw console.error("Error creating user document:",X),X}},K=async W=>{if(W.preventDefault(),b(),!!L()){f(!0);try{await P(n,e);const G=await y(n,a,e);await M(G.user),It.success("Welcome to Cloud Contact Saver!"),x("/dashboard")}catch(G){console.error("Registration error:",G);let st="Failed to create an account";G.message==="email-exists"?(st="This email is already registered",It.error("This email is already registered"),p(X=>({...X,email:"Email already in use"}))):G.message==="username-exists"?(st="This username is already taken",It.error("This username is already taken"),p(X=>({...X,displayName:"Username already taken"}))):G.code==="auth/email-already-in-use"?(st="This email is already registered",It.error("This email is already registered"),p(X=>({...X,email:"Email already in use"}))):G.code==="auth/invalid-email"?(st="Please enter a valid email address",It.error("Please enter a valid email address"),p(X=>({...X,email:"Invalid email format"}))):G.code==="auth/weak-password"?(st="Password is too weak",It.error("Please choose a stronger password"),p(X=>({...X,password:"Password is too weak"}))):G.code==="auth/network-request-failed"?(st="Network error. Please check your connection",It.error("Network error. Please check your connection")):It.error("An unexpected error occurred"),_(st)}finally{f(!1)}}};return A.jsx("main",{className:"mx-auto py-6 space-y-6 pb-20 pt-20 md:pb-6",children:A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-12",children:[A.jsxs("div",{className:"flex items-center mb-8 transform transition-all duration-300 hover:scale-105",children:[A.jsx(Ss,{className:"text-primary-400 mr-2 text-4xl"}),A.jsx("h1",{className:"text-2xl font-bold text-white",children:"Cloud Contact Saver"})]}),A.jsx(BR,{type:"register",onSubmit:K,loading:c,email:n,setEmail:r,password:a,setPassword:l,displayName:e,setDisplayName:t,errors:m})]})})},L9=()=>{const[e,t]=j.useState(""),[n,r]=j.useState(!1),[a,l]=j.useState({}),{resetPassword:c,resetError:f}=ka(),m=()=>{const y={};let _=!0;return e.trim()?/\S+@\S+\.\S+/.test(e)||(It.error("Please enter a valid email address"),y.email="Email is invalid",_=!1):(It.error("Email is required"),y.email="Email is required",_=!1),l(y),_},p=async y=>{if(y.preventDefault(),f(),!!m()){r(!0);try{await c(e),It.success("Password reset link sent! Check your email"),t("")}catch(_){console.error("Password reset error:",_);let b="Failed to reset password";_.code==="auth/user-not-found"?(b="No account found with this email",It.error("No account found with this email")):_.code==="auth/invalid-email"?(b="Please enter a valid email address",It.error("Please enter a valid email address")):_.code==="auth/too-many-requests"?(b="Too many attempts. Please try again later",It.error("Too many attempts. Please try again later")):_.code==="auth/network-request-failed"?(b="Network error. Please check your connection",It.error("Network error. Please check your connection")):It.error("An unexpected error occurred"),l({email:b})}finally{r(!1)}}};return A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-12",children:[A.jsxs("div",{className:"flex items-center mb-8 transform transition-all duration-300 hover:scale-105",children:[A.jsx(Ss,{className:"text-primary-400 mr-2 text-4xl"}),A.jsx("h1",{className:"text-2xl font-bold text-white",children:"Cloud Contact Saver"})]}),A.jsxs("form",{onSubmit:p,className:"w-full max-w-md transform transition-all duration-300 ease-in-out bg-gray-900 backdrop-blur-sm border border-gray-800 p-8 rounded-lg shadow-xl",children:[A.jsxs("div",{className:"mb-8 text-center",children:[A.jsx("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent",children:"Reset Password"}),A.jsx("p",{className:"text-gray-400",children:"Enter your email address and we'll send you a link to reset your password"})]}),A.jsx(xa,{id:"email",type:"email",label:"Email Address",placeholder:"Enter your email",value:e,onChange:y=>t(y.target.value),error:a==null?void 0:a.email,required:!0,icon:A.jsx(zv,{}),autoComplete:"email"}),A.jsx("div",{className:"mb-6",children:A.jsx(As,{type:"submit",variant:"primary",fullWidth:!0,loading:n,children:"Send Reset Link"})}),A.jsx("div",{className:"text-center",children:A.jsxs(ri,{to:"/login",className:"inline-flex items-center text-gray-400 hover:text-primary-400 transition-colors duration-200",children:[A.jsx(Bv,{className:"mr-2"}),"Back to Login"]})})]})]})},U9=({isOpen:e,onClose:t,onSave:n,loading:r,contact:a=null})=>{const[l,c]=j.useState({name:"",phone:"",notes:""});j.useEffect(()=>{c(a||{name:"",phone:"",notes:""})},[a]);const f=m=>{m.preventDefault(),n(l),a||c({name:"",phone:"",notes:""})};return A.jsx(Ac,{children:e&&A.jsx(Jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:A.jsxs(Jt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-xl w-full max-w-md border border-gray-700",children:[A.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-700",children:[A.jsx("h2",{className:"text-xl font-semibold bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent",children:a?"Edit Contact":"Add New Contact"}),A.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors focus:outline-none focus:ring-2 focus:ring-primary-400 rounded-lg p-1",children:A.jsx(P9,{size:24})})]}),A.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[A.jsx(xa,{id:"name",label:"Name",type:"text",required:!0,value:l.name,onChange:m=>c({...l,name:m.target.value}),placeholder:"Enter contact name",icon:A.jsx(wa,{className:"text-primary-400"})}),A.jsx(xa,{id:"phone",label:"Phone Number",type:"tel",required:!0,value:l.phone,onChange:m=>c({...l,phone:m.target.value}),placeholder:"Enter phone number",icon:A.jsx(UR,{className:"text-primary-400"})}),A.jsxs("div",{className:"space-y-1",children:[A.jsxs("label",{className:"form-label flex items-center gap-2",htmlFor:"notes",children:[A.jsx(LR,{className:"text-primary-400"}),"Notes (Optional)"]}),A.jsx("textarea",{id:"notes",value:l.notes,onChange:m=>c({...l,notes:m.target.value}),placeholder:"Add any additional notes",className:"input-field min-h-[100px] resize-y"})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[A.jsx(As,{type:"button",variant:"secondary",onClick:t,className:"px-6",children:"Cancel"}),A.jsx(As,{type:"submit",variant:"primary",loading:r,className:"px-6",children:a?"Update Contact":"Save Contact"})]})]})]})})})},j9=e=>{const t=e.split(" ");return t.length>1?`${t[0][0]}${t[t.length-1][0]}`.toUpperCase():t[0][0].toUpperCase()},B9=e=>{const t=["bg-primary-400","bg-accent-400","bg-success-400","bg-warning-400","bg-[#4CAF50]","bg-[#9C27B0]","bg-[#FF5722]","bg-[#607D8B]"],n=e.split("").reduce((r,a)=>r+a.charCodeAt(0),0);return t[n%t.length]},z9=({contacts:e,onEdit:t,onDelete:n})=>A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.jsx(Ac,{children:e.map(r=>A.jsx(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"group bg-gray-800/80 backdrop-blur-sm rounded-xl border border-gray-700/50 p-4 hover:border-primary-400/50 transition-all duration-300 hover:shadow-lg hover:shadow-primary-400/10",children:A.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[A.jsx("div",{className:`w-12 h-12 rounded-full ${B9(r.name)} flex items-center justify-center text-white font-semibold text-lg shrink-0`,children:j9(r.name)}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("h3",{className:"text-lg font-semibold text-white truncate group-hover:bg-gradient-to-r group-hover:from-primary-400 group-hover:to-accent-400 group-hover:bg-clip-text group-hover:text-transparent transition-all duration-300",children:r.name}),A.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 ml-2 shrink-0",children:[A.jsx("button",{onClick:()=>t(r),className:"p-1.5 rounded-lg text-gray-400 hover:text-primary-400 hover:bg-primary-400/10 transition-colors",children:A.jsx(kR,{size:18})}),A.jsx("button",{onClick:()=>n(r.id),className:"p-1.5 rounded-lg text-gray-400 hover:text-error-400 hover:bg-error-400/10 transition-colors",children:A.jsx(O9,{size:18})})]})]}),A.jsxs("div",{className:"space-y-2 mt-2",children:[A.jsxs("a",{href:`tel:${r.phone}`,className:"flex items-center text-gray-300 hover:text-primary-400 transition-colors group/item",children:[A.jsx(UR,{className:"mr-2 text-primary-400 group-hover/item:animate-pulse"}),A.jsx("span",{className:"truncate",children:r.phone})]}),r.notes&&A.jsxs("div",{className:"flex items-start gap-2 text-gray-400 text-sm mt-3 pt-3 border-t border-gray-700/50",children:[A.jsx(LR,{className:"mt-0.5 text-primary-400 shrink-0"}),A.jsx("p",{className:"line-clamp-2",children:r.notes})]})]})]})]})},r.id))})}),F9=({value:e,onChange:t,options:n})=>{const[r,a]=j.useState(!1),l=f=>{t(f.value),a(!1)},c=n.find(f=>f.value===e);return A.jsxs("div",{className:"relative w-full",children:[A.jsxs("button",{type:"button",onClick:()=>a(!r),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 text-gray-300 hover:border-primary-400/50 transition-all duration-200 min-w-[140px]",children:[A.jsx("span",{className:"flex-1 text-left",children:c==null?void 0:c.label}),A.jsx(MR,{className:`transition-transform duration-200 ${r?"rotate-180":""}`})]}),A.jsx(Ac,{children:r&&A.jsxs(A.Fragment,{children:[A.jsx(Jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-30",onClick:()=>a(!1)}),A.jsx(Jt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-2 right-0 z-40 bg-gray-800 rounded-lg border border-gray-700 shadow-xl min-w-[140px] py-1",children:n.map(f=>A.jsx("button",{onClick:()=>l(f),className:`w-full text-left px-4 py-2 hover:bg-gray-700/50 transition-colors ${e===f.value?"text-primary-400":"text-gray-300"}`,children:f.label},f.value))})]})})]})},q9=({isOpen:e,onClose:t,onConfirm:n,contactName:r})=>A.jsx(Ac,{children:e&&A.jsx(Jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:A.jsx(Jt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-xl w-full max-w-md border border-gray-700 overflow-hidden",children:A.jsxs("div",{className:"p-6 flex flex-col items-center text-center",children:[A.jsx("div",{className:"w-16 h-16 bg-error-400/10 rounded-full flex items-center justify-center mb-4",children:A.jsx(b9,{size:32,className:"text-error-400"})}),A.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Delete Contact"}),A.jsxs("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete ",A.jsx("span",{className:"text-white font-medium",children:r}),"? This action cannot be undone."]}),A.jsxs("div",{className:"flex gap-3 w-full",children:[A.jsx(As,{variant:"secondary",onClick:t,fullWidth:!0,children:"Cancel"}),A.jsx(As,{variant:"primary",onClick:n,fullWidth:!0,className:"!bg-error-400 hover:!bg-error-500",children:"Delete"})]})]})})})}),H9=()=>{var at;const{currentUser:e,logout:t}=ka(),n=hc(),[r,a]=j.useState(!1),[l,c]=j.useState(!1),[f,m]=j.useState([]),[p,y]=j.useState(!0),[_,b]=j.useState(!1),[x,P]=j.useState(""),[L,M]=j.useState("name"),[K,W]=j.useState(null),[G,st]=j.useState({isOpen:!1,contact:null}),[X,ct]=j.useState(!1);j.useEffect(()=>{const lt=bf(_a,"contacts"),bt=Xf(lt,ju("userId","==",e.uid),bk(L==="name"?"name":"createdAt",L==="name"?"asc":"desc")),O=Ik(bt,rt=>{const ht=rt.docs.map(ot=>({id:ot.id,...ot.data()}));m(ht),y(!1)},rt=>{console.error("Error fetching contacts:",rt),It.error("Failed to load contacts"),y(!1)});return()=>O()},[e.uid,L]);const N=async lt=>{const bt=bf(_a,"contacts"),O=Xf(bt,ju("userId","==",e.uid),ju("phone","==",lt));return!(await Fg(O)).empty},R=async lt=>{b(!0);try{if(await N(lt.phone)){It.error("A contact with this phone number already exists");return}const O=bf(_a,"contacts");await Ck(O,{...lt,userId:e.uid,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),It.success("Contact added successfully"),c(!1)}catch(bt){console.error("Error adding contact:",bt),It.error("Failed to add contact")}finally{b(!1)}},C=async lt=>{b(!0);try{if(lt.phone!==K.phone&&await N(lt.phone)){It.error("A contact with this phone number already exists");return}const bt=Qf(_a,"contacts",K.id);await xk(bt,{...lt,updatedAt:new Date().toISOString()}),It.success("Contact updated successfully"),c(!1),W(null)}catch(bt){console.error("Error updating contact:",bt),It.error("Failed to update contact")}finally{b(!1)}},V=async()=>{try{await Rk(Qf(_a,"contacts",G.contact.id)),It.success("Contact deleted successfully"),st({isOpen:!1,contact:null})}catch(lt){console.error("Error deleting contact:",lt),It.error("Failed to delete contact")}},U=lt=>{W(lt),c(!0)},B=()=>{c(!1),W(null)},D=f.filter(lt=>lt.name.toLowerCase().includes(x.toLowerCase())||lt.phone.includes(x)),fe=async()=>{try{await t(),It.success("Logged out successfully"),n("/login")}catch(lt){console.error("Logout error:",lt),It.error("Failed to log out")}},ie=[{value:"name",label:"Sort by name"},{value:"date",label:"Sort by date"}],Z=()=>A.jsxs("div",{className:"relative",children:[A.jsxs("button",{onClick:()=>ct(!X),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-gray-300 hover:text-white hover:bg-gray-800 transition-all duration-200",children:[A.jsx(wa,{className:"text-primary-400"}),A.jsx("span",{children:(e==null?void 0:e.displayName)||"Profile"}),A.jsx(MR,{className:`transition-transform duration-200 ${X?"rotate-180":""}`})]}),A.jsx(Ac,{children:X&&A.jsxs(A.Fragment,{children:[A.jsx(Jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-30",onClick:()=>ct(!1)}),A.jsxs(Jt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-lg border border-gray-700 shadow-xl overflow-hidden z-40",children:[A.jsxs(ri,{to:"/profile",className:"flex items-center gap-2 px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-700 transition-colors",onClick:()=>ct(!1),children:[A.jsx(wa,{className:"text-primary-400"}),"Profile Settings"]}),A.jsxs("button",{onClick:()=>{ct(!1),fe()},className:"flex items-center gap-2 w-full px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-700 transition-colors",children:[A.jsx(R9,{className:"text-primary-400"}),"Logout"]})]})]})})]});return A.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950",children:[A.jsx("header",{className:"fixed top-0 left-0 right-0 bg-gray-900/80 backdrop-blur-sm border-b border-gray-800 z-40",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"flex justify-between items-center h-16",children:[A.jsxs("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[A.jsx(Ss,{className:"text-primary-400"}),A.jsx("span",{className:"bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent",children:"Cloud Contact Saver"})]}),A.jsx(Z,{})]})})}),A.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-12",children:[A.jsx("div",{className:"bg-gray-800/80 backdrop-blur-sm rounded-xl border border-gray-700/50 p-6 mb-8",children:A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Welcome, ",(e==null?void 0:e.displayName)||"User","!"]}),A.jsx("p",{className:"text-gray-400 text-sm",children:e==null?void 0:e.email})]}),A.jsxs("button",{onClick:()=>c(!0),className:"btn-primary flex items-center gap-2 group px-6 p-1.5 rounded-xl",children:[A.jsx(hA,{className:"transform transition-all duration-200 group-hover:rotate-90"}),"Add Contact"]})]})}),p?A.jsx("div",{className:"flex items-center justify-center py-12",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-400"})}):f.length>0?A.jsxs(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[A.jsxs("div",{className:"relative flex-1 w-full",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:A.jsx(jR,{className:"text-gray-400"})}),A.jsx("input",{type:"text",placeholder:"Search contacts...",value:x,onChange:lt=>P(lt.target.value),className:"w-full pl-11 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-300 placeholder-gray-400 focus:outline-none focus:border-primary-400/50 focus:ring-1 focus:ring-primary-400/50 transition-all duration-200"})]}),A.jsx(F9,{value:L,onChange:M,options:ie})]}),A.jsx(z9,{contacts:D,onEdit:U,onDelete:lt=>{const bt=f.find(O=>O.id===lt);st({isOpen:!0,contact:bt})}})]}):A.jsxs(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800/80 backdrop-blur-sm rounded-xl border border-gray-700/50 flex flex-col items-center justify-center py-12 text-center",children:[A.jsx("div",{className:"w-16 h-16 bg-gray-700/50 rounded-full flex items-center justify-center mb-6",children:A.jsx(wa,{size:32,className:"text-primary-400"})}),A.jsx("h3",{className:"text-xl font-semibold mb-3",children:"No contacts yet"}),A.jsx("p",{className:"text-gray-400 mb-8 max-w-md",children:"Your contact list is empty. Add your first contact to get started with Cloud Contact Saver."}),A.jsxs("button",{onClick:()=>c(!0),className:"btn-primary flex items-center gap-2 group px-6 p-3 rounded-xl",children:[A.jsx(hA,{className:"transform transition-all duration-200 group-hover:rotate-90"}),"Add Your First Contact"]})]})]}),A.jsx(U9,{isOpen:l,onClose:B,onSave:K?C:R,loading:_,contact:K}),A.jsx(q9,{isOpen:G.isOpen,onClose:()=>st({isOpen:!1,contact:null}),onConfirm:V,contactName:(at=G.contact)==null?void 0:at.name})]})},G9=[{icon:A.jsx(I9,{className:"text-primary-400",size:24}),title:"Secure Storage",description:"Your contacts are encrypted and stored safely in the cloud, protected from loss or theft."},{icon:A.jsx(jR,{className:"text-primary-400",size:24}),title:"Smart Search",description:"Find any contact instantly with our powerful search and filtering system."},{icon:A.jsx(D9,{className:"text-primary-400",size:24}),title:"Device Independent",description:"Access your contacts from any device, anywhere, without relying on SIM cards."},{icon:A.jsx(w9,{className:"text-primary-400",size:24}),title:"Advanced Filtering",description:"Organize and sort your contacts exactly how you want them."},{icon:A.jsx(N9,{className:"text-primary-400",size:24}),title:"Unlimited Storage",description:"Store as many contacts as you need with our unlimited cloud storage."},{icon:A.jsx(Ss,{className:"text-primary-400",size:24}),title:"Real-time Sync",description:"All your changes are instantly synchronized across all your devices."}],K9=()=>A.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950",children:[A.jsxs("header",{className:"relative px-4 overflow-hidden",children:[A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16 text-center",children:A.jsxs(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative z-10",children:[A.jsx("div",{className:"flex justify-center mb-8",children:A.jsx("div",{className:"p-3 bg-gray-800/50 rounded-2xl backdrop-blur-sm border border-gray-700/50",children:A.jsx(Ss,{className:"text-6xl text-primary-400"})})}),A.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",children:A.jsx("span",{className:"bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent",children:"Cloud Contact Saver"})}),A.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Your contacts, securely stored in the cloud. Access them anywhere, anytime, from any device."}),A.jsxs("div",{className:"flex w-full md:px-28 flex-col sm:flex-row gap-4 justify-center",children:[A.jsx(ri,{to:"/register",className:"btn-primary text-lg px-8 py-3 rounded-xl hover:scale-105 transform transition-all duration-200",children:"Get Started Free"}),A.jsx(ri,{to:"/login",className:"btn-secondary text-lg px-8 py-3 rounded-xl hover:scale-105 transform transition-all duration-200",children:"Sign In"})]})]})}),A.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary-400/5 to-accent-400/5 backdrop-blur-3xl"})]}),A.jsx("section",{className:"py-20 relative",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[A.jsxs(Jt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[A.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"Everything You Need to Manage Contacts"}),A.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"A complete solution for storing and managing your contacts in the cloud, with all the features you need."})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:G9.map((e,t)=>A.jsxs(Jt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:t*.1},viewport:{once:!0},className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6 hover:border-primary-400/50 transition-all duration-300",children:[A.jsx("div",{className:"w-12 h-12 bg-gray-700/50 rounded-xl flex items-center justify-center mb-4",children:e.icon}),A.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),A.jsx("p",{className:"text-gray-400",children:e.description})]},e.title))})]})}),A.jsx("section",{className:"py-20 bg-gray-900/50",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[A.jsxs(Jt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[A.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"Why Choose Cloud Contact Saver?"}),A.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Never lose your contacts again. Keep them safe, organized, and accessible."})]}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[A.jsxs(Jt.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"space-y-6",children:[A.jsxs("div",{className:"flex items-start gap-4",children:[A.jsx("div",{className:"w-8 h-8 bg-primary-400/10 rounded-lg flex items-center justify-center shrink-0",children:A.jsx(ug,{className:"text-primary-400",size:20})}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Device Independent Storage"}),A.jsx("p",{className:"text-gray-400",children:"No more relying on SIM cards or device storage. Your contacts are safely stored in the cloud."})]})]}),A.jsxs("div",{className:"flex items-start gap-4",children:[A.jsx("div",{className:"w-8 h-8 bg-primary-400/10 rounded-lg flex items-center justify-center shrink-0",children:A.jsx(ug,{className:"text-primary-400",size:20})}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Instant Access"}),A.jsx("p",{className:"text-gray-400",children:"Access your contacts instantly from any device with an internet connection."})]})]}),A.jsxs("div",{className:"flex items-start gap-4",children:[A.jsx("div",{className:"w-8 h-8 bg-primary-400/10 rounded-lg flex items-center justify-center shrink-0",children:A.jsx(ug,{className:"text-primary-400",size:20})}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Secure & Private"}),A.jsx("p",{className:"text-gray-400",children:"Your data is encrypted and protected. Only you can access your contacts."})]})]})]}),A.jsxs(Jt.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-8",children:[A.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Get Started in Minutes"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-400/20 flex items-center justify-center text-primary-400 font-semibold",children:"1"}),A.jsx("p",{className:"text-gray-300",children:"Create your free account"})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-400/20 flex items-center justify-center text-primary-400 font-semibold",children:"2"}),A.jsx("p",{className:"text-gray-300",children:"Add your contacts"})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-400/20 flex items-center justify-center text-primary-400 font-semibold",children:"3"}),A.jsx("p",{className:"text-gray-300",children:"Access them anywhere"})]})]}),A.jsx("div",{className:"mt-8",children:A.jsx(ri,{to:"/register",className:"btn-primary w-full text-center p-3 rounded-xl hover:scale-105 transform transition-all duration-200",children:"Create Free Account"})})]})]})]})}),A.jsx("section",{className:"py-20",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsxs(Jt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-gradient-to-r from-primary-400/10 to-accent-400/10 backdrop-blur-sm border border-primary-400/20 rounded-2xl p-8 md:p-12 text-center",children:[A.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"Ready to Secure Your Contacts?"}),A.jsx("p",{className:"text-gray-300 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of users who trust Cloud Contact Saver to keep their contacts safe and accessible."}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[A.jsx(ri,{to:"/register",className:"btn-primary text-lg px-8 py-3 rounded-xl hover:scale-105 transform transition-all duration-200",children:"Get Started Free"}),A.jsx(ri,{to:"/login",className:"btn-secondary text-lg px-8 py-3 rounded-xl hover:scale-105 transform transition-all duration-200",children:"Sign In"})]})]})})}),A.jsx("footer",{className:"py-8 border-t border-gray-800",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"flex items-center justify-center gap-2",children:[A.jsx(Ss,{className:"text-primary-400"}),A.jsx("span",{className:"text-gray-400",children:" 2024 Cloud Contact Saver. All rights reserved."})]})})})]}),Y9=({user:e,onUpdateProfile:t,loading:n})=>{const[r,a]=j.useState(!1),[l,c]=j.useState((e==null?void 0:e.displayName)||""),[f,m]=j.useState({}),p=async y=>{if(y.preventDefault(),!l.trim()){m({displayName:"Name is required"});return}try{await t({displayName:l.trim()}),a(!1),m({})}catch{m({displayName:"Failed to update profile"})}};return A.jsxs(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800/80 backdrop-blur-sm rounded-xl border border-gray-700/50 p-6",children:[A.jsxs("div",{className:"flex justify-between items-start mb-6",children:[A.jsx("h2",{className:"text-xl font-semibold",children:"Profile Details"}),!r&&A.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-lg text-gray-400 hover:text-primary-400 hover:bg-primary-400/10 transition-colors",children:A.jsx(kR,{size:20})})]}),A.jsxs("form",{onSubmit:p,className:"space-y-6",children:[A.jsxs("div",{className:"space-y-4",children:[r?A.jsx(xa,{id:"displayName",label:"Display Name",type:"text",value:l,onChange:y=>c(y.target.value),error:f.displayName,icon:A.jsx(wa,{className:"text-primary-400"})}):A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{className:"text-sm text-gray-400",children:"Display Name"}),A.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-900/50 rounded-lg",children:[A.jsx(wa,{className:"text-primary-400"}),A.jsx("span",{className:"text-gray-200",children:e==null?void 0:e.displayName})]})]}),A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{className:"text-sm text-gray-400",children:"Email Address"}),A.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-900/50 rounded-lg",children:[A.jsx(zv,{className:"text-primary-400"}),A.jsx("span",{className:"text-gray-200",children:e==null?void 0:e.email})]})]})]}),r&&A.jsxs("div",{className:"flex gap-3",children:[A.jsx(As,{type:"button",variant:"secondary",onClick:()=>{a(!1),c((e==null?void 0:e.displayName)||""),m({})},children:"Cancel"}),A.jsxs(As,{type:"submit",variant:"primary",loading:n,className:"flex items-center gap-2",children:[A.jsx(C9,{}),"Save Changes"]})]})]})]})},Q9=()=>{const{currentUser:e,updateUserProfile:t}=ka(),[n,r]=j.useState(!1),a=async l=>{r(!0);try{await t(e,l),It.success("Profile updated successfully")}catch(c){throw console.error("Error updating profile:",c),It.error("Failed to update profile"),c}finally{r(!1)}};return A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950",children:A.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[A.jsxs("div",{className:"flex items-center justify-between mb-8",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"p-2 bg-gray-800/50 rounded-xl backdrop-blur-sm border border-gray-700/50",children:A.jsx(Ss,{className:"text-3xl text-primary-400"})}),A.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent",children:"Account Settings"})]}),A.jsxs(ri,{to:"/dashboard",className:"flex items-center gap-2 px-4 py-2 rounded-lg text-gray-300 hover:text-white hover:bg-gray-800 transition-all duration-200",children:[A.jsx(Bv,{className:"text-primary-400"}),A.jsx("span",{children:"Back to Dashboard"})]})]}),A.jsx(Y9,{user:e,onUpdateProfile:a,loading:n})]})})},$9=()=>{const{currentUser:e,loading:t}=ka();return t?A.jsx("div",{className:"flex items-center justify-center min-h-screen",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-400"})}):e?A.jsx(mI,{}):A.jsx(hf,{to:"/login"})},X9=()=>A.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-12 text-center",children:A.jsxs("div",{className:"transform transition-all duration-300 hover:scale-105",children:[A.jsx("h1",{className:"text-9xl font-bold text-primary-400",children:"404"}),A.jsxs("div",{className:"mt-4",children:[A.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Page Not Found"}),A.jsx("p",{className:"text-gray-400 mb-8 max-w-md mx-auto",children:"The page you are looking for doesn't exist or has been moved."}),A.jsxs(ri,{to:"/",className:"btn-primary inline-flex items-center hover:scale-105 transform transition-all duration-200",children:[A.jsx(Bv,{className:"mr-2"}),"Back to Home"]})]})]})});function W9(){const{currentUser:e,loading:t}=ka();return t?A.jsx("div",{className:"flex items-center justify-center min-h-screen",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-400"})}):A.jsxs(gI,{children:[A.jsx(lr,{path:"/",element:A.jsx(K9,{})}),A.jsx(lr,{path:"/login",element:e?A.jsx(hf,{to:"/dashboard"}):A.jsx(M9,{})}),A.jsx(lr,{path:"/register",element:e?A.jsx(hf,{to:"/dashboard"}):A.jsx(k9,{})}),A.jsx(lr,{path:"/forgot-password",element:e?A.jsx(hf,{to:"/dashboard"}):A.jsx(L9,{})}),A.jsxs(lr,{element:A.jsx($9,{}),children:[A.jsx(lr,{path:"/dashboard",element:A.jsx(H9,{})}),A.jsx(lr,{path:"/profile",element:A.jsx(Q9,{})})]}),A.jsx(lr,{path:"*",element:A.jsx(X9,{})})]})}b2.createRoot(document.getElementById("root")).render(A.jsx(hr.StrictMode,{children:A.jsx(SI,{children:A.jsxs(Ok,{children:[A.jsx(W9,{}),A.jsx(gD,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#1F2937",color:"#F3F4F6",border:"1px solid #374151"}}})]})})}));
