function uI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function cS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pp={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function cI(){if($T)return _u;$T=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return _u.Fragment=t,_u.jsx=n,_u.jsxs=n,_u}var XT;function hI(){return XT||(XT=1,Pp.exports=cI()),Pp.exports}var D=hI(),Vp={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function fI(){if(WT)return Ct;WT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=_&&P[_]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,L={};function M(P,rt,ct){this.props=P,this.context=rt,this.refs=L,this.updater=ct||w}M.prototype.isReactComponent={},M.prototype.setState=function(P,rt){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,rt,"setState")},M.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function K(){}K.prototype=M.prototype;function Z(P,rt,ct){this.props=P,this.context=rt,this.refs=L,this.updater=ct||w}var G=Z.prototype=new K;G.constructor=Z,O(G,M.prototype),G.isPureReactComponent=!0;var at=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},ut=Object.prototype.hasOwnProperty;function N(P,rt,ct,ot,yt,Ot){return ct=Ot.ref,{$$typeof:e,type:P,key:rt,ref:ct!==void 0?ct:null,props:Ot}}function R(P,rt){return N(P.type,rt,void 0,void 0,void 0,P.props)}function x(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function V(P){var rt={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ct){return rt[ct]})}var U=/\/+/g;function B(P,rt){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):rt.toString(36)}function I(){}function ae(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(I,I):(P.status="pending",P.then(function(rt){P.status==="pending"&&(P.status="fulfilled",P.value=rt)},function(rt){P.status==="pending"&&(P.status="rejected",P.reason=rt)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function St(P,rt,ct,ot,yt){var Ot=typeof P;(Ot==="undefined"||Ot==="boolean")&&(P=null);var wt=!1;if(P===null)wt=!0;else switch(Ot){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(P.$$typeof){case e:case t:wt=!0;break;case y:return wt=P._init,St(wt(P._payload),rt,ct,ot,yt)}}if(wt)return yt=yt(P),wt=ot===""?"."+B(P,0):ot,at(yt)?(ct="",wt!=null&&(ct=wt.replace(U,"$&/")+"/"),St(yt,rt,ct,"",function(oi){return oi})):yt!=null&&(x(yt)&&(yt=R(yt,ct+(yt.key==null||P&&P.key===yt.key?"":(""+yt.key).replace(U,"$&/")+"/")+wt)),rt.push(yt)),1;wt=0;var ke=ot===""?".":ot+":";if(at(P))for(var ee=0;ee<P.length;ee++)ot=P[ee],Ot=ke+B(ot,ee),wt+=St(ot,rt,ct,Ot,yt);else if(ee=b(P),typeof ee=="function")for(P=ee.call(P),ee=0;!(ot=P.next()).done;)ot=ot.value,Ot=ke+B(ot,ee++),wt+=St(ot,rt,ct,Ot,yt);else if(Ot==="object"){if(typeof P.then=="function")return St(ae(P),rt,ct,ot,yt);throw rt=String(P),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function X(P,rt,ct){if(P==null)return P;var ot=[],yt=0;return St(P,ot,"","",function(Ot){return rt.call(ct,Ot,yt++)}),ot}function st(P){if(P._status===-1){var rt=P._result;rt=rt(),rt.then(function(ct){(P._status===0||P._status===-1)&&(P._status=1,P._result=ct)},function(ct){(P._status===0||P._status===-1)&&(P._status=2,P._result=ct)}),P._status===-1&&(P._status=0,P._result=rt)}if(P._status===1)return P._result.default;throw P._result}var ht=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Vt(){}return Ct.Children={map:X,forEach:function(P,rt,ct){X(P,function(){rt.apply(this,arguments)},ct)},count:function(P){var rt=0;return X(P,function(){rt++}),rt},toArray:function(P){return X(P,function(rt){return rt})||[]},only:function(P){if(!x(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ct.Component=M,Ct.Fragment=n,Ct.Profiler=a,Ct.PureComponent=Z,Ct.StrictMode=r,Ct.Suspense=m,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(P){return W.H.useMemoCache(P)}},Ct.cache=function(P){return function(){return P.apply(null,arguments)}},Ct.cloneElement=function(P,rt,ct){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ot=O({},P.props),yt=P.key,Ot=void 0;if(rt!=null)for(wt in rt.ref!==void 0&&(Ot=void 0),rt.key!==void 0&&(yt=""+rt.key),rt)!ut.call(rt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&rt.ref===void 0||(ot[wt]=rt[wt]);var wt=arguments.length-2;if(wt===1)ot.children=ct;else if(1<wt){for(var ke=Array(wt),ee=0;ee<wt;ee++)ke[ee]=arguments[ee+2];ot.children=ke}return N(P.type,yt,void 0,void 0,Ot,ot)},Ct.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ct.createElement=function(P,rt,ct){var ot,yt={},Ot=null;if(rt!=null)for(ot in rt.key!==void 0&&(Ot=""+rt.key),rt)ut.call(rt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(yt[ot]=rt[ot]);var wt=arguments.length-2;if(wt===1)yt.children=ct;else if(1<wt){for(var ke=Array(wt),ee=0;ee<wt;ee++)ke[ee]=arguments[ee+2];yt.children=ke}if(P&&P.defaultProps)for(ot in wt=P.defaultProps,wt)yt[ot]===void 0&&(yt[ot]=wt[ot]);return N(P,Ot,void 0,void 0,null,yt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(P){return{$$typeof:f,render:P}},Ct.isValidElement=x,Ct.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:st}},Ct.memo=function(P,rt){return{$$typeof:p,type:P,compare:rt===void 0?null:rt}},Ct.startTransition=function(P){var rt=W.T,ct={};W.T=ct;try{var ot=P(),yt=W.S;yt!==null&&yt(ct,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Vt,ht)}catch(Ot){ht(Ot)}finally{W.T=rt}},Ct.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ct.use=function(P){return W.H.use(P)},Ct.useActionState=function(P,rt,ct){return W.H.useActionState(P,rt,ct)},Ct.useCallback=function(P,rt){return W.H.useCallback(P,rt)},Ct.useContext=function(P){return W.H.useContext(P)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(P,rt){return W.H.useDeferredValue(P,rt)},Ct.useEffect=function(P,rt,ct){var ot=W.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(P,rt)},Ct.useId=function(){return W.H.useId()},Ct.useImperativeHandle=function(P,rt,ct){return W.H.useImperativeHandle(P,rt,ct)},Ct.useInsertionEffect=function(P,rt){return W.H.useInsertionEffect(P,rt)},Ct.useLayoutEffect=function(P,rt){return W.H.useLayoutEffect(P,rt)},Ct.useMemo=function(P,rt){return W.H.useMemo(P,rt)},Ct.useOptimistic=function(P,rt){return W.H.useOptimistic(P,rt)},Ct.useReducer=function(P,rt,ct){return W.H.useReducer(P,rt,ct)},Ct.useRef=function(P){return W.H.useRef(P)},Ct.useState=function(P){return W.H.useState(P)},Ct.useSyncExternalStore=function(P,rt,ct){return W.H.useSyncExternalStore(P,rt,ct)},Ct.useTransition=function(){return W.H.useTransition()},Ct.version="19.1.0",Ct}var ZT;function oy(){return ZT||(ZT=1,Vp.exports=fI()),Vp.exports}var j=oy();const ur=cS(j),dI=uI({__proto__:null,default:ur},[j]);var Mp={exports:{}},Tu={},kp={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT;function mI(){return JT||(JT=1,function(e){function t(X,st){var ht=X.length;X.push(st);t:for(;0<ht;){var Vt=ht-1>>>1,P=X[Vt];if(0<a(P,st))X[Vt]=st,X[ht]=P,ht=Vt;else break t}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var st=X[0],ht=X.pop();if(ht!==st){X[0]=ht;t:for(var Vt=0,P=X.length,rt=P>>>1;Vt<rt;){var ct=2*(Vt+1)-1,ot=X[ct],yt=ct+1,Ot=X[yt];if(0>a(ot,ht))yt<P&&0>a(Ot,ot)?(X[Vt]=Ot,X[yt]=ht,Vt=yt):(X[Vt]=ot,X[ct]=ht,Vt=ct);else if(yt<P&&0>a(Ot,ht))X[Vt]=Ot,X[yt]=ht,Vt=yt;else break t}}return st}function a(X,st){var ht=X.sortIndex-st.sortIndex;return ht!==0?ht:X.id-st.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,b=3,w=!1,O=!1,L=!1,M=!1,K=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function at(X){for(var st=n(p);st!==null;){if(st.callback===null)r(p);else if(st.startTime<=X)r(p),st.sortIndex=st.expirationTime,t(m,st);else break;st=n(p)}}function W(X){if(L=!1,at(X),!O)if(n(m)!==null)O=!0,ut||(ut=!0,B());else{var st=n(p);st!==null&&St(W,st.startTime-X)}}var ut=!1,N=-1,R=5,x=-1;function V(){return M?!0:!(e.unstable_now()-x<R)}function U(){if(M=!1,ut){var X=e.unstable_now();x=X;var st=!0;try{t:{O=!1,L&&(L=!1,Z(N),N=-1),w=!0;var ht=b;try{e:{for(at(X),_=n(m);_!==null&&!(_.expirationTime>X&&V());){var Vt=_.callback;if(typeof Vt=="function"){_.callback=null,b=_.priorityLevel;var P=Vt(_.expirationTime<=X);if(X=e.unstable_now(),typeof P=="function"){_.callback=P,at(X),st=!0;break e}_===n(m)&&r(m),at(X)}else r(m);_=n(m)}if(_!==null)st=!0;else{var rt=n(p);rt!==null&&St(W,rt.startTime-X),st=!1}}break t}finally{_=null,b=ht,w=!1}st=void 0}}finally{st?B():ut=!1}}}var B;if(typeof G=="function")B=function(){G(U)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ae=I.port2;I.port1.onmessage=U,B=function(){ae.postMessage(null)}}else B=function(){K(U,0)};function St(X,st){N=K(function(){X(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(X){switch(b){case 1:case 2:case 3:var st=3;break;default:st=b}var ht=b;b=st;try{return X()}finally{b=ht}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(X,st){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ht=b;b=X;try{return st()}finally{b=ht}},e.unstable_scheduleCallback=function(X,st,ht){var Vt=e.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Vt+ht:Vt):ht=Vt,X){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ht+P,X={id:y++,callback:st,priorityLevel:X,startTime:ht,expirationTime:P,sortIndex:-1},ht>Vt?(X.sortIndex=ht,t(p,X),n(m)===null&&X===n(p)&&(L?(Z(N),N=-1):L=!0,St(W,ht-Vt))):(X.sortIndex=P,t(m,X),O||w||(O=!0,ut||(ut=!0,B()))),X},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(X){var st=b;return function(){var ht=b;b=st;try{return X.apply(this,arguments)}finally{b=ht}}}}(Lp)),Lp}var tE;function pI(){return tE||(tE=1,kp.exports=mI()),kp.exports}var Up={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function gI(){if(eE)return en;eE=1;var e=oy();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},en.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},en.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},en.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},en.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:w}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},en.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},en.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},en.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},en.requestFormReset=function(m){r.d.r(m)},en.unstable_batchedUpdates=function(m,p){return m(p)},en.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.1.0",en}var nE;function hS(){if(nE)return Up.exports;nE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Up.exports=gI(),Up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function yI(){if(iE)return Tu;iE=1;var e=pI(),t=oy(),n=hS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===u)return f(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var E=!1,A=d.child;A;){if(A===o){E=!0,o=d,u=g;break}if(A===u){E=!0,u=d,o=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===o){E=!0,o=g,u=d;break}if(A===u){E=!0,u=g,o=d;break}A=A.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),G=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function ae(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case M:return"Profiler";case L:return"StrictMode";case W:return"Suspense";case ut:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case G:return(i.displayName||"Context")+".Provider";case Z:return(i._context.displayName||"Context")+".Consumer";case at:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:ae(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return ae(i(s))}catch{}}return null}var St=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Vt=[],P=-1;function rt(i){return{current:i}}function ct(i){0>P||(i.current=Vt[P],Vt[P]=null,P--)}function ot(i,s){P++,Vt[P]=i.current,i.current=s}var yt=rt(null),Ot=rt(null),wt=rt(null),ke=rt(null);function ee(i,s){switch(ot(wt,s),ot(Ot,i),ot(yt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?AT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=AT(s),i=ST(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(yt),ot(yt,i)}function oi(){ct(yt),ct(Ot),ct(wt)}function Er(i){i.memoizedState!==null&&ot(ke,i);var s=yt.current,o=ST(s,i.type);s!==o&&(ot(Ot,i),ot(yt,o))}function Vi(i){Ot.current===i&&(ct(yt),ct(Ot)),ke.current===i&&(ct(ke),mu._currentValue=ht)}var Is=Object.prototype.hasOwnProperty,Ds=e.unstable_scheduleCallback,Ns=e.unstable_cancelCallback,hl=e.unstable_shouldYield,Cc=e.unstable_requestPaint,On=e.unstable_now,Pd=e.unstable_getCurrentPriorityLevel,fl=e.unstable_ImmediatePriority,Na=e.unstable_UserBlockingPriority,Os=e.unstable_NormalPriority,Vd=e.unstable_LowPriority,Oa=e.unstable_IdlePriority,dl=e.log,Ic=e.unstable_setDisableYieldValue,he=null,Yt=null;function bn(i){if(typeof dl=="function"&&Ic(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(he,i)}catch{}}var Je=Math.clz32?Math.clz32:Ps,Dc=Math.log,Md=Math.LN2;function Ps(i){return i>>>=0,i===0?32:31-(Dc(i)/Md|0)|0}var Vs=256,Ms=4194304;function Wn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Pa(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?d=Wn(u):(E&=A,E!==0?d=Wn(E):o||(o=A&~i,o!==0&&(d=Wn(o))))):(A=u&~g,A!==0?d=Wn(A):E!==0?d=Wn(E):o||(o=u&~i,o!==0&&(d=Wn(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function ks(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ml(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pl(){var i=Vs;return Vs<<=1,(Vs&4194048)===0&&(Vs=256),i}function gl(){var i=Ms;return Ms<<=1,(Ms&62914560)===0&&(Ms=4194304),i}function Mi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function ki(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function yl(i,s,o,u,d,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,C=i.expirationTimes,H=i.hiddenUpdates;for(o=E&~o;0<o;){var J=31-Je(o),et=1<<J;A[J]=0,C[J]=-1;var Y=H[J];if(Y!==null)for(H[J]=null,J=0;J<Y.length;J++){var Q=Y[J];Q!==null&&(Q.lane&=-536870913)}o&=~et}u!==0&&li(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function li(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Je(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function vl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Je(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function br(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Va(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ar(){var i=st.p;return i!==0?i:(i=window.event,i===void 0?32:qT(i.type))}function Nc(i,s){var o=st.p;try{return st.p=i,s()}finally{st.p=o}}var re=Math.random().toString(36).slice(2),Ce="__reactFiber$"+re,Ee="__reactProps$"+re,Pn="__reactContainer$"+re,_l="__reactEvents$"+re,kd="__reactListeners$"+re,Sr="__reactHandles$"+re,Oc="__reactResources$"+re,Ls="__reactMarker$"+re;function wr(i){delete i[Ce],delete i[Ee],delete i[_l],delete i[kd],delete i[Sr]}function Li(i){var s=i[Ce];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Pn]||o[Ce]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=CT(i);i!==null;){if(o=i[Ce])return o;i=CT(i)}return s}i=o,o=i.parentNode}return null}function ui(i){if(i=i[Ce]||i[Pn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ci(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function un(i){var s=i[Oc];return s||(s=i[Oc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pe(i){i[Ls]=!0}var Tl=new Set,Ma={};function Zn(i,s){Ui(i,s),Ui(i+"Capture",s)}function Ui(i,s){for(Ma[i]=s,i=0;i<s.length;i++)Tl.add(s[i])}var Pc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vc={},Us={};function Mc(i){return Is.call(Us,i)?!0:Is.call(Vc,i)?!1:Pc.test(i)?Us[i]=!0:(Vc[i]=!0,!1)}function Rr(i,s,o){if(Mc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function hi(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function He(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var js,kc;function ji(i){if(js===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);js=s&&s[1]||"",kc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+js+i+kc}var ka=!1;function La(i,s){if(!i||ka)return"";ka=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var Y=Q}Reflect.construct(i,[],et)}else{try{et.call()}catch(Q){Y=Q}i.call(et.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],A=g[1];if(E&&A){var C=E.split(`
`),H=A.split(`
`);for(d=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(u===C.length||d===H.length)for(u=C.length-1,d=H.length-1;1<=u&&0<=d&&C[u]!==H[d];)d--;for(;1<=u&&0<=d;u--,d--)if(C[u]!==H[d]){if(u!==1||d!==1)do if(u--,d--,0>d||C[u]!==H[d]){var J=`
`+C[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=d);break}}}finally{ka=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ji(o):""}function El(i){switch(i.tag){case 26:case 27:case 5:return ji(i.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return La(i.type,!1);case 11:return La(i.type.render,!1);case 1:return La(i.type,!0);case 31:return ji("Activity");default:return""}}function Ua(i){try{var s="";do s+=El(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function bl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ld(i){var s=bl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ja(i){i._valueTracker||(i._valueTracker=Ld(i))}function Al(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=bl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Bs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ud=/[\n"\\]/g;function be(i){return i.replace(Ud,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function An(i,s,o,u,d,g,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?xr(i,E,cn(s)):o!=null?xr(i,E,cn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+cn(A):i.removeAttribute("name")}function zs(i,s,o,u,d,g,E,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+cn(o):"",s=s!=null?""+cn(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function xr(i,s,o){s==="number"&&Bs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Bi(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+cn(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function Xt(i,s,o){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+cn(o):""}function Fs(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(St(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=cn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Vn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||qs.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Sl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Lc(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&Lc(i,g,s[g])}function wl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(i){return Bd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var zi=null;function Mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fi=null,qi=null;function Rl(i){var s=ui(i);if(s&&(i=s.stateNode)){var o=i[Ee]||null;t:switch(i=s.stateNode,s.type){case"input":if(An(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+be(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[Ee]||null;if(!d)throw Error(r(90));An(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Al(u)}break t;case"textarea":Xt(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Bi(i,!!o.multiple,s,!1)}}}var fi=!1;function Uc(i,s,o){if(fi)return i(s,o);fi=!0;try{var u=i(s);return u}finally{if(fi=!1,(Fi!==null||qi!==null)&&(Nh(),Fi&&(s=Fi,i=qi,qi=Fi=null,Rl(s),i)))for(s=0;s<i.length;s++)Rl(i[s])}}function Hs(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Ee]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if(Jn)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){kn=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{kn=!1}var di=null,Cr=null,Hi=null;function xl(){if(Hi)return Hi;var i,s=Cr,o=s.length,u,d="value"in di?di.value:di.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var E=o-i;for(u=1;u<=E&&s[o-u]===d[g-u];u++);return Hi=d.slice(i,1<u?1-u:void 0)}function mi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pi(){return!0}function Cl(){return!1}function Le(i){function s(o,u,d,g,E){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pi:Cl,this.isPropagationStopped=Cl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),s}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Le(Gt),Ks=y({},Gt,{view:0,detail:0}),jc=Le(Ks),Fa,qa,gi,Ys=y({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gi&&(gi&&i.type==="mousemove"?(Fa=i.screenX-gi.screenX,qa=i.screenY-gi.screenY):qa=Fa=0,gi=i),Fa)},movementY:function(i){return"movementY"in i?i.movementY:qa}}),Ln=Le(Ys),Bc=y({},Ys,{dataTransfer:0}),zd=Le(Bc),Qs=y({},Ks,{relatedTarget:0}),Ha=Le(Qs),Il=y({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=Le(Il),zc=y({},Gt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ka=Le(zc),Fd=y({},Gt,{data:0}),Dl=Le(Fd),$s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=qc[i])?!!s[i]:!1}function Xs(){return Nl}var Hc=y({},Ks,{key:function(i){if(i.key){var s=$s[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=mi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Fc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(i){return i.type==="keypress"?mi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?mi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ya=Le(Hc),Gc=y({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ol=Le(Gc),Gi=y({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),Kc=Le(Gi),Yc=y({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qc=Le(Yc),$c=y({},Ys,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Qa=Le($c),hn=y({},Gt,{newState:0,oldState:0}),Xc=Le(hn),Wc=[9,13,27,32],yi=Jn&&"CompositionEvent"in window,h=null;Jn&&"documentMode"in document&&(h=document.documentMode);var v=Jn&&"TextEvent"in window&&!h,T=Jn&&(!yi||h&&8<h&&11>=h),S=" ",F=!1;function $(i,s){switch(i){case"keyup":return Wc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var jt=!1;function Ie(i,s){switch(i){case"compositionend":return lt(s);case"keypress":return s.which!==32?null:(F=!0,S);case"textInput":return i=s.data,i===S&&F?null:i;default:return null}}function Bt(i,s){if(jt)return i==="compositionend"||!yi&&$(i,s)?(i=xl(),Hi=Cr=di=null,jt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ue[i.type]:s==="textarea"}function Ki(i,s,o,u){Fi?qi?qi.push(u):qi=[u]:Fi=u,s=Lh(s,"onChange"),0<s.length&&(o=new za("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Ge=null,vi=null;function Pl(i){vT(i,0)}function Zc(i){var s=ci(i);if(Al(s))return i}function jv(i,s){if(i==="change")return s}var Bv=!1;if(Jn){var qd;if(Jn){var Hd="oninput"in document;if(!Hd){var zv=document.createElement("div");zv.setAttribute("oninput","return;"),Hd=typeof zv.oninput=="function"}qd=Hd}else qd=!1;Bv=qd&&(!document.documentMode||9<document.documentMode)}function Fv(){Ge&&(Ge.detachEvent("onpropertychange",qv),vi=Ge=null)}function qv(i){if(i.propertyName==="value"&&Zc(vi)){var s=[];Ki(s,vi,i,Mn(i)),Uc(Pl,s)}}function jx(i,s,o){i==="focusin"?(Fv(),Ge=s,vi=o,Ge.attachEvent("onpropertychange",qv)):i==="focusout"&&Fv()}function Bx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Zc(vi)}function zx(i,s){if(i==="click")return Zc(s)}function Fx(i,s){if(i==="input"||i==="change")return Zc(s)}function qx(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Sn=typeof Object.is=="function"?Object.is:qx;function Vl(i,s){if(Sn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Is.call(s,d)||!Sn(i[d],s[d]))return!1}return!0}function Hv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Gv(i,s){var o=Hv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Hv(o)}}function Kv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Kv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Yv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Bs(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Bs(i.document)}return s}function Gd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Hx=Jn&&"documentMode"in document&&11>=document.documentMode,$a=null,Kd=null,Ml=null,Yd=!1;function Qv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Yd||$a==null||$a!==Bs(u)||(u=$a,"selectionStart"in u&&Gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ml&&Vl(Ml,u)||(Ml=u,u=Lh(Kd,"onSelect"),0<u.length&&(s=new za("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=$a)))}function Ws(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Xa={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Qd={},$v={};Jn&&($v=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Zs(i){if(Qd[i])return Qd[i];if(!Xa[i])return i;var s=Xa[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in $v)return Qd[i]=s[o];return i}var Xv=Zs("animationend"),Wv=Zs("animationiteration"),Zv=Zs("animationstart"),Gx=Zs("transitionrun"),Kx=Zs("transitionstart"),Yx=Zs("transitioncancel"),Jv=Zs("transitionend"),t0=new Map,$d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$d.push("scrollEnd");function ti(i,s){t0.set(i,s),Zn(s,[i])}var e0=new WeakMap;function Un(i,s){if(typeof i=="object"&&i!==null){var o=e0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ua(s)},e0.set(i,s),s)}return{value:i,source:s,stack:Ua(s)}}var jn=[],Wa=0,Xd=0;function Jc(){for(var i=Wa,s=Xd=Wa=0;s<i;){var o=jn[s];jn[s++]=null;var u=jn[s];jn[s++]=null;var d=jn[s];jn[s++]=null;var g=jn[s];if(jn[s++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}g!==0&&n0(o,d,g)}}function th(i,s,o,u){jn[Wa++]=i,jn[Wa++]=s,jn[Wa++]=o,jn[Wa++]=u,Xd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Wd(i,s,o,u){return th(i,s,o,u),eh(i)}function Za(i,s){return th(i,null,null,s),eh(i)}function n0(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-Je(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function eh(i){if(50<au)throw au=0,ip=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ja={};function Qx(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(i,s,o,u){return new Qx(i,s,o,u)}function Zd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Yi(i,s){var o=i.alternate;return o===null?(o=wn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function i0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function nh(i,s,o,u,d,g){var E=0;if(u=i,typeof i=="function")Zd(i)&&(E=1);else if(typeof i=="string")E=XC(i,o,yt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case x:return i=wn(31,o,s,d),i.elementType=x,i.lanes=g,i;case O:return Js(o.children,d,g,s);case L:E=8,d|=24;break;case M:return i=wn(12,o,s,d|2),i.elementType=M,i.lanes=g,i;case W:return i=wn(13,o,s,d),i.elementType=W,i.lanes=g,i;case ut:return i=wn(19,o,s,d),i.elementType=ut,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:case G:E=10;break t;case Z:E=9;break t;case at:E=11;break t;case N:E=14;break t;case R:E=16,u=null;break t}E=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=wn(E,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function Js(i,s,o,u){return i=wn(7,i,u,s),i.lanes=o,i}function Jd(i,s,o){return i=wn(6,i,null,s),i.lanes=o,i}function tm(i,s,o){return s=wn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var to=[],eo=0,ih=null,rh=0,Bn=[],zn=0,ta=null,Qi=1,$i="";function ea(i,s){to[eo++]=rh,to[eo++]=ih,ih=i,rh=s}function r0(i,s,o){Bn[zn++]=Qi,Bn[zn++]=$i,Bn[zn++]=ta,ta=i;var u=Qi;i=$i;var d=32-Je(u)-1;u&=~(1<<d),o+=1;var g=32-Je(s)+d;if(30<g){var E=d-d%5;g=(u&(1<<E)-1).toString(32),u>>=E,d-=E,Qi=1<<32-Je(s)+d|o<<d|u,$i=g+i}else Qi=1<<g|o<<d|u,$i=i}function em(i){i.return!==null&&(ea(i,1),r0(i,1,0))}function nm(i){for(;i===ih;)ih=to[--eo],to[eo]=null,rh=to[--eo],to[eo]=null;for(;i===ta;)ta=Bn[--zn],Bn[zn]=null,$i=Bn[--zn],Bn[zn]=null,Qi=Bn[--zn],Bn[zn]=null}var fn=null,fe=null,Ht=!1,na=null,_i=!1,im=Error(r(519));function ia(i){var s=Error(r(418,""));throw Ul(Un(s,i)),im}function s0(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Ce]=i,s[Ee]=u,o){case"dialog":kt("cancel",s),kt("close",s);break;case"iframe":case"object":case"embed":kt("load",s);break;case"video":case"audio":for(o=0;o<lu.length;o++)kt(lu[o],s);break;case"source":kt("error",s);break;case"img":case"image":case"link":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"input":kt("invalid",s),zs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ja(s);break;case"select":kt("invalid",s);break;case"textarea":kt("invalid",s),Fs(s,u.value,u.defaultValue,u.children),ja(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||bT(s.textContent,o)?(u.popover!=null&&(kt("beforetoggle",s),kt("toggle",s)),u.onScroll!=null&&kt("scroll",s),u.onScrollEnd!=null&&kt("scrollend",s),u.onClick!=null&&(s.onclick=Uh),s=!0):s=!1,s||ia(i)}function a0(i){for(fn=i.return;fn;)switch(fn.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:fn=fn.return}}function kl(i){if(i!==fn)return!1;if(!Ht)return a0(i),Ht=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||_p(i.type,i.memoizedProps)),o=!o),o&&fe&&ia(i),a0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){fe=ni(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}fe=null}}else s===27?(s=fe,Hr(i.type)?(i=Ap,Ap=null,fe=i):fe=s):fe=fn?ni(i.stateNode.nextSibling):null;return!0}function Ll(){fe=fn=null,Ht=!1}function o0(){var i=na;return i!==null&&(vn===null?vn=i:vn.push.apply(vn,i),na=null),i}function Ul(i){na===null?na=[i]:na.push(i)}var rm=rt(null),ra=null,Xi=null;function Ir(i,s,o){ot(rm,s._currentValue),s._currentValue=o}function Wi(i){i._currentValue=rm.current,ct(rm)}function sm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function am(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var E=d.child;g=g.firstContext;t:for(;g!==null;){var A=g;g=d;for(var C=0;C<s.length;C++)if(A.context===s[C]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),sm(g.return,o,i),u||(E=null);break t}g=A.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),sm(E,o,i),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===i){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function jl(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=d.type;Sn(d.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(d===ke.current){if(E=d.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(mu):i=[mu])}d=d.return}i!==null&&am(s,i,o,u),s.flags|=262144}function sh(i){for(i=i.firstContext;i!==null;){if(!Sn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sa(i){ra=i,Xi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function tn(i){return l0(ra,i)}function ah(i,s){return ra===null&&sa(i),l0(i,s)}function l0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Xi===null){if(i===null)throw Error(r(308));Xi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Xi=Xi.next=s;return o}var $x=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},Xx=e.unstable_scheduleCallback,Wx=e.unstable_NormalPriority,Ne={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function om(){return{controller:new $x,data:new Map,refCount:0}}function Bl(i){i.refCount--,i.refCount===0&&Xx(Wx,function(){i.controller.abort()})}var zl=null,lm=0,no=0,io=null;function Zx(i,s){if(zl===null){var o=zl=[];lm=0,no=cp(),io={status:"pending",value:void 0,then:function(u){o.push(u)}}}return lm++,s.then(u0,u0),s}function u0(){if(--lm===0&&zl!==null){io!==null&&(io.status="fulfilled");var i=zl;zl=null,no=0,io=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Jx(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var c0=X.S;X.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Zx(i,s),c0!==null&&c0(i,s)};var aa=rt(null);function um(){var i=aa.current;return i!==null?i:ne.pooledCache}function oh(i,s){s===null?ot(aa,aa.current):ot(aa,s.pool)}function h0(){var i=um();return i===null?null:{parent:Ne._currentValue,pool:i}}var Fl=Error(r(460)),f0=Error(r(474)),lh=Error(r(542)),cm={then:function(){}};function d0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function uh(){}function m0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(uh,uh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,g0(i),i;default:if(typeof s.status=="string")s.then(uh,uh);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,g0(i),i}throw ql=s,Fl}}var ql=null;function p0(){if(ql===null)throw Error(r(459));var i=ql;return ql=null,i}function g0(i){if(i===Fl||i===lh)throw Error(r(483))}var Dr=!1;function hm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Nr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Or(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Qt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=eh(i),n0(i,null,o),s}return th(i,u,s,o),eh(i)}function Hl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,vl(i,o)}}function dm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var mm=!1;function Gl(){if(mm){var i=io;if(i!==null)throw i}}function Kl(i,s,o,u){mm=!1;var d=i.updateQueue;Dr=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var C=A,H=C.next;C.next=null,E===null?g=H:E.next=H,E=C;var J=i.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==E&&(A===null?J.firstBaseUpdate=H:A.next=H,J.lastBaseUpdate=C))}if(g!==null){var et=d.baseState;E=0,J=H=C=null,A=g;do{var Y=A.lane&-536870913,Q=Y!==A.lane;if(Q?(zt&Y)===Y:(u&Y)===Y){Y!==0&&Y===no&&(mm=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var bt=i,vt=A;Y=s;var Jt=o;switch(vt.tag){case 1:if(bt=vt.payload,typeof bt=="function"){et=bt.call(Jt,et,Y);break t}et=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=vt.payload,Y=typeof bt=="function"?bt.call(Jt,et,Y):bt,Y==null)break t;et=y({},et,Y);break t;case 2:Dr=!0}}Y=A.callback,Y!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(H=J=Q,C=et):J=J.next=Q,E|=Y;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);J===null&&(C=et),d.baseState=C,d.firstBaseUpdate=H,d.lastBaseUpdate=J,g===null&&(d.shared.lanes=0),Br|=E,i.lanes=E,i.memoizedState=et}}function y0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function v0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)y0(o[i],s)}var ro=rt(null),ch=rt(0);function _0(i,s){i=rr,ot(ch,i),ot(ro,s),rr=i|s.baseLanes}function pm(){ot(ch,rr),ot(ro,ro.current)}function gm(){rr=ch.current,ct(ro),ct(ch)}var Pr=0,It=null,Wt=null,Ae=null,hh=!1,so=!1,oa=!1,fh=0,Yl=0,ao=null,tC=0;function ge(){throw Error(r(321))}function ym(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Sn(i[o],s[o]))return!1;return!0}function vm(i,s,o,u,d,g){return Pr=g,It=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=i===null||i.memoizedState===null?n_:i_,oa=!1,g=o(u,d),oa=!1,so&&(g=E0(s,o,u,d)),T0(i),g}function T0(i){X.H=vh;var s=Wt!==null&&Wt.next!==null;if(Pr=0,Ae=Wt=It=null,hh=!1,Yl=0,ao=null,s)throw Error(r(300));i===null||je||(i=i.dependencies,i!==null&&sh(i)&&(je=!0))}function E0(i,s,o,u){It=i;var d=0;do{if(so&&(ao=null),Yl=0,so=!1,25<=d)throw Error(r(301));if(d+=1,Ae=Wt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=oC,g=s(o,u)}while(so);return g}function eC(){var i=X.H,s=i.useState()[0];return s=typeof s.then=="function"?Ql(s):s,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(It.flags|=1024),s}function _m(){var i=fh!==0;return fh=0,i}function Tm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Em(i){if(hh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}hh=!1}Pr=0,Ae=Wt=It=null,so=!1,Yl=fh=0,ao=null}function gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?It.memoizedState=Ae=i:Ae=Ae.next=i,Ae}function Se(){if(Wt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var s=Ae===null?It.memoizedState:Ae.next;if(s!==null)Ae=s,Wt=i;else{if(i===null)throw It.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ae===null?It.memoizedState=Ae=i:Ae=Ae.next=i}return Ae}function bm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(i){var s=Yl;return Yl+=1,ao===null&&(ao=[]),i=m0(ao,i,s),s=It,(Ae===null?s.memoizedState:Ae.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?n_:i_),i}function dh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ql(i);if(i.$$typeof===G)return tn(i)}throw Error(r(438,String(i)))}function Am(i){var s=null,o=It.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=bm(),It.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=V;return s.index++,o}function Zi(i,s){return typeof s=="function"?s(i):s}function mh(i){var s=Se();return Sm(s,Wt,i)}function Sm(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var A=E=null,C=null,H=s,J=!1;do{var et=H.lane&-536870913;if(et!==H.lane?(zt&et)===et:(Pr&et)===et){var Y=H.revertLane;if(Y===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),et===no&&(J=!0);else if((Pr&Y)===Y){H=H.next,Y===no&&(J=!0);continue}else et={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(A=C=et,E=g):C=C.next=et,It.lanes|=Y,Br|=Y;et=H.action,oa&&o(g,et),g=H.hasEagerState?H.eagerState:o(g,et)}else Y={lane:et,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(A=C=Y,E=g):C=C.next=Y,It.lanes|=et,Br|=et;H=H.next}while(H!==null&&H!==s);if(C===null?E=g:C.next=A,!Sn(g,i.memoizedState)&&(je=!0,J&&(o=io,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=C,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function wm(i){var s=Se(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do g=i(g,E.action),E=E.next;while(E!==d);Sn(g,s.memoizedState)||(je=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function b0(i,s,o){var u=It,d=Se(),g=Ht;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!Sn((Wt||d).memoizedState,o);E&&(d.memoizedState=o,je=!0),d=d.queue;var A=w0.bind(null,u,d,i);if($l(2048,8,A,[i]),d.getSnapshot!==s||E||Ae!==null&&Ae.memoizedState.tag&1){if(u.flags|=2048,oo(9,ph(),S0.bind(null,u,d,o,s),null),ne===null)throw Error(r(349));g||(Pr&124)!==0||A0(u,s,o)}return o}function A0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=It.updateQueue,s===null?(s=bm(),It.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function S0(i,s,o,u){s.value=o,s.getSnapshot=u,R0(s)&&x0(i)}function w0(i,s,o){return o(function(){R0(s)&&x0(i)})}function R0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Sn(i,o)}catch{return!0}}function x0(i){var s=Za(i,2);s!==null&&Dn(s,i,2)}function Rm(i){var s=gn();if(typeof i=="function"){var o=i;if(i=o(),oa){bn(!0);try{o()}finally{bn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:i},s}function C0(i,s,o,u){return i.baseState=o,Sm(i,Wt,typeof u=="function"?u:Zi)}function nC(i,s,o,u,d){if(yh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};X.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,I0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function I0(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=X.T,E={};X.T=E;try{var A=o(d,u),C=X.S;C!==null&&C(E,A),D0(i,s,A)}catch(H){xm(i,s,H)}finally{X.T=g}}else try{g=o(d,u),D0(i,s,g)}catch(H){xm(i,s,H)}}function D0(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){N0(i,s,u)},function(u){return xm(i,s,u)}):N0(i,s,o)}function N0(i,s,o){s.status="fulfilled",s.value=o,O0(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,I0(i,o)))}function xm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,O0(s),s=s.next;while(s!==u)}i.action=null}function O0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function P0(i,s){return s}function V0(i,s){if(Ht){var o=ne.formState;if(o!==null){t:{var u=It;if(Ht){if(fe){e:{for(var d=fe,g=_i;d.nodeType!==8;){if(!g){d=null;break e}if(d=ni(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){fe=ni(d.nextSibling),u=d.data==="F!";break t}}ia(u)}u=!1}u&&(s=o[0])}}return o=gn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:P0,lastRenderedState:s},o.queue=u,o=J0.bind(null,It,u),u.dispatch=o,u=Rm(!1),g=Om.bind(null,It,!1,u.queue),u=gn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=nC.bind(null,It,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function M0(i){var s=Se();return k0(s,Wt,i)}function k0(i,s,o){if(s=Sm(i,s,P0)[0],i=mh(Zi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Ql(s)}catch(E){throw E===Fl?lh:E}else u=s;s=Se();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(It.flags|=2048,oo(9,ph(),iC.bind(null,d,o),null)),[u,g,i]}function iC(i,s){i.action=s}function L0(i){var s=Se(),o=Wt;if(o!==null)return k0(s,o,i);Se(),s=s.memoizedState,o=Se();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function oo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=It.updateQueue,s===null&&(s=bm(),It.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function ph(){return{destroy:void 0,resource:void 0}}function U0(){return Se().memoizedState}function gh(i,s,o,u){var d=gn();u=u===void 0?null:u,It.flags|=i,d.memoizedState=oo(1|s,ph(),o,u)}function $l(i,s,o,u){var d=Se();u=u===void 0?null:u;var g=d.memoizedState.inst;Wt!==null&&u!==null&&ym(u,Wt.memoizedState.deps)?d.memoizedState=oo(s,g,o,u):(It.flags|=i,d.memoizedState=oo(1|s,g,o,u))}function j0(i,s){gh(8390656,8,i,s)}function B0(i,s){$l(2048,8,i,s)}function z0(i,s){return $l(4,2,i,s)}function F0(i,s){return $l(4,4,i,s)}function q0(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function H0(i,s,o){o=o!=null?o.concat([i]):null,$l(4,4,q0.bind(null,s,i),o)}function Cm(){}function G0(i,s){var o=Se();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&ym(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function K0(i,s){var o=Se();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&ym(s,u[1]))return u[0];if(u=i(),oa){bn(!0);try{i()}finally{bn(!1)}}return o.memoizedState=[u,s],u}function Im(i,s,o){return o===void 0||(Pr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=$_(),It.lanes|=i,Br|=i,o)}function Y0(i,s,o,u){return Sn(o,s)?o:ro.current!==null?(i=Im(i,o,u),Sn(i,s)||(je=!0),i):(Pr&42)===0?(je=!0,i.memoizedState=o):(i=$_(),It.lanes|=i,Br|=i,s)}function Q0(i,s,o,u,d){var g=st.p;st.p=g!==0&&8>g?g:8;var E=X.T,A={};X.T=A,Om(i,!1,s,o);try{var C=d(),H=X.S;if(H!==null&&H(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=Jx(C,u);Xl(i,s,J,In(i))}else Xl(i,s,u,In(i))}catch(et){Xl(i,s,{then:function(){},status:"rejected",reason:et},In())}finally{st.p=g,X.T=E}}function rC(){}function Dm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=$0(i).queue;Q0(i,d,s,ht,o===null?rC:function(){return X0(i),o(u)})}function $0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ht},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function X0(i){var s=$0(i).next.queue;Xl(i,s,{},In())}function Nm(){return tn(mu)}function W0(){return Se().memoizedState}function Z0(){return Se().memoizedState}function sC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=In();i=Nr(o);var u=Or(s,i,o);u!==null&&(Dn(u,s,o),Hl(u,s,o)),s={cache:om()},i.payload=s;return}s=s.return}}function aC(i,s,o){var u=In();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},yh(i)?t_(s,o):(o=Wd(i,s,o,u),o!==null&&(Dn(o,i,u),e_(o,s,u)))}function J0(i,s,o){var u=In();Xl(i,s,o,u)}function Xl(i,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(yh(i))t_(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,A=g(E,o);if(d.hasEagerState=!0,d.eagerState=A,Sn(A,E))return th(i,s,d,0),ne===null&&Jc(),!1}catch{}finally{}if(o=Wd(i,s,d,u),o!==null)return Dn(o,i,u),e_(o,s,u),!0}return!1}function Om(i,s,o,u){if(u={lane:2,revertLane:cp(),action:u,hasEagerState:!1,eagerState:null,next:null},yh(i)){if(s)throw Error(r(479))}else s=Wd(i,o,u,2),s!==null&&Dn(s,i,2)}function yh(i){var s=i.alternate;return i===It||s!==null&&s===It}function t_(i,s){so=hh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function e_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,vl(i,o)}}var vh={readContext:tn,use:dh,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},n_={readContext:tn,use:dh,useCallback:function(i,s){return gn().memoizedState=[i,s===void 0?null:s],i},useContext:tn,useEffect:j0,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,gh(4194308,4,q0.bind(null,s,i),o)},useLayoutEffect:function(i,s){return gh(4194308,4,i,s)},useInsertionEffect:function(i,s){gh(4,2,i,s)},useMemo:function(i,s){var o=gn();s=s===void 0?null:s;var u=i();if(oa){bn(!0);try{i()}finally{bn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=gn();if(o!==void 0){var d=o(s);if(oa){bn(!0);try{o(s)}finally{bn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=aC.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var s=gn();return i={current:i},s.memoizedState=i},useState:function(i){i=Rm(i);var s=i.queue,o=J0.bind(null,It,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Cm,useDeferredValue:function(i,s){var o=gn();return Im(o,i,s)},useTransition:function(){var i=Rm(!1);return i=Q0.bind(null,It,i.queue,!0,!1),gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=It,d=gn();if(Ht){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ne===null)throw Error(r(349));(zt&124)!==0||A0(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,j0(w0.bind(null,u,g,i),[i]),u.flags|=2048,oo(9,ph(),S0.bind(null,u,g,o,s),null),o},useId:function(){var i=gn(),s=ne.identifierPrefix;if(Ht){var o=$i,u=Qi;o=(u&~(1<<32-Je(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=fh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=tC++,s="«"+s+"r"+o.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:Nm,useFormState:V0,useActionState:V0,useOptimistic:function(i){var s=gn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Om.bind(null,It,!0,o),o.dispatch=s,[i,s]},useMemoCache:Am,useCacheRefresh:function(){return gn().memoizedState=sC.bind(null,It)}},i_={readContext:tn,use:dh,useCallback:G0,useContext:tn,useEffect:B0,useImperativeHandle:H0,useInsertionEffect:z0,useLayoutEffect:F0,useMemo:K0,useReducer:mh,useRef:U0,useState:function(){return mh(Zi)},useDebugValue:Cm,useDeferredValue:function(i,s){var o=Se();return Y0(o,Wt.memoizedState,i,s)},useTransition:function(){var i=mh(Zi)[0],s=Se().memoizedState;return[typeof i=="boolean"?i:Ql(i),s]},useSyncExternalStore:b0,useId:W0,useHostTransitionStatus:Nm,useFormState:M0,useActionState:M0,useOptimistic:function(i,s){var o=Se();return C0(o,Wt,i,s)},useMemoCache:Am,useCacheRefresh:Z0},oC={readContext:tn,use:dh,useCallback:G0,useContext:tn,useEffect:B0,useImperativeHandle:H0,useInsertionEffect:z0,useLayoutEffect:F0,useMemo:K0,useReducer:wm,useRef:U0,useState:function(){return wm(Zi)},useDebugValue:Cm,useDeferredValue:function(i,s){var o=Se();return Wt===null?Im(o,i,s):Y0(o,Wt.memoizedState,i,s)},useTransition:function(){var i=wm(Zi)[0],s=Se().memoizedState;return[typeof i=="boolean"?i:Ql(i),s]},useSyncExternalStore:b0,useId:W0,useHostTransitionStatus:Nm,useFormState:L0,useActionState:L0,useOptimistic:function(i,s){var o=Se();return Wt!==null?C0(o,Wt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Am,useCacheRefresh:Z0},lo=null,Wl=0;function _h(i){var s=Wl;return Wl+=1,lo===null&&(lo=[]),m0(lo,i,s)}function Zl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Th(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function r_(i){var s=i._init;return s(i._payload)}function s_(i){function s(z,k){if(i){var q=z.deletions;q===null?(z.deletions=[k],z.flags|=16):q.push(k)}}function o(z,k){if(!i)return null;for(;k!==null;)s(z,k),k=k.sibling;return null}function u(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function d(z,k){return z=Yi(z,k),z.index=0,z.sibling=null,z}function g(z,k,q){return z.index=q,i?(q=z.alternate,q!==null?(q=q.index,q<k?(z.flags|=67108866,k):q):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function E(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function A(z,k,q,tt){return k===null||k.tag!==6?(k=Jd(q,z.mode,tt),k.return=z,k):(k=d(k,q),k.return=z,k)}function C(z,k,q,tt){var mt=q.type;return mt===O?J(z,k,q.props.children,tt,q.key):k!==null&&(k.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&r_(mt)===k.type)?(k=d(k,q.props),Zl(k,q),k.return=z,k):(k=nh(q.type,q.key,q.props,null,z.mode,tt),Zl(k,q),k.return=z,k)}function H(z,k,q,tt){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=tm(q,z.mode,tt),k.return=z,k):(k=d(k,q.children||[]),k.return=z,k)}function J(z,k,q,tt,mt){return k===null||k.tag!==7?(k=Js(q,z.mode,tt,mt),k.return=z,k):(k=d(k,q),k.return=z,k)}function et(z,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Jd(""+k,z.mode,q),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return q=nh(k.type,k.key,k.props,null,z.mode,q),Zl(q,k),q.return=z,q;case w:return k=tm(k,z.mode,q),k.return=z,k;case R:var tt=k._init;return k=tt(k._payload),et(z,k,q)}if(St(k)||B(k))return k=Js(k,z.mode,q,null),k.return=z,k;if(typeof k.then=="function")return et(z,_h(k),q);if(k.$$typeof===G)return et(z,ah(z,k),q);Th(z,k)}return null}function Y(z,k,q,tt){var mt=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return mt!==null?null:A(z,k,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===mt?C(z,k,q,tt):null;case w:return q.key===mt?H(z,k,q,tt):null;case R:return mt=q._init,q=mt(q._payload),Y(z,k,q,tt)}if(St(q)||B(q))return mt!==null?null:J(z,k,q,tt,null);if(typeof q.then=="function")return Y(z,k,_h(q),tt);if(q.$$typeof===G)return Y(z,k,ah(z,q),tt);Th(z,q)}return null}function Q(z,k,q,tt,mt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return z=z.get(q)||null,A(k,z,""+tt,mt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case b:return z=z.get(tt.key===null?q:tt.key)||null,C(k,z,tt,mt);case w:return z=z.get(tt.key===null?q:tt.key)||null,H(k,z,tt,mt);case R:var Pt=tt._init;return tt=Pt(tt._payload),Q(z,k,q,tt,mt)}if(St(tt)||B(tt))return z=z.get(q)||null,J(k,z,tt,mt,null);if(typeof tt.then=="function")return Q(z,k,q,_h(tt),mt);if(tt.$$typeof===G)return Q(z,k,q,ah(k,tt),mt);Th(k,tt)}return null}function bt(z,k,q,tt){for(var mt=null,Pt=null,pt=k,_t=k=0,ze=null;pt!==null&&_t<q.length;_t++){pt.index>_t?(ze=pt,pt=null):ze=pt.sibling;var qt=Y(z,pt,q[_t],tt);if(qt===null){pt===null&&(pt=ze);break}i&&pt&&qt.alternate===null&&s(z,pt),k=g(qt,k,_t),Pt===null?mt=qt:Pt.sibling=qt,Pt=qt,pt=ze}if(_t===q.length)return o(z,pt),Ht&&ea(z,_t),mt;if(pt===null){for(;_t<q.length;_t++)pt=et(z,q[_t],tt),pt!==null&&(k=g(pt,k,_t),Pt===null?mt=pt:Pt.sibling=pt,Pt=pt);return Ht&&ea(z,_t),mt}for(pt=u(pt);_t<q.length;_t++)ze=Q(pt,z,_t,q[_t],tt),ze!==null&&(i&&ze.alternate!==null&&pt.delete(ze.key===null?_t:ze.key),k=g(ze,k,_t),Pt===null?mt=ze:Pt.sibling=ze,Pt=ze);return i&&pt.forEach(function($r){return s(z,$r)}),Ht&&ea(z,_t),mt}function vt(z,k,q,tt){if(q==null)throw Error(r(151));for(var mt=null,Pt=null,pt=k,_t=k=0,ze=null,qt=q.next();pt!==null&&!qt.done;_t++,qt=q.next()){pt.index>_t?(ze=pt,pt=null):ze=pt.sibling;var $r=Y(z,pt,qt.value,tt);if($r===null){pt===null&&(pt=ze);break}i&&pt&&$r.alternate===null&&s(z,pt),k=g($r,k,_t),Pt===null?mt=$r:Pt.sibling=$r,Pt=$r,pt=ze}if(qt.done)return o(z,pt),Ht&&ea(z,_t),mt;if(pt===null){for(;!qt.done;_t++,qt=q.next())qt=et(z,qt.value,tt),qt!==null&&(k=g(qt,k,_t),Pt===null?mt=qt:Pt.sibling=qt,Pt=qt);return Ht&&ea(z,_t),mt}for(pt=u(pt);!qt.done;_t++,qt=q.next())qt=Q(pt,z,_t,qt.value,tt),qt!==null&&(i&&qt.alternate!==null&&pt.delete(qt.key===null?_t:qt.key),k=g(qt,k,_t),Pt===null?mt=qt:Pt.sibling=qt,Pt=qt);return i&&pt.forEach(function(lI){return s(z,lI)}),Ht&&ea(z,_t),mt}function Jt(z,k,q,tt){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:t:{for(var mt=q.key;k!==null;){if(k.key===mt){if(mt=q.type,mt===O){if(k.tag===7){o(z,k.sibling),tt=d(k,q.props.children),tt.return=z,z=tt;break t}}else if(k.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&r_(mt)===k.type){o(z,k.sibling),tt=d(k,q.props),Zl(tt,q),tt.return=z,z=tt;break t}o(z,k);break}else s(z,k);k=k.sibling}q.type===O?(tt=Js(q.props.children,z.mode,tt,q.key),tt.return=z,z=tt):(tt=nh(q.type,q.key,q.props,null,z.mode,tt),Zl(tt,q),tt.return=z,z=tt)}return E(z);case w:t:{for(mt=q.key;k!==null;){if(k.key===mt)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){o(z,k.sibling),tt=d(k,q.children||[]),tt.return=z,z=tt;break t}else{o(z,k);break}else s(z,k);k=k.sibling}tt=tm(q,z.mode,tt),tt.return=z,z=tt}return E(z);case R:return mt=q._init,q=mt(q._payload),Jt(z,k,q,tt)}if(St(q))return bt(z,k,q,tt);if(B(q)){if(mt=B(q),typeof mt!="function")throw Error(r(150));return q=mt.call(q),vt(z,k,q,tt)}if(typeof q.then=="function")return Jt(z,k,_h(q),tt);if(q.$$typeof===G)return Jt(z,k,ah(z,q),tt);Th(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(o(z,k.sibling),tt=d(k,q),tt.return=z,z=tt):(o(z,k),tt=Jd(q,z.mode,tt),tt.return=z,z=tt),E(z)):o(z,k)}return function(z,k,q,tt){try{Wl=0;var mt=Jt(z,k,q,tt);return lo=null,mt}catch(pt){if(pt===Fl||pt===lh)throw pt;var Pt=wn(29,pt,null,z.mode);return Pt.lanes=tt,Pt.return=z,Pt}finally{}}}var uo=s_(!0),a_=s_(!1),Fn=rt(null),Ti=null;function Vr(i){var s=i.alternate;ot(Oe,Oe.current&1),ot(Fn,i),Ti===null&&(s===null||ro.current!==null||s.memoizedState!==null)&&(Ti=i)}function o_(i){if(i.tag===22){if(ot(Oe,Oe.current),ot(Fn,i),Ti===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ti=i)}}else Mr()}function Mr(){ot(Oe,Oe.current),ot(Fn,Fn.current)}function Ji(i){ct(Fn),Ti===i&&(Ti=null),ct(Oe)}var Oe=rt(0);function Eh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||bp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Pm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Vm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=In(),d=Nr(u);d.payload=s,o!=null&&(d.callback=o),s=Or(i,d,u),s!==null&&(Dn(s,i,u),Hl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=In(),d=Nr(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Or(i,d,u),s!==null&&(Dn(s,i,u),Hl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=In(),u=Nr(o);u.tag=2,s!=null&&(u.callback=s),s=Or(i,u,o),s!==null&&(Dn(s,i,o),Hl(s,i,o))}};function l_(i,s,o,u,d,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Vl(o,u)||!Vl(d,g):!0}function u_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Vm.enqueueReplaceState(s,s.state,null)}function la(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var bh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function c_(i){bh(i)}function h_(i){console.error(i)}function f_(i){bh(i)}function Ah(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function d_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Mm(i,s,o){return o=Nr(o),o.tag=3,o.payload={element:null},o.callback=function(){Ah(i,s)},o}function m_(i){return i=Nr(i),i.tag=3,i}function p_(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){d_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){d_(s,o,u),typeof d!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function lC(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&jl(s,o,d,!0),o=Fn.current,o!==null){switch(o.tag){case 13:return Ti===null?sp():o.alternate===null&&de===0&&(de=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===cm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),op(i,u,d)),!1;case 22:return o.flags|=65536,u===cm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),op(i,u,d)),!1}throw Error(r(435,o.tag))}return op(i,u,d),sp(),!1}if(Ht)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==im&&(i=Error(r(422),{cause:u}),Ul(Un(i,o)))):(u!==im&&(s=Error(r(423),{cause:u}),Ul(Un(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Un(u,o),d=Mm(i.stateNode,u,d),dm(i,d),de!==4&&(de=2)),!1;var g=Error(r(520),{cause:u});if(g=Un(g,o),su===null?su=[g]:su.push(g),de!==4&&(de=2),s===null)return!0;u=Un(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Mm(o.stateNode,u,i),dm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zr===null||!zr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=m_(d),p_(d,i,o,u),dm(o,d),!1}o=o.return}while(o!==null);return!1}var g_=Error(r(461)),je=!1;function Ke(i,s,o,u){s.child=i===null?a_(s,null,o,u):uo(s,i.child,o,u)}function y_(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return sa(s),u=vm(i,s,o,E,g,d),A=_m(),i!==null&&!je?(Tm(i,s,d),tr(i,s,d)):(Ht&&A&&em(s),s.flags|=1,Ke(i,s,u,d),s.child)}function v_(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Zd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,__(i,s,g,u,d)):(i=nh(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!qm(i,d)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Vl,o(E,u)&&i.ref===s.ref)return tr(i,s,d)}return s.flags|=1,i=Yi(g,u),i.ref=s.ref,i.return=s,s.child=i}function __(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(Vl(g,u)&&i.ref===s.ref)if(je=!1,s.pendingProps=u=g,qm(i,d))(i.flags&131072)!==0&&(je=!0);else return s.lanes=i.lanes,tr(i,s,d)}return km(i,s,o,u,d)}function T_(i,s,o){var u=s.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return E_(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&oh(s,g!==null?g.cachePool:null),g!==null?_0(s,g):pm(),o_(s);else return s.lanes=s.childLanes=536870912,E_(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(oh(s,g.cachePool),_0(s,g),Mr(),s.memoizedState=null):(i!==null&&oh(s,null),pm(),Mr());return Ke(i,s,d,o),s.child}function E_(i,s,o,u){var d=um();return d=d===null?null:{parent:Ne._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},i!==null&&oh(s,null),pm(),o_(s),i!==null&&jl(i,s,u,!0),null}function Sh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function km(i,s,o,u,d){return sa(s),o=vm(i,s,o,u,void 0,d),u=_m(),i!==null&&!je?(Tm(i,s,d),tr(i,s,d)):(Ht&&u&&em(s),s.flags|=1,Ke(i,s,o,d),s.child)}function b_(i,s,o,u,d,g){return sa(s),s.updateQueue=null,o=E0(s,u,o,d),T0(i),u=_m(),i!==null&&!je?(Tm(i,s,g),tr(i,s,g)):(Ht&&u&&em(s),s.flags|=1,Ke(i,s,o,g),s.child)}function A_(i,s,o,u,d){if(sa(s),s.stateNode===null){var g=Ja,E=o.contextType;typeof E=="object"&&E!==null&&(g=tn(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Vm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},hm(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?tn(E):Ja,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Pm(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Vm.enqueueReplaceState(g,g.state,null),Kl(s,u,g,d),Gl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,C=la(o,A);g.props=C;var H=g.context,J=o.contextType;E=Ja,typeof J=="object"&&J!==null&&(E=tn(J));var et=o.getDerivedStateFromProps;J=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||H!==E)&&u_(s,g,u,E),Dr=!1;var Y=s.memoizedState;g.state=Y,Kl(s,u,g,d),Gl(),H=s.memoizedState,A||Y!==H||Dr?(typeof et=="function"&&(Pm(s,o,et,u),H=s.memoizedState),(C=Dr||l_(s,o,C,u,Y,H,E))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),g.props=u,g.state=H,g.context=E,u=C):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,fm(i,s),E=s.memoizedProps,J=la(o,E),g.props=J,et=s.pendingProps,Y=g.context,H=o.contextType,C=Ja,typeof H=="object"&&H!==null&&(C=tn(H)),A=o.getDerivedStateFromProps,(H=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==et||Y!==C)&&u_(s,g,u,C),Dr=!1,Y=s.memoizedState,g.state=Y,Kl(s,u,g,d),Gl();var Q=s.memoizedState;E!==et||Y!==Q||Dr||i!==null&&i.dependencies!==null&&sh(i.dependencies)?(typeof A=="function"&&(Pm(s,o,A,u),Q=s.memoizedState),(J=Dr||l_(s,o,J,u,Y,Q,C)||i!==null&&i.dependencies!==null&&sh(i.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,C),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,C)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=C,u=J):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Sh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=uo(s,i.child,null,d),s.child=uo(s,null,o,d)):Ke(i,s,o,d),s.memoizedState=g.state,i=s.child):i=tr(i,s,d),i}function S_(i,s,o,u){return Ll(),s.flags|=256,Ke(i,s,o,u),s.child}var Lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(i){return{baseLanes:i,cachePool:h0()}}function jm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=qn),i}function w_(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Oe.current&2)!==0),E&&(d=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ht){if(d?Vr(s):Mr(),Ht){var A=fe,C;if(C=A){t:{for(C=A,A=_i;C.nodeType!==8;){if(!A){A=null;break t}if(C=ni(C.nextSibling),C===null){A=null;break t}}A=C}A!==null?(s.memoizedState={dehydrated:A,treeContext:ta!==null?{id:Qi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},C=wn(18,null,null,0),C.stateNode=A,C.return=s,s.child=C,fn=s,fe=null,C=!0):C=!1}C||ia(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return bp(A)?s.lanes=32:s.lanes=536870912,null;Ji(s)}return A=u.children,u=u.fallback,d?(Mr(),d=s.mode,A=wh({mode:"hidden",children:A},d),u=Js(u,d,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,d=s.child,d.memoizedState=Um(o),d.childLanes=jm(i,E,o),s.memoizedState=Lm,u):(Vr(s),Bm(s,A))}if(C=i.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(g)s.flags&256?(Vr(s),s.flags&=-257,s=zm(i,s,o)):s.memoizedState!==null?(Mr(),s.child=i.child,s.flags|=128,s=null):(Mr(),d=u.fallback,A=s.mode,u=wh({mode:"visible",children:u.children},A),d=Js(d,A,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,uo(s,i.child,null,o),u=s.child,u.memoizedState=Um(o),u.childLanes=jm(i,E,o),s.memoizedState=Lm,s=d);else if(Vr(s),bp(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var H=E.dgst;E=H,u=Error(r(419)),u.stack="",u.digest=E,Ul({value:u,source:null,stack:null}),s=zm(i,s,o)}else if(je||jl(i,s,o,!1),E=(o&i.childLanes)!==0,je||E){if(E=ne,E!==null&&(u=o&-o,u=(u&42)!==0?1:br(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==C.retryLane))throw C.retryLane=u,Za(i,u),Dn(E,i,u),g_;A.data==="$?"||sp(),s=zm(i,s,o)}else A.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=C.treeContext,fe=ni(A.nextSibling),fn=s,Ht=!0,na=null,_i=!1,i!==null&&(Bn[zn++]=Qi,Bn[zn++]=$i,Bn[zn++]=ta,Qi=i.id,$i=i.overflow,ta=s),s=Bm(s,u.children),s.flags|=4096);return s}return d?(Mr(),d=u.fallback,A=s.mode,C=i.child,H=C.sibling,u=Yi(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,H!==null?d=Yi(H,d):(d=Js(d,A,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,A=i.child.memoizedState,A===null?A=Um(o):(C=A.cachePool,C!==null?(H=Ne._currentValue,C=C.parent!==H?{parent:H,pool:H}:C):C=h0(),A={baseLanes:A.baseLanes|o,cachePool:C}),d.memoizedState=A,d.childLanes=jm(i,E,o),s.memoizedState=Lm,u):(Vr(s),o=i.child,i=o.sibling,o=Yi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function Bm(i,s){return s=wh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function wh(i,s){return i=wn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function zm(i,s,o){return uo(s,i.child,null,o),i=Bm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function R_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),sm(i.return,s,o)}function Fm(i,s,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function x_(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(Ke(i,s,u.children,o),u=Oe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&R_(i,o,s);else if(i.tag===19)R_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ot(Oe,u),d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&Eh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Fm(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&Eh(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Fm(s,!0,o,null,g);break;case"together":Fm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Br|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(jl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Yi(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Yi(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function qm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&sh(i)))}function uC(i,s,o){switch(s.tag){case 3:ee(s,s.stateNode.containerInfo),Ir(s,Ne,i.memoizedState.cache),Ll();break;case 27:case 5:Er(s);break;case 4:ee(s,s.stateNode.containerInfo);break;case 10:Ir(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Vr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?w_(i,s,o):(Vr(s),i=tr(i,s,o),i!==null?i.sibling:null);Vr(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(jl(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return x_(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ot(Oe,Oe.current),u)break;return null;case 22:case 23:return s.lanes=0,T_(i,s,o);case 24:Ir(s,Ne,i.memoizedState.cache)}return tr(i,s,o)}function C_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)je=!0;else{if(!qm(i,o)&&(s.flags&128)===0)return je=!1,uC(i,s,o);je=(i.flags&131072)!==0}else je=!1,Ht&&(s.flags&1048576)!==0&&r0(s,rh,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Zd(u)?(i=la(u,i),s.tag=1,s=A_(null,s,u,i,o)):(s.tag=0,s=km(null,s,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===at){s.tag=11,s=y_(null,s,u,i,o);break t}else if(d===N){s.tag=14,s=v_(null,s,u,i,o);break t}}throw s=ae(u)||u,Error(r(306,s,""))}}return s;case 0:return km(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=la(u,s.pendingProps),A_(i,s,u,d,o);case 3:t:{if(ee(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,fm(i,s),Kl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Ir(s,Ne,u),u!==g.cache&&am(s,[Ne],o,!0),Gl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=S_(i,s,u,o);break t}else if(u!==d){d=Un(Error(r(424)),s),Ul(d),s=S_(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=ni(i.firstChild),fn=s,Ht=!0,na=null,_i=!0,o=a_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ll(),u===d){s=tr(i,s,o);break t}Ke(i,s,u,o)}s=s.child}return s;case 26:return Sh(i,s),i===null?(o=OT(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ht||(o=s.type,i=s.pendingProps,u=jh(wt.current).createElement(o),u[Ce]=s,u[Ee]=i,Qe(u,o,i),pe(u),s.stateNode=u):s.memoizedState=OT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Er(s),i===null&&Ht&&(u=s.stateNode=IT(s.type,s.pendingProps,wt.current),fn=s,_i=!0,d=fe,Hr(s.type)?(Ap=d,fe=ni(u.firstChild)):fe=d),Ke(i,s,s.pendingProps.children,o),Sh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ht&&((d=u=fe)&&(u=LC(u,s.type,s.pendingProps,_i),u!==null?(s.stateNode=u,fn=s,fe=ni(u.firstChild),_i=!1,d=!0):d=!1),d||ia(s)),Er(s),d=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,_p(d,g)?u=null:E!==null&&_p(d,E)&&(s.flags|=32),s.memoizedState!==null&&(d=vm(i,s,eC,null,null,o),mu._currentValue=d),Sh(i,s),Ke(i,s,u,o),s.child;case 6:return i===null&&Ht&&((i=o=fe)&&(o=UC(o,s.pendingProps,_i),o!==null?(s.stateNode=o,fn=s,fe=null,i=!0):i=!1),i||ia(s)),null;case 13:return w_(i,s,o);case 4:return ee(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=uo(s,null,u,o):Ke(i,s,u,o),s.child;case 11:return y_(i,s,s.type,s.pendingProps,o);case 7:return Ke(i,s,s.pendingProps,o),s.child;case 8:return Ke(i,s,s.pendingProps.children,o),s.child;case 12:return Ke(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ir(s,s.type,u.value),Ke(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,sa(s),d=tn(d),u=u(d),s.flags|=1,Ke(i,s,u,o),s.child;case 14:return v_(i,s,s.type,s.pendingProps,o);case 15:return __(i,s,s.type,s.pendingProps,o);case 19:return x_(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=wh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Yi(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return T_(i,s,o);case 24:return sa(s),u=tn(Ne),i===null?(d=um(),d===null&&(d=ne,g=om(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},hm(s),Ir(s,Ne,d)):((i.lanes&o)!==0&&(fm(i,s),Kl(s,null,null,o),Gl()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ir(s,Ne,u)):(u=g.cache,Ir(s,Ne,u),u!==d.cache&&am(s,[Ne],o,!0))),Ke(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function er(i){i.flags|=4}function I_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!LT(s)){if(s=Fn.current,s!==null&&((zt&4194048)===zt?Ti!==null:(zt&62914560)!==zt&&(zt&536870912)===0||s!==Ti))throw ql=cm,f0;i.flags|=8192}}function Rh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?gl():536870912,i.lanes|=s,mo|=s)}function Jl(i,s){if(!Ht)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function cC(i,s,o){var u=s.pendingProps;switch(nm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(s),null;case 1:return oe(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Wi(Ne),oi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(kl(s)?er(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,o0())),oe(s),null;case 26:return o=s.memoizedState,i===null?(er(s),o!==null?(oe(s),I_(s,o)):(oe(s),s.flags&=-16777217)):o?o!==i.memoizedState?(er(s),oe(s),I_(s,o)):(oe(s),s.flags&=-16777217):(i.memoizedProps!==u&&er(s),oe(s),s.flags&=-16777217),null;case 27:Vi(s),o=wt.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&er(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return oe(s),null}i=yt.current,kl(s)?s0(s):(i=IT(d,u,o),s.stateNode=i,er(s))}return oe(s),null;case 5:if(Vi(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&er(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return oe(s),null}if(i=yt.current,kl(s))s0(s);else{switch(d=jh(wt.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Ce]=s,i[Ee]=u;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;t:switch(Qe(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&er(s)}}return oe(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&er(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=wt.current,kl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=fn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Ce]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||bT(i.nodeValue,o)),i||ia(s)}else i=jh(i).createTextNode(u),i[Ce]=s,s.stateNode=i}return oe(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=kl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ce]=s}else Ll(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;oe(s),d=!1}else d=o0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Ji(s),s):(Ji(s),null)}if(Ji(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),Rh(s,s.updateQueue),oe(s),null;case 4:return oi(),i===null&&mp(s.stateNode.containerInfo),oe(s),null;case 10:return Wi(s.type),oe(s),null;case 19:if(ct(Oe),d=s.memoizedState,d===null)return oe(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)Jl(d,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Eh(i),g!==null){for(s.flags|=128,Jl(d,!1),i=g.updateQueue,s.updateQueue=i,Rh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)i0(o,i),o=o.sibling;return ot(Oe,Oe.current&1|2),s.child}i=i.sibling}d.tail!==null&&On()>Ih&&(s.flags|=128,u=!0,Jl(d,!1),s.lanes=4194304)}else{if(!u)if(i=Eh(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Rh(s,i),Jl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Ht)return oe(s),null}else 2*On()-d.renderingStartTime>Ih&&o!==536870912&&(s.flags|=128,u=!0,Jl(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(i=d.last,i!==null?i.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=On(),s.sibling=null,i=Oe.current,ot(Oe,u?i&1|2:i&1),s):(oe(s),null);case 22:case 23:return Ji(s),gm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(oe(s),s.subtreeFlags&6&&(s.flags|=8192)):oe(s),o=s.updateQueue,o!==null&&Rh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ct(aa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Wi(Ne),oe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function hC(i,s){switch(nm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Wi(Ne),oi(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Vi(s),null;case 13:if(Ji(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ll()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ct(Oe),null;case 4:return oi(),null;case 10:return Wi(s.type),null;case 22:case 23:return Ji(s),gm(),i!==null&&ct(aa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Wi(Ne),null;case 25:return null;default:return null}}function D_(i,s){switch(nm(s),s.tag){case 3:Wi(Ne),oi();break;case 26:case 27:case 5:Vi(s);break;case 4:oi();break;case 13:Ji(s);break;case 19:ct(Oe);break;case 10:Wi(s.type);break;case 22:case 23:Ji(s),gm(),i!==null&&ct(aa);break;case 24:Wi(Ne)}}function tu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==d)}}catch(A){te(s,s.return,A)}}function kr(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,d=s;var C=o,H=A;try{H()}catch(J){te(d,C,J)}}}u=u.next}while(u!==g)}}catch(J){te(s,s.return,J)}}function N_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{v0(s,o)}catch(u){te(i,i.return,u)}}}function O_(i,s,o){o.props=la(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){te(i,s,u)}}function eu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){te(i,s,d)}}function Ei(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){te(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){te(i,s,d)}else o.current=null}function P_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){te(i,i.return,d)}}function Hm(i,s,o){try{var u=i.stateNode;OC(u,i.type,o,s),u[Ee]=s}catch(d){te(i,i.return,d)}}function V_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hr(i.type)||i.tag===4}function Gm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||V_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Km(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Uh));else if(u!==4&&(u===27&&Hr(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Km(i,s,o),i=i.sibling;i!==null;)Km(i,s,o),i=i.sibling}function xh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&Hr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(xh(i,s,o),i=i.sibling;i!==null;)xh(i,s,o),i=i.sibling}function M_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Qe(s,u,o),s[Ce]=i,s[Ee]=o}catch(g){te(i,i.return,g)}}var nr=!1,ye=!1,Ym=!1,k_=typeof WeakSet=="function"?WeakSet:Set,Be=null;function fC(i,s){if(i=i.containerInfo,yp=Gh,i=Yv(i),Gd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,A=-1,C=-1,H=0,J=0,et=i,Y=null;e:for(;;){for(var Q;et!==o||d!==0&&et.nodeType!==3||(A=E+d),et!==g||u!==0&&et.nodeType!==3||(C=E+u),et.nodeType===3&&(E+=et.nodeValue.length),(Q=et.firstChild)!==null;)Y=et,et=Q;for(;;){if(et===i)break e;if(Y===o&&++H===d&&(A=E),Y===g&&++J===u&&(C=E),(Q=et.nextSibling)!==null)break;et=Y,Y=et.parentNode}et=Q}o=A===-1||C===-1?null:{start:A,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(vp={focusedElem:i,selectionRange:o},Gh=!1,Be=s;Be!==null;)if(s=Be,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Be=i;else for(;Be!==null;){switch(s=Be,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var bt=la(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(bt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){te(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Ep(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ep(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Be=i;break}Be=s.return}}function L_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Lr(i,o),u&4&&tu(5,o);break;case 1:if(Lr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){te(o,o.return,E)}else{var d=la(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){te(o,o.return,E)}}u&64&&N_(o),u&512&&eu(o,o.return);break;case 3:if(Lr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{v0(i,s)}catch(E){te(o,o.return,E)}}break;case 27:s===null&&u&4&&M_(o);case 26:case 5:Lr(i,o),s===null&&u&4&&P_(o),u&512&&eu(o,o.return);break;case 12:Lr(i,o);break;case 13:Lr(i,o),u&4&&B_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=EC.bind(null,o),jC(i,o))));break;case 22:if(u=o.memoizedState!==null||nr,!u){s=s!==null&&s.memoizedState!==null||ye,d=nr;var g=ye;nr=u,(ye=s)&&!g?Ur(i,o,(o.subtreeFlags&8772)!==0):Lr(i,o),nr=d,ye=g}break;case 30:break;default:Lr(i,o)}}function U_(i){var s=i.alternate;s!==null&&(i.alternate=null,U_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&wr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var se=null,yn=!1;function ir(i,s,o){for(o=o.child;o!==null;)j_(i,s,o),o=o.sibling}function j_(i,s,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(he,o)}catch{}switch(o.tag){case 26:ye||Ei(o,s),ir(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ye||Ei(o,s);var u=se,d=yn;Hr(o.type)&&(se=o.stateNode,yn=!1),ir(i,s,o),cu(o.stateNode),se=u,yn=d;break;case 5:ye||Ei(o,s);case 6:if(u=se,d=yn,se=null,ir(i,s,o),se=u,yn=d,se!==null)if(yn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(o.stateNode)}catch(g){te(o,s,g)}else try{se.removeChild(o.stateNode)}catch(g){te(o,s,g)}break;case 18:se!==null&&(yn?(i=se,xT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),vu(i)):xT(se,o.stateNode));break;case 4:u=se,d=yn,se=o.stateNode.containerInfo,yn=!0,ir(i,s,o),se=u,yn=d;break;case 0:case 11:case 14:case 15:ye||kr(2,o,s),ye||kr(4,o,s),ir(i,s,o);break;case 1:ye||(Ei(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&O_(o,s,u)),ir(i,s,o);break;case 21:ir(i,s,o);break;case 22:ye=(u=ye)||o.memoizedState!==null,ir(i,s,o),ye=u;break;default:ir(i,s,o)}}function B_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{vu(i)}catch(o){te(s,s.return,o)}}function dC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new k_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new k_),s;default:throw Error(r(435,i.tag))}}function Qm(i,s){var o=dC(i);s.forEach(function(u){var d=bC.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function Rn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,E=s,A=E;t:for(;A!==null;){switch(A.tag){case 27:if(Hr(A.type)){se=A.stateNode,yn=!1;break t}break;case 5:se=A.stateNode,yn=!1;break t;case 3:case 4:se=A.stateNode.containerInfo,yn=!0;break t}A=A.return}if(se===null)throw Error(r(160));j_(g,E,d),se=null,yn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)z_(s,i),s=s.sibling}var ei=null;function z_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rn(s,i),xn(i),u&4&&(kr(3,i,i.return),tu(3,i),kr(5,i,i.return));break;case 1:Rn(s,i),xn(i),u&512&&(ye||o===null||Ei(o,o.return)),u&64&&nr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ei;if(Rn(s,i),xn(i),u&512&&(ye||o===null||Ei(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ls]||g[Ce]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Qe(g,u,o),g[Ce]=i,pe(g),u=g;break t;case"link":var E=MT("link","href",d).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(g=E[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break e}}g=d.createElement(u),Qe(g,u,o),d.head.appendChild(g);break;case"meta":if(E=MT("meta","content",d).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(g=E[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break e}}g=d.createElement(u),Qe(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[Ce]=i,pe(g),u=g}i.stateNode=u}else kT(d,i.type,i.stateNode);else i.stateNode=VT(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?kT(d,i.type,i.stateNode):VT(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Hm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Rn(s,i),xn(i),u&512&&(ye||o===null||Ei(o,o.return)),o!==null&&u&4&&Hm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Rn(s,i),xn(i),u&512&&(ye||o===null||Ei(o,o.return)),i.flags&32){d=i.stateNode;try{Vn(d,"")}catch(Q){te(i,i.return,Q)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Hm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Ym=!0);break;case 6:if(Rn(s,i),xn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Q){te(i,i.return,Q)}}break;case 3:if(Fh=null,d=ei,ei=Bh(s.containerInfo),Rn(s,i),ei=d,xn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{vu(s.containerInfo)}catch(Q){te(i,i.return,Q)}Ym&&(Ym=!1,F_(i));break;case 4:u=ei,ei=Bh(i.stateNode.containerInfo),Rn(s,i),xn(i),ei=u;break;case 12:Rn(s,i),xn(i);break;case 13:Rn(s,i),xn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(tp=On()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Qm(i,u)));break;case 22:d=i.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,H=nr,J=ye;if(nr=H||d,ye=J||C,Rn(s,i),ye=J,nr=H,xn(i),u&8192)t:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||C||nr||ye||ua(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){C=o=s;try{if(g=C.stateNode,d)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=C.stateNode;var et=C.memoizedProps.style,Y=et!=null&&et.hasOwnProperty("display")?et.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){te(C,C.return,Q)}}}else if(s.tag===6){if(o===null){C=s;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(Q){te(C,C.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Qm(i,o))));break;case 19:Rn(s,i),xn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Qm(i,u)));break;case 30:break;case 21:break;default:Rn(s,i),xn(i)}}function xn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(V_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=Gm(i);xh(i,g,d);break;case 5:var E=o.stateNode;o.flags&32&&(Vn(E,""),o.flags&=-33);var A=Gm(i);xh(i,A,E);break;case 3:case 4:var C=o.stateNode.containerInfo,H=Gm(i);Km(i,H,C);break;default:throw Error(r(161))}}catch(J){te(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function F_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;F_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Lr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)L_(i,s.alternate,s),s=s.sibling}function ua(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:kr(4,s,s.return),ua(s);break;case 1:Ei(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&O_(s,s.return,o),ua(s);break;case 27:cu(s.stateNode);case 26:case 5:Ei(s,s.return),ua(s);break;case 22:s.memoizedState===null&&ua(s);break;case 30:ua(s);break;default:ua(s)}i=i.sibling}}function Ur(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Ur(d,g,o),tu(4,g);break;case 1:if(Ur(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){te(u,u.return,H)}if(u=g,d=u.updateQueue,d!==null){var A=u.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)y0(C[d],A)}catch(H){te(u,u.return,H)}}o&&E&64&&N_(g),eu(g,g.return);break;case 27:M_(g);case 26:case 5:Ur(d,g,o),o&&u===null&&E&4&&P_(g),eu(g,g.return);break;case 12:Ur(d,g,o);break;case 13:Ur(d,g,o),o&&E&4&&B_(d,g);break;case 22:g.memoizedState===null&&Ur(d,g,o),eu(g,g.return);break;case 30:break;default:Ur(d,g,o)}s=s.sibling}}function $m(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Bl(o))}function Xm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Bl(i))}function bi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)q_(i,s,o,u),s=s.sibling}function q_(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:bi(i,s,o,u),d&2048&&tu(9,s);break;case 1:bi(i,s,o,u);break;case 3:bi(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Bl(i)));break;case 12:if(d&2048){bi(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,A=g.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(C){te(s,s.return,C)}}else bi(i,s,o,u);break;case 13:bi(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?bi(i,s,o,u):nu(i,s):g._visibility&2?bi(i,s,o,u):(g._visibility|=2,co(i,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&$m(E,s);break;case 24:bi(i,s,o,u),d&2048&&Xm(s.alternate,s);break;default:bi(i,s,o,u)}}function co(i,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,E=s,A=o,C=u,H=E.flags;switch(E.tag){case 0:case 11:case 15:co(g,E,A,C,d),tu(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?co(g,E,A,C,d):nu(g,E):(J._visibility|=2,co(g,E,A,C,d)),d&&H&2048&&$m(E.alternate,E);break;case 24:co(g,E,A,C,d),d&&H&2048&&Xm(E.alternate,E);break;default:co(g,E,A,C,d)}s=s.sibling}}function nu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:nu(o,u),d&2048&&$m(u.alternate,u);break;case 24:nu(o,u),d&2048&&Xm(u.alternate,u);break;default:nu(o,u)}s=s.sibling}}var iu=8192;function ho(i){if(i.subtreeFlags&iu)for(i=i.child;i!==null;)H_(i),i=i.sibling}function H_(i){switch(i.tag){case 26:ho(i),i.flags&iu&&i.memoizedState!==null&&ZC(ei,i.memoizedState,i.memoizedProps);break;case 5:ho(i);break;case 3:case 4:var s=ei;ei=Bh(i.stateNode.containerInfo),ho(i),ei=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=iu,iu=16777216,ho(i),iu=s):ho(i));break;default:ho(i)}}function G_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function ru(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Be=u,Y_(u,i)}G_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)K_(i),i=i.sibling}function K_(i){switch(i.tag){case 0:case 11:case 15:ru(i),i.flags&2048&&kr(9,i,i.return);break;case 3:ru(i);break;case 12:ru(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Ch(i)):ru(i);break;default:ru(i)}}function Ch(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Be=u,Y_(u,i)}G_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:kr(8,s,s.return),Ch(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ch(s));break;default:Ch(s)}i=i.sibling}}function Y_(i,s){for(;Be!==null;){var o=Be;switch(o.tag){case 0:case 11:case 15:kr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Be=u;else t:for(o=i;Be!==null;){u=Be;var d=u.sibling,g=u.return;if(U_(u),u===o){Be=null;break t}if(d!==null){d.return=g,Be=d;break t}Be=g}}}var mC={getCacheForType:function(i){var s=tn(Ne),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},pC=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ne=null,Mt=null,zt=0,$t=0,Cn=null,jr=!1,fo=!1,Wm=!1,rr=0,de=0,Br=0,ca=0,Zm=0,qn=0,mo=0,su=null,vn=null,Jm=!1,tp=0,Ih=1/0,Dh=null,zr=null,Ye=0,Fr=null,po=null,go=0,ep=0,np=null,Q_=null,au=0,ip=null;function In(){if((Qt&2)!==0&&zt!==0)return zt&-zt;if(X.T!==null){var i=no;return i!==0?i:cp()}return Ar()}function $_(){qn===0&&(qn=(zt&536870912)===0||Ht?pl():536870912);var i=Fn.current;return i!==null&&(i.flags|=32),qn}function Dn(i,s,o){(i===ne&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(yo(i,0),qr(i,zt,qn,!1)),ki(i,o),((Qt&2)===0||i!==ne)&&(i===ne&&((Qt&2)===0&&(ca|=o),de===4&&qr(i,zt,qn,!1)),Ai(i))}function X_(i,s,o){if((Qt&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||ks(i,s),d=u?vC(i,s):ap(i,s,!0),g=u;do{if(d===0){fo&&!u&&qr(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!gC(o)){d=ap(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var A=i;d=su;var C=A.current.memoizedState.isDehydrated;if(C&&(yo(A,E).flags|=256),E=ap(A,E,!1),E!==2){if(Wm&&!C){A.errorRecoveryDisabledLanes|=g,ca|=g,d=4;break t}g=vn,vn=d,g!==null&&(vn===null?vn=g:vn.push.apply(vn,g))}d=E}if(g=!1,d!==2)continue}}if(d===1){yo(i,0),qr(i,s,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:qr(u,s,qn,!jr);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=tp+300-On(),10<d)){if(qr(u,s,qn,!jr),Pa(u,0,!0)!==0)break t;u.timeoutHandle=wT(W_.bind(null,u,o,vn,Dh,Jm,s,qn,ca,mo,jr,g,2,-0,0),d);break t}W_(u,o,vn,Dh,Jm,s,qn,ca,mo,jr,g,0,-0,0)}}break}while(!0);Ai(i)}function W_(i,s,o,u,d,g,E,A,C,H,J,et,Y,Q){if(i.timeoutHandle=-1,et=s.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(du={stylesheets:null,count:0,unsuspend:WC},H_(s),et=JC(),et!==null)){i.cancelPendingCommit=et(rT.bind(null,i,s,g,o,u,d,E,A,C,J,1,Y,Q)),qr(i,g,E,!H);return}rT(i,s,g,o,u,d,E,A,C)}function gC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Sn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qr(i,s,o,u){s&=~Zm,s&=~ca,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-Je(d),E=1<<g;u[g]=-1,d&=~E}o!==0&&li(i,o,s)}function Nh(){return(Qt&6)===0?(ou(0),!1):!0}function rp(){if(Mt!==null){if($t===0)var i=Mt.return;else i=Mt,Xi=ra=null,Em(i),lo=null,Wl=0,i=Mt;for(;i!==null;)D_(i.alternate,i),i=i.return;Mt=null}}function yo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,VC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),rp(),ne=i,Mt=o=Yi(i.current,null),zt=s,$t=0,Cn=null,jr=!1,fo=ks(i,s),Wm=!1,mo=qn=Zm=ca=Br=de=0,vn=su=null,Jm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-Je(u),g=1<<d;s|=i[d],u&=~g}return rr=s,Jc(),o}function Z_(i,s){It=null,X.H=vh,s===Fl||s===lh?(s=p0(),$t=3):s===f0?(s=p0(),$t=4):$t=s===g_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Cn=s,Mt===null&&(de=1,Ah(i,Un(s,i.current)))}function J_(){var i=X.H;return X.H=vh,i===null?vh:i}function tT(){var i=X.A;return X.A=mC,i}function sp(){de=4,jr||(zt&4194048)!==zt&&Fn.current!==null||(fo=!0),(Br&134217727)===0&&(ca&134217727)===0||ne===null||qr(ne,zt,qn,!1)}function ap(i,s,o){var u=Qt;Qt|=2;var d=J_(),g=tT();(ne!==i||zt!==s)&&(Dh=null,yo(i,s)),s=!1;var E=de;t:do try{if($t!==0&&Mt!==null){var A=Mt,C=Cn;switch($t){case 8:rp(),E=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var H=$t;if($t=0,Cn=null,vo(i,A,C,H),o&&fo){E=0;break t}break;default:H=$t,$t=0,Cn=null,vo(i,A,C,H)}}yC(),E=de;break}catch(J){Z_(i,J)}while(!0);return s&&i.shellSuspendCounter++,Xi=ra=null,Qt=u,X.H=d,X.A=g,Mt===null&&(ne=null,zt=0,Jc()),E}function yC(){for(;Mt!==null;)eT(Mt)}function vC(i,s){var o=Qt;Qt|=2;var u=J_(),d=tT();ne!==i||zt!==s?(Dh=null,Ih=On()+500,yo(i,s)):fo=ks(i,s);t:do try{if($t!==0&&Mt!==null){s=Mt;var g=Cn;e:switch($t){case 1:$t=0,Cn=null,vo(i,s,g,1);break;case 2:case 9:if(d0(g)){$t=0,Cn=null,nT(s);break}s=function(){$t!==2&&$t!==9||ne!==i||($t=7),Ai(i)},g.then(s,s);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:d0(g)?($t=0,Cn=null,nT(s)):($t=0,Cn=null,vo(i,s,g,7));break;case 5:var E=null;switch(Mt.tag){case 26:E=Mt.memoizedState;case 5:case 27:var A=Mt;if(!E||LT(E)){$t=0,Cn=null;var C=A.sibling;if(C!==null)Mt=C;else{var H=A.return;H!==null?(Mt=H,Oh(H)):Mt=null}break e}}$t=0,Cn=null,vo(i,s,g,5);break;case 6:$t=0,Cn=null,vo(i,s,g,6);break;case 8:rp(),de=6;break t;default:throw Error(r(462))}}_C();break}catch(J){Z_(i,J)}while(!0);return Xi=ra=null,X.H=u,X.A=d,Qt=o,Mt!==null?0:(ne=null,zt=0,Jc(),de)}function _C(){for(;Mt!==null&&!hl();)eT(Mt)}function eT(i){var s=C_(i.alternate,i,rr);i.memoizedProps=i.pendingProps,s===null?Oh(i):Mt=s}function nT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=b_(o,s,s.pendingProps,s.type,void 0,zt);break;case 11:s=b_(o,s,s.pendingProps,s.type.render,s.ref,zt);break;case 5:Em(s);default:D_(o,s),s=Mt=i0(s,rr),s=C_(o,s,rr)}i.memoizedProps=i.pendingProps,s===null?Oh(i):Mt=s}function vo(i,s,o,u){Xi=ra=null,Em(s),lo=null,Wl=0;var d=s.return;try{if(lC(i,d,s,o,zt)){de=1,Ah(i,Un(o,i.current)),Mt=null;return}}catch(g){if(d!==null)throw Mt=d,g;de=1,Ah(i,Un(o,i.current)),Mt=null;return}s.flags&32768?(Ht||u===1?i=!0:fo||(zt&536870912)!==0?i=!1:(jr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),iT(s,i)):Oh(s)}function Oh(i){var s=i;do{if((s.flags&32768)!==0){iT(s,jr);return}i=s.return;var o=cC(s.alternate,s,rr);if(o!==null){Mt=o;return}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=i}while(s!==null);de===0&&(de=5)}function iT(i,s){do{var o=hC(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);de=6,Mt=null}function rT(i,s,o,u,d,g,E,A,C){i.cancelPendingCommit=null;do Ph();while(Ye!==0);if((Qt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Xd,yl(i,o,g,E,A,C),i===ne&&(Mt=ne=null,zt=0),po=s,Fr=i,go=o,ep=g,np=d,Q_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,AC(Os,function(){return uT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,d=st.p,st.p=2,E=Qt,Qt|=4;try{fC(i,s,o)}finally{Qt=E,st.p=d,X.T=u}}Ye=1,sT(),aT(),oT()}}function sT(){if(Ye===1){Ye=0;var i=Fr,s=po,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=st.p;st.p=2;var d=Qt;Qt|=4;try{z_(s,i);var g=vp,E=Yv(i.containerInfo),A=g.focusedElem,C=g.selectionRange;if(E!==A&&A&&A.ownerDocument&&Kv(A.ownerDocument.documentElement,A)){if(C!==null&&Gd(A)){var H=C.start,J=C.end;if(J===void 0&&(J=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(J,A.value.length);else{var et=A.ownerDocument||document,Y=et&&et.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),bt=A.textContent.length,vt=Math.min(C.start,bt),Jt=C.end===void 0?vt:Math.min(C.end,bt);!Q.extend&&vt>Jt&&(E=Jt,Jt=vt,vt=E);var z=Gv(A,vt),k=Gv(A,Jt);if(z&&k&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var q=et.createRange();q.setStart(z.node,z.offset),Q.removeAllRanges(),vt>Jt?(Q.addRange(q),Q.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),Q.addRange(q))}}}}for(et=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<et.length;A++){var tt=et[A];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Gh=!!yp,vp=yp=null}finally{Qt=d,st.p=u,X.T=o}}i.current=s,Ye=2}}function aT(){if(Ye===2){Ye=0;var i=Fr,s=po,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=st.p;st.p=2;var d=Qt;Qt|=4;try{L_(i,s.alternate,s)}finally{Qt=d,st.p=u,X.T=o}}Ye=3}}function oT(){if(Ye===4||Ye===3){Ye=0,Cc();var i=Fr,s=po,o=go,u=Q_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ye=5:(Ye=0,po=Fr=null,lT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(zr=null),Va(o),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(he,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=X.T,d=st.p,st.p=2,X.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var A=u[E];g(A.value,{componentStack:A.stack})}}finally{X.T=s,st.p=d}}(go&3)!==0&&Ph(),Ai(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===ip?au++:(au=0,ip=i):au=0,ou(0)}}function lT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Bl(s)))}function Ph(i){return sT(),aT(),oT(),uT()}function uT(){if(Ye!==5)return!1;var i=Fr,s=ep;ep=0;var o=Va(go),u=X.T,d=st.p;try{st.p=32>o?32:o,X.T=null,o=np,np=null;var g=Fr,E=go;if(Ye=0,po=Fr=null,go=0,(Qt&6)!==0)throw Error(r(331));var A=Qt;if(Qt|=4,K_(g.current),q_(g,g.current,E,o),Qt=A,ou(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(he,g)}catch{}return!0}finally{st.p=d,X.T=u,lT(i,s)}}function cT(i,s,o){s=Un(o,s),s=Mm(i.stateNode,s,2),i=Or(i,s,2),i!==null&&(ki(i,2),Ai(i))}function te(i,s,o){if(i.tag===3)cT(i,i,o);else for(;s!==null;){if(s.tag===3){cT(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zr===null||!zr.has(u))){i=Un(o,i),o=m_(2),u=Or(s,o,2),u!==null&&(p_(o,u,s,i),ki(u,2),Ai(u));break}}s=s.return}}function op(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new pC;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Wm=!0,d.add(o),i=TC.bind(null,i,s,o),s.then(i,i))}function TC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ne===i&&(zt&o)===o&&(de===4||de===3&&(zt&62914560)===zt&&300>On()-tp?(Qt&2)===0&&yo(i,0):Zm|=o,mo===zt&&(mo=0)),Ai(i)}function hT(i,s){s===0&&(s=gl()),i=Za(i,s),i!==null&&(ki(i,s),Ai(i))}function EC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),hT(i,o)}function bC(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),hT(i,o)}function AC(i,s){return Ds(i,s)}var Vh=null,_o=null,lp=!1,Mh=!1,up=!1,ha=0;function Ai(i){i!==_o&&i.next===null&&(_o===null?Vh=_o=i:_o=_o.next=i),Mh=!0,lp||(lp=!0,wC())}function ou(i,s){if(!up&&Mh){up=!0;do for(var o=!1,u=Vh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var E=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-Je(42|i)+1)-1,g&=d&~(E&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,pT(u,g))}else g=zt,g=Pa(u,u===ne?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ks(u,g)||(o=!0,pT(u,g));u=u.next}while(o);up=!1}}function SC(){fT()}function fT(){Mh=lp=!1;var i=0;ha!==0&&(PC()&&(i=ha),ha=0);for(var s=On(),o=null,u=Vh;u!==null;){var d=u.next,g=dT(u,s);g===0?(u.next=null,o===null?Vh=d:o.next=d,d===null&&(_o=o)):(o=u,(i!==0||(g&3)!==0)&&(Mh=!0)),u=d}ou(i)}function dT(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-Je(g),A=1<<E,C=d[E];C===-1?((A&o)===0||(A&u)!==0)&&(d[E]=ml(A,s)):C<=s&&(i.expiredLanes|=A),g&=~A}if(s=ne,o=zt,o=Pa(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&($t===2||$t===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ns(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ks(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Ns(u),Va(o)){case 2:case 8:o=Na;break;case 32:o=Os;break;case 268435456:o=Oa;break;default:o=Os}return u=mT.bind(null,i),o=Ds(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Ns(u),i.callbackPriority=2,i.callbackNode=null,2}function mT(i,s){if(Ye!==0&&Ye!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Ph()&&i.callbackNode!==o)return null;var u=zt;return u=Pa(i,i===ne?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(X_(i,u,s),dT(i,On()),i.callbackNode!=null&&i.callbackNode===o?mT.bind(null,i):null)}function pT(i,s){if(Ph())return null;X_(i,s,!0)}function wC(){MC(function(){(Qt&6)!==0?Ds(fl,SC):fT()})}function cp(){return ha===0&&(ha=pl()),ha}function gT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ba(""+i)}function yT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function RC(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=gT((d[Ee]||null).action),E=u.submitter;E&&(s=(s=E[Ee]||null)?gT(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var A=new za("action","action",null,u,d);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ha!==0){var C=E?yT(d,E):new FormData(d);Dm(o,{pending:!0,data:C,method:d.method,action:g},null,C)}}else typeof g=="function"&&(A.preventDefault(),C=E?yT(d,E):new FormData(d),Dm(o,{pending:!0,data:C,method:d.method,action:g},g,C))},currentTarget:d}]})}}for(var hp=0;hp<$d.length;hp++){var fp=$d[hp],xC=fp.toLowerCase(),CC=fp[0].toUpperCase()+fp.slice(1);ti(xC,"on"+CC)}ti(Xv,"onAnimationEnd"),ti(Wv,"onAnimationIteration"),ti(Zv,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(Gx,"onTransitionRun"),ti(Kx,"onTransitionStart"),ti(Yx,"onTransitionCancel"),ti(Jv,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function vT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var A=u[E],C=A.instance,H=A.currentTarget;if(A=A.listener,C!==g&&d.isPropagationStopped())break t;g=A,d.currentTarget=H;try{g(d)}catch(J){bh(J)}d.currentTarget=null,g=C}else for(E=0;E<u.length;E++){if(A=u[E],C=A.instance,H=A.currentTarget,A=A.listener,C!==g&&d.isPropagationStopped())break t;g=A,d.currentTarget=H;try{g(d)}catch(J){bh(J)}d.currentTarget=null,g=C}}}}function kt(i,s){var o=s[_l];o===void 0&&(o=s[_l]=new Set);var u=i+"__bubble";o.has(u)||(_T(s,i,2,!1),o.add(u))}function dp(i,s,o){var u=0;s&&(u|=4),_T(o,i,u,s)}var kh="_reactListening"+Math.random().toString(36).slice(2);function mp(i){if(!i[kh]){i[kh]=!0,Tl.forEach(function(o){o!=="selectionchange"&&(IC.has(o)||dp(o,!1,i),dp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[kh]||(s[kh]=!0,dp("selectionchange",!1,s))}}function _T(i,s,o,u){switch(qT(s)){case 2:var d=nI;break;case 8:d=iI;break;default:d=Cp}o=d.bind(null,s,o,i),d=void 0,!kn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function pp(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===d)break;if(E===4)for(E=u.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;A!==null;){if(E=Li(A),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){u=g=E;continue t}A=A.parentNode}}u=u.return}Uc(function(){var H=g,J=Mn(o),et=[];t:{var Y=t0.get(i);if(Y!==void 0){var Q=za,bt=i;switch(i){case"keypress":if(mi(o)===0)break t;case"keydown":case"keyup":Q=Ya;break;case"focusin":bt="focus",Q=Ha;break;case"focusout":bt="blur",Q=Ha;break;case"beforeblur":case"afterblur":Q=Ha;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=zd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Kc;break;case Xv:case Wv:case Zv:Q=Ga;break;case Jv:Q=Qc;break;case"scroll":case"scrollend":Q=jc;break;case"wheel":Q=Qa;break;case"copy":case"cut":case"paste":Q=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ol;break;case"toggle":case"beforetoggle":Q=Xc}var vt=(s&4)!==0,Jt=!vt&&(i==="scroll"||i==="scrollend"),z=vt?Y!==null?Y+"Capture":null:Y;vt=[];for(var k=H,q;k!==null;){var tt=k;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||z===null||(tt=Hs(k,z),tt!=null&&vt.push(uu(k,tt,q))),Jt)break;k=k.return}0<vt.length&&(Y=new Q(Y,bt,null,o,J),et.push({event:Y,listeners:vt}))}}if((s&7)===0){t:{if(Y=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",Y&&o!==zi&&(bt=o.relatedTarget||o.fromElement)&&(Li(bt)||bt[Pn]))break t;if((Q||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(bt=o.relatedTarget||o.toElement,Q=H,bt=bt?Li(bt):null,bt!==null&&(Jt=l(bt),vt=bt.tag,bt!==Jt||vt!==5&&vt!==27&&vt!==6)&&(bt=null)):(Q=null,bt=H),Q!==bt)){if(vt=Ln,tt="onMouseLeave",z="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(vt=Ol,tt="onPointerLeave",z="onPointerEnter",k="pointer"),Jt=Q==null?Y:ci(Q),q=bt==null?Y:ci(bt),Y=new vt(tt,k+"leave",Q,o,J),Y.target=Jt,Y.relatedTarget=q,tt=null,Li(J)===H&&(vt=new vt(z,k+"enter",bt,o,J),vt.target=q,vt.relatedTarget=Jt,tt=vt),Jt=tt,Q&&bt)e:{for(vt=Q,z=bt,k=0,q=vt;q;q=To(q))k++;for(q=0,tt=z;tt;tt=To(tt))q++;for(;0<k-q;)vt=To(vt),k--;for(;0<q-k;)z=To(z),q--;for(;k--;){if(vt===z||z!==null&&vt===z.alternate)break e;vt=To(vt),z=To(z)}vt=null}else vt=null;Q!==null&&TT(et,Y,Q,vt,!1),bt!==null&&Jt!==null&&TT(et,Jt,bt,vt,!0)}}t:{if(Y=H?ci(H):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var mt=jv;else if(De(Y))if(Bv)mt=Fx;else{mt=Bx;var Pt=jx}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&wl(H.elementType)&&(mt=jv):mt=zx;if(mt&&(mt=mt(i,H))){Ki(et,mt,o,J);break t}Pt&&Pt(i,Y,H),i==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&xr(Y,"number",Y.value)}switch(Pt=H?ci(H):window,i){case"focusin":(De(Pt)||Pt.contentEditable==="true")&&($a=Pt,Kd=H,Ml=null);break;case"focusout":Ml=Kd=$a=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,Qv(et,o,J);break;case"selectionchange":if(Hx)break;case"keydown":case"keyup":Qv(et,o,J)}var pt;if(yi)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else jt?$(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(T&&o.locale!=="ko"&&(jt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&jt&&(pt=xl()):(di=J,Cr="value"in di?di.value:di.textContent,jt=!0)),Pt=Lh(H,_t),0<Pt.length&&(_t=new Dl(_t,i,null,o,J),et.push({event:_t,listeners:Pt}),pt?_t.data=pt:(pt=lt(o),pt!==null&&(_t.data=pt)))),(pt=v?Ie(i,o):Bt(i,o))&&(_t=Lh(H,"onBeforeInput"),0<_t.length&&(Pt=new Dl("onBeforeInput","beforeinput",null,o,J),et.push({event:Pt,listeners:_t}),Pt.data=pt)),RC(et,i,H,o,J)}vT(et,s)})}function uu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Lh(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Hs(i,o),d!=null&&u.unshift(uu(i,d,g)),d=Hs(i,s),d!=null&&u.push(uu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function To(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function TT(i,s,o,u,d){for(var g=s._reactName,E=[];o!==null&&o!==u;){var A=o,C=A.alternate,H=A.stateNode;if(A=A.tag,C!==null&&C===u)break;A!==5&&A!==26&&A!==27||H===null||(C=H,d?(H=Hs(o,g),H!=null&&E.unshift(uu(o,H,C))):d||(H=Hs(o,g),H!=null&&E.push(uu(o,H,C)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var DC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function ET(i){return(typeof i=="string"?i:""+i).replace(DC,`
`).replace(NC,"")}function bT(i,s){return s=ET(s),ET(i)===s}function Uh(){}function Zt(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Vn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Vn(i,""+u);break;case"className":hi(i,"class",u);break;case"tabIndex":hi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(i,o,u);break;case"style":Sl(i,u,g);break;case"data":if(s!=="object"){hi(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ba(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Zt(i,s,"name",d.name,d,null),Zt(i,s,"formEncType",d.formEncType,d,null),Zt(i,s,"formMethod",d.formMethod,d,null),Zt(i,s,"formTarget",d.formTarget,d,null)):(Zt(i,s,"encType",d.encType,d,null),Zt(i,s,"method",d.method,d,null),Zt(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ba(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Uh);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ba(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":kt("beforetoggle",i),kt("toggle",i),Rr(i,"popover",u);break;case"xlinkActuate":He(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":He(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":He(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":He(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":He(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":He(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":He(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":He(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":He(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Rr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=jd.get(o)||o,Rr(i,o,u))}}function gp(i,s,o,u,d,g){switch(o){case"style":Sl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Vn(i,u):(typeof u=="number"||typeof u=="bigint")&&Vn(i,""+u);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[Ee]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Rr(i,o,u)}}}function Qe(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",i),kt("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,g,E,o,null)}}d&&Zt(i,s,"srcSet",o.srcSet,o,null),u&&Zt(i,s,"src",o.src,o,null);return;case"input":kt("invalid",i);var A=g=E=d=null,C=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":d=J;break;case"type":E=J;break;case"checked":C=J;break;case"defaultChecked":H=J;break;case"value":g=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:Zt(i,s,u,J,o,null)}}zs(i,g,A,C,H,E,d,!1),ja(i);return;case"select":kt("invalid",i),u=E=g=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":g=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:Zt(i,s,d,A,o,null)}s=g,o=E,i.multiple=!!u,s!=null?Bi(i,!!u,s,!1):o!=null&&Bi(i,!!u,o,!0);return;case"textarea":kt("invalid",i),g=d=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":d=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Zt(i,s,E,A,o,null)}Fs(i,u,d,g),ja(i);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(u=o[C],u!=null))switch(C){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Zt(i,s,C,u,o,null)}return;case"dialog":kt("beforetoggle",i),kt("toggle",i),kt("cancel",i),kt("close",i);break;case"iframe":case"object":kt("load",i);break;case"video":case"audio":for(u=0;u<lu.length;u++)kt(lu[u],i);break;case"image":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"embed":case"source":case"link":kt("error",i),kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,H,u,o,null)}return;default:if(wl(s)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&gp(i,s,J,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&Zt(i,s,A,u,o,null))}function OC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,E=null,A=null,C=null,H=null,J=null;for(Q in o){var et=o[Q];if(o.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=et;default:u.hasOwnProperty(Q)||Zt(i,s,Q,null,u,et)}}for(var Y in u){var Q=u[Y];if(et=o[Y],u.hasOwnProperty(Y)&&(Q!=null||et!=null))switch(Y){case"type":g=Q;break;case"name":d=Q;break;case"checked":H=Q;break;case"defaultChecked":J=Q;break;case"value":E=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==et&&Zt(i,s,Y,Q,u,et)}}An(i,E,A,C,H,J,g,d);return;case"select":Q=E=A=Y=null;for(g in o)if(C=o[g],o.hasOwnProperty(g)&&C!=null)switch(g){case"value":break;case"multiple":Q=C;default:u.hasOwnProperty(g)||Zt(i,s,g,null,u,C)}for(d in u)if(g=u[d],C=o[d],u.hasOwnProperty(d)&&(g!=null||C!=null))switch(d){case"value":Y=g;break;case"defaultValue":A=g;break;case"multiple":E=g;default:g!==C&&Zt(i,s,d,g,u,C)}s=A,o=E,u=Q,Y!=null?Bi(i,!!o,Y,!1):!!u!=!!o&&(s!=null?Bi(i,!!o,s,!0):Bi(i,!!o,o?[]:"",!1));return;case"textarea":Q=Y=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Zt(i,s,A,null,u,d)}for(E in u)if(d=u[E],g=o[E],u.hasOwnProperty(E)&&(d!=null||g!=null))switch(E){case"value":Y=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&Zt(i,s,E,d,u,g)}Xt(i,Y,Q);return;case"option":for(var bt in o)if(Y=o[bt],o.hasOwnProperty(bt)&&Y!=null&&!u.hasOwnProperty(bt))switch(bt){case"selected":i.selected=!1;break;default:Zt(i,s,bt,null,u,Y)}for(C in u)if(Y=u[C],Q=o[C],u.hasOwnProperty(C)&&Y!==Q&&(Y!=null||Q!=null))switch(C){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Zt(i,s,C,Y,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)Y=o[vt],o.hasOwnProperty(vt)&&Y!=null&&!u.hasOwnProperty(vt)&&Zt(i,s,vt,null,u,Y);for(H in u)if(Y=u[H],Q=o[H],u.hasOwnProperty(H)&&Y!==Q&&(Y!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Zt(i,s,H,Y,u,Q)}return;default:if(wl(s)){for(var Jt in o)Y=o[Jt],o.hasOwnProperty(Jt)&&Y!==void 0&&!u.hasOwnProperty(Jt)&&gp(i,s,Jt,void 0,u,Y);for(J in u)Y=u[J],Q=o[J],!u.hasOwnProperty(J)||Y===Q||Y===void 0&&Q===void 0||gp(i,s,J,Y,u,Q);return}}for(var z in o)Y=o[z],o.hasOwnProperty(z)&&Y!=null&&!u.hasOwnProperty(z)&&Zt(i,s,z,null,u,Y);for(et in u)Y=u[et],Q=o[et],!u.hasOwnProperty(et)||Y===Q||Y==null&&Q==null||Zt(i,s,et,Y,u,Q)}var yp=null,vp=null;function jh(i){return i.nodeType===9?i:i.ownerDocument}function AT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ST(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function _p(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Tp=null;function PC(){var i=window.event;return i&&i.type==="popstate"?i===Tp?!1:(Tp=i,!0):(Tp=null,!1)}var wT=typeof setTimeout=="function"?setTimeout:void 0,VC=typeof clearTimeout=="function"?clearTimeout:void 0,RT=typeof Promise=="function"?Promise:void 0,MC=typeof queueMicrotask=="function"?queueMicrotask:typeof RT<"u"?function(i){return RT.resolve(null).then(i).catch(kC)}:wT;function kC(i){setTimeout(function(){throw i})}function Hr(i){return i==="head"}function xT(i,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=i.ownerDocument;if(o&1&&cu(E.documentElement),o&2&&cu(E.body),o&4)for(o=E.head,cu(o),E=o.firstChild;E;){var A=E.nextSibling,C=E.nodeName;E[Ls]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=A}}if(d===0){i.removeChild(g),vu(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);vu(s)}function Ep(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ep(o),wr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function LC(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ls])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ni(i.nextSibling),i===null)break}return null}function UC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ni(i.nextSibling),i===null))return null;return i}function bp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function jC(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ni(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Ap=null;function CT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function IT(i,s,o){switch(s=jh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function cu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);wr(i)}var Hn=new Map,DT=new Set;function Bh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var sr=st.d;st.d={f:BC,r:zC,D:FC,C:qC,L:HC,m:GC,X:YC,S:KC,M:QC};function BC(){var i=sr.f(),s=Nh();return i||s}function zC(i){var s=ui(i);s!==null&&s.tag===5&&s.type==="form"?X0(s):sr.r(i)}var Eo=typeof document>"u"?null:document;function NT(i,s,o){var u=Eo;if(u&&typeof s=="string"&&s){var d=be(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),DT.has(d)||(DT.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Qe(s,"link",i),pe(s),u.head.appendChild(s)))}}function FC(i){sr.D(i),NT("dns-prefetch",i,null)}function qC(i,s){sr.C(i,s),NT("preconnect",i,s)}function HC(i,s,o){sr.L(i,s,o);var u=Eo;if(u&&i&&s){var d='link[rel="preload"][as="'+be(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+be(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+be(o.imageSizes)+'"]')):d+='[href="'+be(i)+'"]';var g=d;switch(s){case"style":g=bo(i);break;case"script":g=Ao(i)}Hn.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Hn.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(hu(g))||s==="script"&&u.querySelector(fu(g))||(s=u.createElement("link"),Qe(s,"link",i),pe(s),u.head.appendChild(s)))}}function GC(i,s){sr.m(i,s);var o=Eo;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+be(u)+'"][href="'+be(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ao(i)}if(!Hn.has(g)&&(i=y({rel:"modulepreload",href:i},s),Hn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(fu(g)))return}u=o.createElement("link"),Qe(u,"link",i),pe(u),o.head.appendChild(u)}}}function KC(i,s,o){sr.S(i,s,o);var u=Eo;if(u&&i){var d=un(u).hoistableStyles,g=bo(i);s=s||"default";var E=d.get(g);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(hu(g)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Hn.get(g))&&Sp(i,o);var C=E=u.createElement("link");pe(C),Qe(C,"link",i),C._p=new Promise(function(H,J){C.onload=H,C.onerror=J}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,zh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:A},d.set(g,E)}}}function YC(i,s){sr.X(i,s);var o=Eo;if(o&&i){var u=un(o).hoistableScripts,d=Ao(i),g=u.get(d);g||(g=o.querySelector(fu(d)),g||(i=y({src:i,async:!0},s),(s=Hn.get(d))&&wp(i,s),g=o.createElement("script"),pe(g),Qe(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function QC(i,s){sr.M(i,s);var o=Eo;if(o&&i){var u=un(o).hoistableScripts,d=Ao(i),g=u.get(d);g||(g=o.querySelector(fu(d)),g||(i=y({src:i,async:!0,type:"module"},s),(s=Hn.get(d))&&wp(i,s),g=o.createElement("script"),pe(g),Qe(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function OT(i,s,o,u){var d=(d=wt.current)?Bh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=bo(o.href),o=un(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=bo(o.href);var g=un(d).hoistableStyles,E=g.get(i);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=d.querySelector(hu(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Hn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Hn.set(i,o),g||$C(d,i,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ao(o),o=un(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function bo(i){return'href="'+be(i)+'"'}function hu(i){return'link[rel="stylesheet"]['+i+"]"}function PT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function $C(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Qe(s,"link",o),pe(s),i.head.appendChild(s))}function Ao(i){return'[src="'+be(i)+'"]'}function fu(i){return"script[async]"+i}function VT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+be(o.href)+'"]');if(u)return s.instance=u,pe(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pe(u),Qe(u,"style",d),zh(u,o.precedence,i),s.instance=u;case"stylesheet":d=bo(o.href);var g=i.querySelector(hu(d));if(g)return s.state.loading|=4,s.instance=g,pe(g),g;u=PT(o),(d=Hn.get(d))&&Sp(u,d),g=(i.ownerDocument||i).createElement("link"),pe(g);var E=g;return E._p=new Promise(function(A,C){E.onload=A,E.onerror=C}),Qe(g,"link",u),s.state.loading|=4,zh(g,o.precedence,i),s.instance=g;case"script":return g=Ao(o.src),(d=i.querySelector(fu(g)))?(s.instance=d,pe(d),d):(u=o,(d=Hn.get(g))&&(u=y({},o),wp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),pe(d),Qe(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,zh(u,o.precedence,i));return s.instance}function zh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===s)g=A;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Sp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function wp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Fh=null;function MT(i,s,o){if(Fh===null){var u=new Map,d=Fh=new Map;d.set(o,u)}else d=Fh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Ls]||g[Ce]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var A=u.get(E);A?A.push(g):u.set(E,[g])}}return u}function kT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function XC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function LT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var du=null;function WC(){}function ZC(i,s,o){if(du===null)throw Error(r(475));var u=du;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=bo(o.href),g=i.querySelector(hu(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=qh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,pe(g);return}g=i.ownerDocument||i,o=PT(o),(d=Hn.get(d))&&Sp(o,d),g=g.createElement("link"),pe(g);var E=g;E._p=new Promise(function(A,C){E.onload=A,E.onerror=C}),Qe(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=qh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function JC(){if(du===null)throw Error(r(475));var i=du;return i.stylesheets&&i.count===0&&Rp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&Rp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function qh(){if(this.count--,this.count===0){if(this.stylesheets)Rp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Hh=null;function Rp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Hh=new Map,s.forEach(tI,i),Hh=null,qh.call(i))}function tI(i,s){if(!(s.state.loading&4)){var o=Hh.get(i);if(o)var u=o.get(null);else{o=new Map,Hh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var E=d[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}d=s.instance,E=d.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,d),o.set(E,d),this.count++,u=qh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var mu={$$typeof:G,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function eI(i,s,o,u,d,g,E,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function UT(i,s,o,u,d,g,E,A,C,H,J,et){return i=new eI(i,s,o,E,A,C,H,et),s=1,g===!0&&(s|=24),g=wn(3,null,null,s),i.current=g,g.stateNode=i,s=om(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},hm(g),i}function jT(i){return i?(i=Ja,i):Ja}function BT(i,s,o,u,d,g){d=jT(d),u.context===null?u.context=d:u.pendingContext=d,u=Nr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Or(i,u,s),o!==null&&(Dn(o,i,s),Hl(o,i,s))}function zT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function xp(i,s){zT(i,s),(i=i.alternate)&&zT(i,s)}function FT(i){if(i.tag===13){var s=Za(i,67108864);s!==null&&Dn(s,i,67108864),xp(i,67108864)}}var Gh=!0;function nI(i,s,o,u){var d=X.T;X.T=null;var g=st.p;try{st.p=2,Cp(i,s,o,u)}finally{st.p=g,X.T=d}}function iI(i,s,o,u){var d=X.T;X.T=null;var g=st.p;try{st.p=8,Cp(i,s,o,u)}finally{st.p=g,X.T=d}}function Cp(i,s,o,u){if(Gh){var d=Ip(u);if(d===null)pp(i,s,u,Kh,o),HT(i,u);else if(sI(d,i,s,o,u))u.stopPropagation();else if(HT(i,u),s&4&&-1<rI.indexOf(i)){for(;d!==null;){var g=ui(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Wn(g.pendingLanes);if(E!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var C=1<<31-Je(E);A.entanglements[1]|=C,E&=~C}Ai(g),(Qt&6)===0&&(Ih=On()+500,ou(0))}}break;case 13:A=Za(g,2),A!==null&&Dn(A,g,2),Nh(),xp(g,2)}if(g=Ip(u),g===null&&pp(i,s,u,Kh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else pp(i,s,u,null,o)}}function Ip(i){return i=Mn(i),Dp(i)}var Kh=null;function Dp(i){if(Kh=null,i=Li(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Kh=i,null}function qT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pd()){case fl:return 2;case Na:return 8;case Os:case Vd:return 32;case Oa:return 268435456;default:return 32}default:return 32}}var Np=!1,Gr=null,Kr=null,Yr=null,pu=new Map,gu=new Map,Qr=[],rI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HT(i,s){switch(i){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":pu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(s.pointerId)}}function yu(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ui(s),s!==null&&FT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function sI(i,s,o,u,d){switch(s){case"focusin":return Gr=yu(Gr,i,s,o,u,d),!0;case"dragenter":return Kr=yu(Kr,i,s,o,u,d),!0;case"mouseover":return Yr=yu(Yr,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return pu.set(g,yu(pu.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,gu.set(g,yu(gu.get(g)||null,i,s,o,u,d)),!0}return!1}function GT(i){var s=Li(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Nc(i.priority,function(){if(o.tag===13){var u=In();u=br(u);var d=Za(o,u);d!==null&&Dn(d,o,u),xp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Ip(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);zi=u,o.target.dispatchEvent(u),zi=null}else return s=ui(o),s!==null&&FT(s),i.blockedOn=o,!1;s.shift()}return!0}function KT(i,s,o){Yh(i)&&o.delete(s)}function aI(){Np=!1,Gr!==null&&Yh(Gr)&&(Gr=null),Kr!==null&&Yh(Kr)&&(Kr=null),Yr!==null&&Yh(Yr)&&(Yr=null),pu.forEach(KT),gu.forEach(KT)}function Qh(i,s){i.blockedOn===s&&(i.blockedOn=null,Np||(Np=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,aI)))}var $h=null;function YT(i){$h!==i&&($h=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$h===i&&($h=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(Dp(u||o)===null)continue;break}var g=ui(o);g!==null&&(i.splice(s,3),s-=3,Dm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function vu(i){function s(C){return Qh(C,i)}Gr!==null&&Qh(Gr,i),Kr!==null&&Qh(Kr,i),Yr!==null&&Qh(Yr,i),pu.forEach(s),gu.forEach(s);for(var o=0;o<Qr.length;o++){var u=Qr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Qr.length&&(o=Qr[0],o.blockedOn===null);)GT(o),o.blockedOn===null&&Qr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],E=d[Ee]||null;if(typeof g=="function")E||YT(o);else if(E){var A=null;if(g&&g.hasAttribute("formAction")){if(d=g,E=g[Ee]||null)A=E.formAction;else if(Dp(d)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),YT(o)}}}function Op(i){this._internalRoot=i}Xh.prototype.render=Op.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=In();BT(o,u,i,s,null,null)},Xh.prototype.unmount=Op.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;BT(i.current,2,null,i,null,null),Nh(),s[Pn]=null}};function Xh(i){this._internalRoot=i}Xh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ar();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Qr.length&&s!==0&&s<Qr[o].priority;o++);Qr.splice(o,0,i),o===0&&GT(i)}};var QT=t.version;if(QT!=="19.1.0")throw Error(r(527,QT,"19.1.0"));st.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var oI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wh.isDisabled&&Wh.supportsFiber)try{he=Wh.inject(oI),Yt=Wh}catch{}}return Tu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=c_,g=h_,E=f_,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=UT(i,1,!1,null,null,o,u,d,g,E,A,null),i[Pn]=s.current,mp(i),new Op(s)},Tu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=c_,E=h_,A=f_,C=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),s=UT(i,1,!0,s,o??null,u,d,g,E,A,C,H),s.context=jT(null),o=s.current,u=In(),u=br(u),d=Nr(u),d.callback=null,Or(o,d,u),o=u,s.current.lanes=o,ki(s,o),Ai(s),i[Pn]=s.current,mp(i),new Xh(s)},Tu.version="19.1.0",Tu}var rE;function vI(){if(rE)return Mp.exports;rE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mp.exports=yI(),Mp.exports}var _I=vI();const TI=cS(_I);hS();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hu.apply(this,arguments)}var rs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rs||(rs={}));const sE="popstate";function EI(e){e===void 0&&(e={});function t(r,a){let{pathname:l,search:c,hash:f}=r.location;return ug("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:wf(a)}return AI(t,n,null,e)}function Te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bI(){return Math.random().toString(36).substr(2,8)}function aE(e,t){return{usr:e.state,key:e.key,idx:t}}function ug(e,t,n,r){return n===void 0&&(n=null),Hu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zo(t):t,{state:n,key:t&&t.key||r||bI()})}function wf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function AI(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f=rs.Pop,m=null,p=y();p==null&&(p=0,c.replaceState(Hu({},c.state,{idx:p}),""));function y(){return(c.state||{idx:null}).idx}function _(){f=rs.Pop;let M=y(),K=M==null?null:M-p;p=M,m&&m({action:f,location:L.location,delta:K})}function b(M,K){f=rs.Push;let Z=ug(L.location,M,K);p=y()+1;let G=aE(Z,p),at=L.createHref(Z);try{c.pushState(G,"",at)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(at)}l&&m&&m({action:f,location:L.location,delta:1})}function w(M,K){f=rs.Replace;let Z=ug(L.location,M,K);p=y();let G=aE(Z,p),at=L.createHref(Z);c.replaceState(G,"",at),l&&m&&m({action:f,location:L.location,delta:0})}function O(M){let K=a.location.origin!=="null"?a.location.origin:a.location.href,Z=typeof M=="string"?M:wf(M);return Z=Z.replace(/ $/,"%20"),Te(K,"No window.location.(origin|href) available to create URL for href: "+Z),new URL(Z,K)}let L={get action(){return f},get location(){return e(a,c)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(sE,_),m=M,()=>{a.removeEventListener(sE,_),m=null}},createHref(M){return t(a,M)},createURL:O,encodeLocation(M){let K=O(M);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:b,replace:w,go(M){return c.go(M)}};return L}var oE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(oE||(oE={}));function SI(e,t,n){return n===void 0&&(n="/"),wI(e,t,n)}function wI(e,t,n,r){let a=typeof t=="string"?Zo(t):t,l=ly(a.pathname||"/",n);if(l==null)return null;let c=dS(e);RI(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=UI(l);f=MI(c[m],p)}return f}function dS(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Te(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let p=as([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(Te(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),dS(l.children,t,y,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:PI(p,l.index),routesMeta:y})};return e.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of mS(l.path))a(l,c,m)}),t}function mS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=mS(r.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function RI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:VI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xI=/^:[\w-]+$/,CI=3,II=2,DI=1,NI=10,OI=-2,lE=e=>e==="*";function PI(e,t){let n=e.split("/"),r=n.length;return n.some(lE)&&(r+=OI),t&&(r+=II),n.filter(a=>!lE(a)).reduce((a,l)=>a+(xI.test(l)?CI:l===""?DI:NI),r)}function VI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function MI(e,t,n){let{routesMeta:r}=e,a={},l="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=kI({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:as([l,_.pathname]),pathnameBase:FI(as([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=as([l,_.pathnameBase]))}return c}function kI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=LI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,y,_)=>{let{paramName:b,isOptional:w}=y;if(b==="*"){let L=f[_]||"";c=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const O=f[_];return w&&!O?p[b]=void 0:p[b]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function LI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),fS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function UI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ly(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function jI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Zo(e):e;return{pathname:n?n.startsWith("/")?n:BI(n,t):t,search:qI(r),hash:HI(a)}}function BI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function jp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function uy(e,t){let n=zI(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cy(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Zo(e):(a=Hu({},e),Te(!a.pathname||!a.pathname.includes("?"),jp("?","pathname","search",a)),Te(!a.pathname||!a.pathname.includes("#"),jp("#","pathname","hash",a)),Te(!a.search||!a.search.includes("#"),jp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?t[_]:"/"}let m=jI(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}const as=e=>e.join("/").replace(/\/\/+/g,"/"),FI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function GI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pS=["post","put","patch","delete"];new Set(pS);const KI=["get",...pS];new Set(KI);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gu.apply(this,arguments)}const hy=j.createContext(null),YI=j.createContext(null),bs=j.createContext(null),id=j.createContext(null),vr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),gS=j.createContext(null);function QI(e,t){let{relative:n}=t===void 0?{}:t;Jo()||Te(!1);let{basename:r,navigator:a}=j.useContext(bs),{hash:l,pathname:c,search:f}=vS(e,{relative:n}),m=c;return r!=="/"&&(m=c==="/"?r:as([r,c])),a.createHref({pathname:m,search:f,hash:l})}function Jo(){return j.useContext(id)!=null}function uc(){return Jo()||Te(!1),j.useContext(id).location}function yS(e){j.useContext(bs).static||j.useLayoutEffect(e)}function cc(){let{isDataRoute:e}=j.useContext(vr);return e?u2():$I()}function $I(){Jo()||Te(!1);let e=j.useContext(hy),{basename:t,future:n,navigator:r}=j.useContext(bs),{matches:a}=j.useContext(vr),{pathname:l}=uc(),c=JSON.stringify(uy(a,n.v7_relativeSplatPath)),f=j.useRef(!1);return yS(()=>{f.current=!0}),j.useCallback(function(p,y){if(y===void 0&&(y={}),!f.current)return;if(typeof p=="number"){r.go(p);return}let _=cy(p,JSON.parse(c),l,y.relative==="path");e==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:as([t,_.pathname])),(y.replace?r.replace:r.push)(_,y.state,y)},[t,r,c,l,e])}const XI=j.createContext(null);function WI(e){let t=j.useContext(vr).outlet;return t&&j.createElement(XI.Provider,{value:e},t)}function vS(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=j.useContext(bs),{matches:a}=j.useContext(vr),{pathname:l}=uc(),c=JSON.stringify(uy(a,r.v7_relativeSplatPath));return j.useMemo(()=>cy(e,JSON.parse(c),l,n==="path"),[e,c,l,n])}function ZI(e,t){return JI(e,t)}function JI(e,t,n,r){Jo()||Te(!1);let{navigator:a,static:l}=j.useContext(bs),{matches:c}=j.useContext(vr),f=c[c.length-1],m=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let y=uc(),_;if(t){var b;let K=typeof t=="string"?Zo(t):t;p==="/"||(b=K.pathname)!=null&&b.startsWith(p)||Te(!1),_=K}else _=y;let w=_.pathname||"/",O=w;if(p!=="/"){let K=p.replace(/^\//,"").split("/");O="/"+w.replace(/^\//,"").split("/").slice(K.length).join("/")}let L=SI(e,{pathname:O}),M=r2(L&&L.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:as([p,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?p:as([p,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),c,n,r);return t&&M?j.createElement(id.Provider,{value:{location:Gu({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:rs.Pop}},M):M}function t2(){let e=l2(),t=GI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,null)}const e2=j.createElement(t2,null);class n2 extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(vr.Provider,{value:this.props.routeContext},j.createElement(gS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i2(e){let{routeContext:t,match:n,children:r}=e,a=j.useContext(hy);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(vr.Provider,{value:t},r)}function r2(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,f=(a=n)==null?void 0:a.errors;if(f!=null){let y=c.findIndex(_=>_.route.id&&(f==null?void 0:f[_.route.id])!==void 0);y>=0||Te(!1),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:b,errors:w}=n,O=_.route.loader&&b[_.route.id]===void 0&&(!w||w[_.route.id]===void 0);if(_.route.lazy||O){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((y,_,b)=>{let w,O=!1,L=null,M=null;n&&(w=f&&_.route.id?f[_.route.id]:void 0,L=_.route.errorElement||e2,m&&(p<0&&b===0?(c2("route-fallback"),O=!0,M=null):p===b&&(O=!0,M=_.route.hydrateFallbackElement||null)));let K=t.concat(c.slice(0,b+1)),Z=()=>{let G;return w?G=L:O?G=M:_.route.Component?G=j.createElement(_.route.Component,null):_.route.element?G=_.route.element:G=y,j.createElement(i2,{match:_,routeContext:{outlet:y,matches:K,isDataRoute:n!=null},children:G})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?j.createElement(n2,{location:n.location,revalidation:n.revalidation,component:L,error:w,children:Z(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):Z()},null)}var _S=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_S||{}),TS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(TS||{});function s2(e){let t=j.useContext(hy);return t||Te(!1),t}function a2(e){let t=j.useContext(YI);return t||Te(!1),t}function o2(e){let t=j.useContext(vr);return t||Te(!1),t}function ES(e){let t=o2(),n=t.matches[t.matches.length-1];return n.route.id||Te(!1),n.route.id}function l2(){var e;let t=j.useContext(gS),n=a2(),r=ES();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function u2(){let{router:e}=s2(_S.UseNavigateStable),t=ES(TS.UseNavigateStable),n=j.useRef(!1);return yS(()=>{n.current=!0}),j.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Gu({fromRouteId:t},l)))},[e,t])}const uE={};function c2(e,t,n){uE[e]||(uE[e]=!0)}function h2(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function So(e){let{to:t,replace:n,state:r,relative:a}=e;Jo()||Te(!1);let{future:l,static:c}=j.useContext(bs),{matches:f}=j.useContext(vr),{pathname:m}=uc(),p=cc(),y=cy(t,uy(f,l.v7_relativeSplatPath),m,a==="path"),_=JSON.stringify(y);return j.useEffect(()=>p(JSON.parse(_),{replace:n,state:r,relative:a}),[p,_,a,n,r]),null}function f2(e){return WI(e.context)}function Wr(e){Te(!1)}function d2(e){let{basename:t="/",children:n=null,location:r,navigationType:a=rs.Pop,navigator:l,static:c=!1,future:f}=e;Jo()&&Te(!1);let m=t.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:m,navigator:l,static:c,future:Gu({v7_relativeSplatPath:!1},f)}),[m,f,l,c]);typeof r=="string"&&(r=Zo(r));let{pathname:y="/",search:_="",hash:b="",state:w=null,key:O="default"}=r,L=j.useMemo(()=>{let M=ly(y,m);return M==null?null:{location:{pathname:M,search:_,hash:b,state:w,key:O},navigationType:a}},[m,y,_,b,w,O,a]);return L==null?null:j.createElement(bs.Provider,{value:p},j.createElement(id.Provider,{children:n,value:L}))}function m2(e){let{children:t,location:n}=e;return ZI(cg(t),n)}new Promise(()=>{});function cg(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(r,a)=>{if(!j.isValidElement(r))return;let l=[...t,a];if(r.type===j.Fragment){n.push.apply(n,cg(r.props.children,l));return}r.type!==Wr&&Te(!1),!r.props.index||!r.props.children||Te(!1);let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=cg(r.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hg.apply(this,arguments)}function p2(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,l;for(l=0;l<r.length;l++)a=r[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function g2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function y2(e,t){return e.button===0&&(!t||t==="_self")&&!g2(e)}const v2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_2="6";try{window.__reactRouterVersion=_2}catch{}const T2="startTransition",cE=dI[T2];function E2(e){let{basename:t,children:n,future:r,window:a}=e,l=j.useRef();l.current==null&&(l.current=EI({window:a,v5Compat:!0}));let c=l.current,[f,m]=j.useState({action:c.action,location:c.location}),{v7_startTransition:p}=r||{},y=j.useCallback(_=>{p&&cE?cE(()=>m(_)):m(_)},[m,p]);return j.useLayoutEffect(()=>c.listen(y),[c,y]),j.useEffect(()=>h2(r),[r]),j.createElement(d2,{basename:t,children:n,location:f.location,navigationType:f.action,navigator:c,future:r})}const b2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rf=j.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_}=t,b=p2(t,v2),{basename:w}=j.useContext(bs),O,L=!1;if(typeof p=="string"&&A2.test(p)&&(O=p,b2))try{let G=new URL(window.location.href),at=p.startsWith("//")?new URL(G.protocol+p):new URL(p),W=ly(at.pathname,w);at.origin===G.origin&&W!=null?p=W+at.search+at.hash:L=!0}catch{}let M=QI(p,{relative:a}),K=S2(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function Z(G){r&&r(G),G.defaultPrevented||K(G)}return j.createElement("a",hg({},b,{href:O||M,onClick:L||l?r:Z,ref:n,target:m}))});var hE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hE||(hE={}));var fE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fE||(fE={}));function S2(e,t){let{target:n,replace:r,state:a,preventScrollReset:l,relative:c,viewTransition:f}=t===void 0?{}:t,m=cc(),p=uc(),y=vS(e,{relative:c});return j.useCallback(_=>{if(y2(_,n)){_.preventDefault();let b=r!==void 0?r:wf(p)===wf(y);m(e,{replace:b,state:a,preventScrollReset:l,relative:c,viewTransition:f})}},[p,m,y,r,a,n,e,l,c,f])}let w2={data:""},R2=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||w2,x2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,C2=/\/\*[^]*?\*\/|  +/g,dE=/\n+/g,Jr=(e,t)=>{let n="",r="",a="";for(let l in e){let c=e[l];l[0]=="@"?l[1]=="i"?n=l+" "+c+";":r+=l[1]=="f"?Jr(c,l):l+"{"+Jr(c,l[1]=="k"?"":t)+"}":typeof c=="object"?r+=Jr(c,t?t.replace(/([^,])+/g,f=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,f):f?f+" "+m:m)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Jr.p?Jr.p(l,c):l+":"+c+";")}return n+(t&&a?t+"{"+a+"}":a)+r},ar={},bS=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+bS(e[n]);return t}return e},I2=(e,t,n,r,a)=>{let l=bS(e),c=ar[l]||(ar[l]=(m=>{let p=0,y=11;for(;p<m.length;)y=101*y+m.charCodeAt(p++)>>>0;return"go"+y})(l));if(!ar[c]){let m=l!==e?e:(p=>{let y,_,b=[{}];for(;y=x2.exec(p.replace(C2,""));)y[4]?b.shift():y[3]?(_=y[3].replace(dE," ").trim(),b.unshift(b[0][_]=b[0][_]||{})):b[0][y[1]]=y[2].replace(dE," ").trim();return b[0]})(e);ar[c]=Jr(a?{["@keyframes "+c]:m}:m,n?"":"."+c)}let f=n&&ar.g?ar.g:null;return n&&(ar.g=ar[c]),((m,p,y,_)=>{_?p.data=p.data.replace(_,m):p.data.indexOf(m)===-1&&(p.data=y?m+p.data:p.data+m)})(ar[c],t,r,f),c},D2=(e,t,n)=>e.reduce((r,a,l)=>{let c=t[l];if(c&&c.call){let f=c(n),m=f&&f.props&&f.props.className||/^go/.test(f)&&f;c=m?"."+m:f&&typeof f=="object"?f.props?"":Jr(f,""):f===!1?"":f}return r+a+(c??"")},"");function rd(e){let t=this||{},n=e.call?e(t.p):e;return I2(n.unshift?n.raw?D2(n,[].slice.call(arguments,1),t.p):n.reduce((r,a)=>Object.assign(r,a&&a.call?a(t.p):a),{}):n,R2(t.target),t.g,t.o,t.k)}let AS,fg,dg;rd.bind({g:1});let hr=rd.bind({k:1});function N2(e,t,n,r){Jr.p=t,AS=e,fg=n,dg=r}function As(e,t){let n=this||{};return function(){let r=arguments;function a(l,c){let f=Object.assign({},l),m=f.className||a.className;n.p=Object.assign({theme:fg&&fg()},f),n.o=/ *go\d+/.test(m),f.className=rd.apply(n,r)+(m?" "+m:"");let p=e;return e[0]&&(p=f.as||e,delete f.as),dg&&p[0]&&dg(f),AS(p,f)}return a}}var O2=e=>typeof e=="function",xf=(e,t)=>O2(e)?e(t):e,P2=(()=>{let e=0;return()=>(++e).toString()})(),SS=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),V2=20,wS=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,V2)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return wS(e,{type:e.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},cf=[],ya={toasts:[],pausedAt:void 0},Ca=e=>{ya=wS(ya,e),cf.forEach(t=>{t(ya)})},M2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},k2=(e={})=>{let[t,n]=j.useState(ya),r=j.useRef(ya);j.useEffect(()=>(r.current!==ya&&n(ya),cf.push(n),()=>{let l=cf.indexOf(n);l>-1&&cf.splice(l,1)}),[]);let a=t.toasts.map(l=>{var c,f,m;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((c=e[l.type])==null?void 0:c.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((f=e[l.type])==null?void 0:f.duration)||(e==null?void 0:e.duration)||M2[l.type],style:{...e.style,...(m=e[l.type])==null?void 0:m.style,...l.style}}});return{...t,toasts:a}},L2=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||P2()}),hc=e=>(t,n)=>{let r=L2(t,e,n);return Ca({type:2,toast:r}),r.id},dn=(e,t)=>hc("blank")(e,t);dn.error=hc("error");dn.success=hc("success");dn.loading=hc("loading");dn.custom=hc("custom");dn.dismiss=e=>{Ca({type:3,toastId:e})};dn.remove=e=>Ca({type:4,toastId:e});dn.promise=(e,t,n)=>{let r=dn.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let l=t.success?xf(t.success,a):void 0;return l?dn.success(l,{id:r,...n,...n==null?void 0:n.success}):dn.dismiss(r),a}).catch(a=>{let l=t.error?xf(t.error,a):void 0;l?dn.error(l,{id:r,...n,...n==null?void 0:n.error}):dn.dismiss(r)}),e};var U2=(e,t)=>{Ca({type:1,toast:{id:e,height:t}})},j2=()=>{Ca({type:5,time:Date.now()})},Nu=new Map,B2=1e3,z2=(e,t=B2)=>{if(Nu.has(e))return;let n=setTimeout(()=>{Nu.delete(e),Ca({type:4,toastId:e})},t);Nu.set(e,n)},F2=e=>{let{toasts:t,pausedAt:n}=k2(e);j.useEffect(()=>{if(n)return;let l=Date.now(),c=t.map(f=>{if(f.duration===1/0)return;let m=(f.duration||0)+f.pauseDuration-(l-f.createdAt);if(m<0){f.visible&&dn.dismiss(f.id);return}return setTimeout(()=>dn.dismiss(f.id),m)});return()=>{c.forEach(f=>f&&clearTimeout(f))}},[t,n]);let r=j.useCallback(()=>{n&&Ca({type:6,time:Date.now()})},[n]),a=j.useCallback((l,c)=>{let{reverseOrder:f=!1,gutter:m=8,defaultPosition:p}=c||{},y=t.filter(w=>(w.position||p)===(l.position||p)&&w.height),_=y.findIndex(w=>w.id===l.id),b=y.filter((w,O)=>O<_&&w.visible).length;return y.filter(w=>w.visible).slice(...f?[b+1]:[0,b]).reduce((w,O)=>w+(O.height||0)+m,0)},[t]);return j.useEffect(()=>{t.forEach(l=>{if(l.dismissed)z2(l.id,l.removeDelay);else{let c=Nu.get(l.id);c&&(clearTimeout(c),Nu.delete(l.id))}})},[t]),{toasts:t,handlers:{updateHeight:U2,startPause:j2,endPause:r,calculateOffset:a}}},q2=hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,H2=hr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,G2=hr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,K2=As("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${q2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${H2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${G2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Y2=hr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Q2=As("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Y2} 1s linear infinite;
`,$2=hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,X2=hr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,W2=As("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${X2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Z2=As("div")`
  position: absolute;
`,J2=As("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,tD=hr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eD=As("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${tD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,nD=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?j.createElement(eD,null,t):t:n==="blank"?null:j.createElement(J2,null,j.createElement(Q2,{...r}),n!=="loading"&&j.createElement(Z2,null,n==="error"?j.createElement(K2,{...r}):j.createElement(W2,{...r})))},iD=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,rD=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,sD="0%{opacity:0;} 100%{opacity:1;}",aD="0%{opacity:1;} 100%{opacity:0;}",oD=As("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,lD=As("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,uD=(e,t)=>{let n=e.includes("top")?1:-1,[r,a]=SS()?[sD,aD]:[iD(n),rD(n)];return{animation:t?`${hr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${hr(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},cD=j.memo(({toast:e,position:t,style:n,children:r})=>{let a=e.height?uD(e.position||t||"top-center",e.visible):{opacity:0},l=j.createElement(nD,{toast:e}),c=j.createElement(lD,{...e.ariaProps},xf(e.message,e));return j.createElement(oD,{className:e.className,style:{...a,...n,...e.style}},typeof r=="function"?r({icon:l,message:c}):j.createElement(j.Fragment,null,l,c))});N2(j.createElement);var hD=({id:e,className:t,style:n,onHeightUpdate:r,children:a})=>{let l=j.useCallback(c=>{if(c){let f=()=>{let m=c.getBoundingClientRect().height;r(e,m)};f(),new MutationObserver(f).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return j.createElement("div",{ref:l,className:t,style:n},a)},fD=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:SS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...a}},dD=rd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Zh=16,mD=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:a,containerStyle:l,containerClassName:c})=>{let{toasts:f,handlers:m}=F2(n);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Zh,left:Zh,right:Zh,bottom:Zh,pointerEvents:"none",...l},className:c,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map(p=>{let y=p.position||t,_=m.calculateOffset(p,{reverseOrder:e,gutter:r,defaultPosition:t}),b=fD(y,_);return j.createElement(hD,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?dD:"",style:b},p.type==="custom"?xf(p.message,p):a?a(p):j.createElement(cD,{toast:p,position:y}))}))},Dt=dn;const pD=()=>{};var mE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},gD=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},xS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,w=p&63;m||(w=64,c||(b=64)),r.push(n[y],n[_],n[b],n[w])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(RS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new yD;const b=l<<2|f>>4;if(r.push(b),p!==64){const w=f<<4&240|p>>2;if(r.push(w),_!==64){const O=p<<6&192|_;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class yD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vD=function(e){const t=RS(e);return xS.encodeByteArray(t,!0)},Cf=function(e){return vD(e).replace(/\./g,"")},CS=function(e){try{return xS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=()=>_D().__FIREBASE_DEFAULTS__,ED=()=>{if(typeof process>"u"||typeof mE>"u")return;const e=mE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},bD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&CS(e[1]);return t&&JSON.parse(t)},sd=()=>{try{return pD()||TD()||ED()||bD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},IS=e=>{var t,n;return(n=(t=sd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},AD=e=>{const t=IS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},DS=()=>{var e;return(e=sd())===null||e===void 0?void 0:e.config},NS=e=>{var t;return(t=sd())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Cf(JSON.stringify(n)),Cf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function xD(){var e;const t=(e=sd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ID(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function DD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ND(){const e=ln();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function OD(){return!xD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PD(){try{return typeof indexedDB=="object"}catch{return!1}}function VD(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="FirebaseError";class _r extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=MD,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fc.prototype.create)}}class fc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?kD(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new _r(a,f,r)}}function kD(e,t){return e.replace(LD,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const LD=/\{\$([^}]+)}/g;function UD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ba(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(pE(l)&&pE(c)){if(!ba(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function pE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Au(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Su(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function jD(e,t){const n=new BD(e,t);return n.subscribe.bind(n)}class BD{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zD(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=Bp),a.error===void 0&&(a.error=Bp),a.complete===void 0&&(a.complete=Bp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zD(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Bp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(e){return e&&e._delegate?e._delegate:e}class Aa{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new SD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HD(t))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ma){return this.instances.has(t)}getOptions(t=ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(t,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qD(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ma){return this.component?this.component.multipleInstances?t:ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qD(e){return e===ma?void 0:e}function HD(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new FD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Lt||(Lt={}));const KD={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},YD=Lt.INFO,QD={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},$D=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=QD[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fy{constructor(t){this.name=t,this._logLevel=YD,this._logHandler=$D,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?KD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const XD=(e,t)=>t.some(n=>e instanceof n);let gE,yE;function WD(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZD(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OS=new WeakMap,mg=new WeakMap,PS=new WeakMap,zp=new WeakMap,dy=new WeakMap;function JD(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(os(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&OS.set(n,e)}).catch(()=>{}),dy.set(t,e),t}function tN(e){if(mg.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});mg.set(e,t)}let pg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return mg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||PS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function eN(e){pg=e(pg)}function nN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Fp(this),t,...n);return PS.set(r,t.sort?t.sort():[t]),os(r)}:ZD().includes(e)?function(...t){return e.apply(Fp(this),t),os(OS.get(this))}:function(...t){return os(e.apply(Fp(this),t))}}function iN(e){return typeof e=="function"?nN(e):(e instanceof IDBTransaction&&tN(e),XD(e,WD())?new Proxy(e,pg):e)}function os(e){if(e instanceof IDBRequest)return JD(e);if(zp.has(e))return zp.get(e);const t=iN(e);return t!==e&&(zp.set(e,t),dy.set(t,e)),t}const Fp=e=>dy.get(e);function rN(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=os(c);return r&&c.addEventListener("upgradeneeded",m=>{r(os(c.result),m.oldVersion,m.newVersion,os(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const sN=["get","getKey","getAll","getAllKeys","count"],aN=["put","add","delete","clear"],qp=new Map;function vE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(qp.get(t))return qp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=aN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||sN.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return qp.set(t,l),l}eN(e=>({...e,get:(t,n,r)=>vE(t,n)||e.get(t,n,r),has:(t,n)=>!!vE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lN(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const gg="@firebase/app",_E="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new fy("@firebase/app"),uN="@firebase/app-compat",cN="@firebase/analytics-compat",hN="@firebase/analytics",fN="@firebase/app-check-compat",dN="@firebase/app-check",mN="@firebase/auth",pN="@firebase/auth-compat",gN="@firebase/database",yN="@firebase/data-connect",vN="@firebase/database-compat",_N="@firebase/functions",TN="@firebase/functions-compat",EN="@firebase/installations",bN="@firebase/installations-compat",AN="@firebase/messaging",SN="@firebase/messaging-compat",wN="@firebase/performance",RN="@firebase/performance-compat",xN="@firebase/remote-config",CN="@firebase/remote-config-compat",IN="@firebase/storage",DN="@firebase/storage-compat",NN="@firebase/firestore",ON="@firebase/vertexai",PN="@firebase/firestore-compat",VN="firebase",MN="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="[DEFAULT]",kN={[gg]:"fire-core",[uN]:"fire-core-compat",[hN]:"fire-analytics",[cN]:"fire-analytics-compat",[dN]:"fire-app-check",[fN]:"fire-app-check-compat",[mN]:"fire-auth",[pN]:"fire-auth-compat",[gN]:"fire-rtdb",[yN]:"fire-data-connect",[vN]:"fire-rtdb-compat",[_N]:"fire-fn",[TN]:"fire-fn-compat",[EN]:"fire-iid",[bN]:"fire-iid-compat",[AN]:"fire-fcm",[SN]:"fire-fcm-compat",[wN]:"fire-perf",[RN]:"fire-perf-compat",[xN]:"fire-rc",[CN]:"fire-rc-compat",[IN]:"fire-gcs",[DN]:"fire-gcs-compat",[NN]:"fire-fst",[PN]:"fire-fst-compat",[ON]:"fire-vertex","fire-js":"fire-js",[VN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Map,LN=new Map,vg=new Map;function TE(e,t){try{e.container.addComponent(t)}catch(n){fr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Bo(e){const t=e.name;if(vg.has(t))return fr.debug(`There were multiple attempts to register component ${t}.`),!1;vg.set(t,e);for(const n of If.values())TE(n,e);for(const n of LN.values())TE(n,e);return!0}function my(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Yn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new fc("app","Firebase",UN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=MN;function VS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:yg,automaticDataCollectionEnabled:!1},t),a=r.name;if(typeof a!="string"||!a)throw ls.create("bad-app-name",{appName:String(a)});if(n||(n=DS()),!n)throw ls.create("no-options");const l=If.get(a);if(l){if(ba(n,l.options)&&ba(r,l.config))return l;throw ls.create("duplicate-app",{appName:a})}const c=new GD(a);for(const m of vg.values())c.addComponent(m);const f=new jN(n,r,c);return If.set(a,f),f}function MS(e=yg){const t=If.get(e);if(!t&&e===yg&&DS())return VS();if(!t)throw ls.create("no-app",{appName:e});return t}function us(e,t,n){var r;let a=(r=kN[e])!==null&&r!==void 0?r:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fr.warn(f.join(" "));return}Bo(new Aa(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="firebase-heartbeat-database",zN=1,Ku="firebase-heartbeat-store";let Hp=null;function kS(){return Hp||(Hp=rN(BN,zN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ku)}catch(n){console.warn(n)}}}}).catch(e=>{throw ls.create("idb-open",{originalErrorMessage:e.message})})),Hp}async function FN(e){try{const n=(await kS()).transaction(Ku),r=await n.objectStore(Ku).get(LS(e));return await n.done,r}catch(t){if(t instanceof _r)fr.warn(t.message);else{const n=ls.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});fr.warn(n.message)}}}async function EE(e,t){try{const r=(await kS()).transaction(Ku,"readwrite");await r.objectStore(Ku).put(t,LS(e)),await r.done}catch(n){if(n instanceof _r)fr.warn(n.message);else{const r=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(r.message)}}}function LS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=1024,HN=30;class GN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=bE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>HN){const c=QN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bE(),{heartbeatsToSend:r,unsentEntries:a}=KN(this._heartbeatsCache.heartbeats),l=Cf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return fr.warn(n),""}}}function bE(){return new Date().toISOString().substring(0,10)}function KN(e,t=qN){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),AE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),AE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PD()?VD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return EE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return EE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function AE(e){return Cf(JSON.stringify({version:2,heartbeats:e})).length}function QN(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(e){Bo(new Aa("platform-logger",t=>new oN(t),"PRIVATE")),Bo(new Aa("heartbeat",t=>new GN(t),"PRIVATE")),us(gg,_E,e),us(gg,_E,"esm2017"),us("fire-js","")}$N("");function py(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function US(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XN=US,jS=new fc("auth","Firebase",US());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new fy("@firebase/auth");function WN(e,...t){Df.logLevel<=Lt.WARN&&Df.warn(`Auth (${tl}): ${e}`,...t)}function hf(e,...t){Df.logLevel<=Lt.ERROR&&Df.error(`Auth (${tl}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(e,...t){throw gy(e,...t)}function wi(e,...t){return gy(e,...t)}function BS(e,t,n){const r=Object.assign(Object.assign({},XN()),{[t]:n});return new fc("auth","Firebase",r).create(t,{appName:e.name})}function cr(e){return BS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gy(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return jS.create(e,...t)}function Tt(e,t,...n){if(!e)throw gy(t,...n)}function or(e){const t="INTERNAL ASSERTION FAILED: "+e;throw hf(t),new Error(t)}function dr(e,t){e||or(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function ZN(){return SE()==="http:"||SE()==="https:"}function SE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZN()||ID()||"connection"in navigator)?navigator.onLine:!0}function tO(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t,n){this.shortDelay=t,this.longDelay=n,dr(n>t,"Short delay should be less than long delay!"),this.isMobile=RD()||DD()}get(){return JN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(e,t){dr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iO=new mc(3e4,6e4);function Tr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Pi(e,t,n,r,a={}){return FS(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const f=dc(Object.assign({key:e.config.apiKey},c)).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p=Object.assign({method:t,headers:m},l);return CD()||(p.referrerPolicy="no-referrer"),zS.fetch()(await qS(e,e.config.apiHost,n,f),p)})}async function FS(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},eO),t);try{const a=new sO(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Jh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Jh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Jh(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw BS(e,y,p);si(e,y)}}catch(a){if(a instanceof _r)throw a;si(e,"network-request-failed",{message:String(a)})}}async function pc(e,t,n,r,a={}){const l=await Pi(e,t,n,r,a);return"mfaPendingCredential"in l&&si(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function qS(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?yy(e.config,a):`${e.config.apiScheme}://${a}`;return nO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function rO(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),iO.get())})}}function Jh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=wi(e,t,r);return a.customData._tokenResponse=n,a}function wE(e){return e!==void 0&&e.enterprise!==void 0}class aO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return rO(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oO(e,t){return Pi(e,"GET","/v2/recaptchaConfig",Tr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(e,t){return Pi(e,"POST","/v1/accounts:delete",t)}async function Nf(e,t){return Pi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uO(e,t=!1){const n=xe(e),r=await n.getIdToken(t),a=vy(r);Tt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Ou(Gp(a.auth_time)),issuedAtTime:Ou(Gp(a.iat)),expirationTime:Ou(Gp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Gp(e){return Number(e)*1e3}function vy(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const a=CS(n);return a?JSON.parse(a):(hf("Failed to decode base64 JWT payload"),null)}catch(a){return hf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function RE(e){const t=vy(e);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof _r&&cO(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function cO({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(e){var t;const n=e.auth,r=await e.getIdToken(),a=await zo(e,Nf(n,{idToken:r}));Tt(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?HS(l.providerUserInfo):[],f=dO(e.providerData,c),m=e.isAnonymous,p=!(e.email&&l.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Tg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(e,_)}async function fO(e){const t=xe(e);await Of(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function dO(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function HS(e){return e.map(t=>{var{providerId:n}=t,r=py(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(e,t){const n=await FS(e,{},async()=>{const r=dc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await qS(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",zS.fetch()(c,{method:"POST",headers:f,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pO(e,t){return Pi(e,"POST","/v2/accounts:revokeToken",Tr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):RE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=RE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await mO(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Mo;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(Tt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Tt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e,t){Tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ri{constructor(t){var{uid:n,auth:r,stsTokenManager:a}=t,l=py(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Tg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await zo(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return uO(this,t)}reload(){return fO(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ri(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Of(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(cr(this.auth));const t=await this.getIdToken();return await zo(this,lO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,a,l,c,f,m,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(a=n.email)!==null&&a!==void 0?a:void 0,w=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=n.photoURL)!==null&&c!==void 0?c:void 0,L=(f=n.tenantId)!==null&&f!==void 0?f:void 0,M=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,K=(p=n.createdAt)!==null&&p!==void 0?p:void 0,Z=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:G,emailVerified:at,isAnonymous:W,providerData:ut,stsTokenManager:N}=n;Tt(G&&N,t,"internal-error");const R=Mo.fromJSON(this.name,N);Tt(typeof G=="string",t,"internal-error"),Xr(_,t.name),Xr(b,t.name),Tt(typeof at=="boolean",t,"internal-error"),Tt(typeof W=="boolean",t,"internal-error"),Xr(w,t.name),Xr(O,t.name),Xr(L,t.name),Xr(M,t.name),Xr(K,t.name),Xr(Z,t.name);const x=new ri({uid:G,auth:t,email:b,emailVerified:at,displayName:_,isAnonymous:W,photoURL:O,phoneNumber:w,tenantId:L,stsTokenManager:R,createdAt:K,lastLoginAt:Z});return ut&&Array.isArray(ut)&&(x.providerData=ut.map(V=>Object.assign({},V))),M&&(x._redirectEventId=M),x}static async _fromIdTokenResponse(t,n,r=!1){const a=new Mo;a.updateFromServerResponse(n);const l=new ri({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Of(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];Tt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?HS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Mo;f.updateFromIdToken(r);const m=new ri({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Tg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;function lr(e){dr(e instanceof Function,"Expected a class definition");let t=xE.get(e);return t?(dr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,xE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}GS.type="NONE";const CE=GS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(e,t,n){return`firebase:${e}:${t}:${n}`}class ko{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=ff(this.userKey,a.apiKey,l),this.fullPersistenceKey=ff("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Nf(this.auth,{idToken:t}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ko(lr(CE),t,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||lr(CE);const c=ff(r,t.config.apiKey,t.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const b=await Nf(t,{idToken:y}).catch(()=>{});if(!b)break;_=await ri._fromGetAccountInfoResponse(t,b,y)}else _=ri._fromJSON(t,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ko(l,t,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new ko(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($S(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(KS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(WS(t))return"Blackberry";if(ZS(t))return"Webos";if(YS(t))return"Safari";if((t.includes("chrome/")||QS(t))&&!t.includes("edge/"))return"Chrome";if(XS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KS(e=ln()){return/firefox\//i.test(e)}function YS(e=ln()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function QS(e=ln()){return/crios\//i.test(e)}function $S(e=ln()){return/iemobile/i.test(e)}function XS(e=ln()){return/android/i.test(e)}function WS(e=ln()){return/blackberry/i.test(e)}function ZS(e=ln()){return/webos/i.test(e)}function _y(e=ln()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gO(e=ln()){var t;return _y(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function yO(){return ND()&&document.documentMode===10}function JS(e=ln()){return _y(e)||XS(e)||ZS(e)||WS(e)||/windows phone/i.test(e)||$S(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(e,t=[]){let n;switch(e){case"Browser":n=IE(ln());break;case"Worker":n=`${IE(ln())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(e,t={}){return Pi(e,"GET","/v2/passwordPolicy",Tr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=6;class EO{constructor(t){var n,r,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:TO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new vO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await ko.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Nf(this,{idToken:t}),r=await ri._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Of(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(cr(this));const n=t?xe(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _O(this),n=new EO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new fc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pO(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&lr(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=tw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&WN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ss(e){return xe(e)}class DE{constructor(t){this.auth=t,this.observer=null,this.addObserver=jD(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AO(e){ad=e}function ew(e){return ad.loadJS(e)}function SO(){return ad.recaptchaEnterpriseScript}function wO(){return ad.gapiScript}function RO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class xO{constructor(){this.enterprise=new CO}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class CO{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const IO="recaptcha-enterprise",nw="NO_RECAPTCHA";class DO{constructor(t){this.type=IO,this.auth=Ss(t)}async verify(t="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{oO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new aO(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;wE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(nw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!n&&wE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=SO();m.length!==0&&(m+=f),ew(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function NE(e,t,n,r=!1,a=!1){const l=new DO(e);let c;if(a)c=nw;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Pf(e,t,n,r,a){var l;if(!((l=e._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await NE(e,t,n,n==="getOobCode");return r(e,c)}else return r(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await NE(e,t,n,n==="getOobCode");return r(e,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(e,t){const n=my(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ba(l,t??{}))return a;si(a,"already-initialized")}return n.initialize({options:t})}function OO(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function PO(e,t,n){const r=Ss(e);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=iw(t),{host:c,port:f}=VO(t),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(ba(p,r.config.emulator)&&ba(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,MO()}function iw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function VO(e){const t=iw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:OE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:OE(c)}}}function OE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function MO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(t){return or("not implemented")}_linkToIdToken(t,n){return or("not implemented")}_getReauthenticationResolver(t){return or("not implemented")}}async function kO(e,t){return Pi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(e,t){return pc(e,"POST","/v1/accounts:signInWithPassword",Tr(e,t))}async function UO(e,t){return Pi(e,"POST","/v1/accounts:sendOobCode",Tr(e,t))}async function jO(e,t){return UO(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(e,t){return pc(e,"POST","/v1/accounts:signInWithEmailLink",Tr(e,t))}async function zO(e,t){return pc(e,"POST","/v1/accounts:signInWithEmailLink",Tr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends Ty{constructor(t,n,r,a=null){super("password",r),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new Yu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Yu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pf(t,n,"signInWithPassword",LO);case"emailLink":return BO(t,{email:this._email,oobCode:this._password});default:si(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pf(t,r,"signUpPassword",kO);case"emailLink":return zO(t,{idToken:n,email:this._email,oobCode:this._password});default:si(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(e,t){return pc(e,"POST","/v1/accounts:signInWithIdp",Tr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="http://localhost";class Sa extends Ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=n,l=py(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Sa(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Lo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Lo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Lo(t,n)}buildRequest(){const t={requestUri:FO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=dc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HO(e){const t=Au(Su(e)).link,n=t?Au(Su(t)).deep_link_id:null,r=Au(Su(e)).deep_link_id;return(r?Au(Su(r)).link:null)||r||n||t||e}class Ey{constructor(t){var n,r,a,l,c,f;const m=Au(Su(t)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,_=qO((a=m.mode)!==null&&a!==void 0?a:null);Tt(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(t){const n=HO(t);try{return new Ey(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.providerId=el.PROVIDER_ID}static credential(t,n){return Yu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Ey.parseLink(n);return Tt(r,"argument-error"),Yu._fromEmailAndCode(t,r.code,r.tenantId)}}el.PROVIDER_ID="password";el.EMAIL_PASSWORD_SIGN_IN_METHOD="password";el.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends rw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends gc{constructor(){super("facebook.com")}static credential(t){return Sa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Sa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return es.credential(n,r)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends gc{constructor(){super("github.com")}static credential(t){return Sa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ns.credential(t.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends gc{constructor(){super("twitter.com")}static credential(t,n){return Sa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return is.credential(n,r)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(e,t){return pc(e,"POST","/v1/accounts:signUp",Tr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await ri._fromIdTokenResponse(t,r,a),c=PE(r);return new wa({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=PE(r);return new wa({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function PE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends _r{constructor(t,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Vf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new Vf(t,n,r,a)}}function sw(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Vf._fromErrorAndOperation(e,l,t,r):l})}async function KO(e,t,n=!1){const r=await zo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return wa._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(e,t,n=!1){const{auth:r}=e;if(Yn(r.app))return Promise.reject(cr(r));const a="reauthenticate";try{const l=await zo(e,sw(r,a,t,e),n);Tt(l.idToken,r,"internal-error");const c=vy(l.idToken);Tt(c,r,"internal-error");const{sub:f}=c;return Tt(e.uid===f,r,"user-mismatch"),wa._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&si(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(e,t,n=!1){if(Yn(e.app))return Promise.reject(cr(e));const r="signIn",a=await sw(e,r,t),l=await wa._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}async function QO(e,t){return aw(Ss(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(e){const t=Ss(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function $O(e,t,n){const r=Ss(e);await Pf(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",jO)}async function XO(e,t,n){if(Yn(e.app))return Promise.reject(cr(e));const r=Ss(e),c=await Pf(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&ow(e),m}),f=await wa._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function WO(e,t,n){return Yn(e.app)?Promise.reject(cr(e)):QO(xe(e),el.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ow(e),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(e,t){return Pi(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VE(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=xe(e),l={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},c=await zo(r,ZO(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function JO(e,t,n,r){return xe(e).onIdTokenChanged(t,n,r)}function tP(e,t,n){return xe(e).beforeAuthStateChanged(t,n)}function eP(e,t,n,r){return xe(e).onAuthStateChanged(t,n,r)}function nP(e){return xe(e).signOut()}const Mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mf,"1"),this.storage.removeItem(Mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=1e3,rP=10;class uw extends lw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);yO()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,rP):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},iP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}uw.type="LOCAL";const sP=uw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends lw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}cw.type="SESSION";const hw=cw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new od(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await aP(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=by("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function lP(e){Ri().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function uP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cP(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function hP(){return fw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="firebaseLocalStorageDb",fP=1,kf="firebaseLocalStorage",mw="fbase_key";class yc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(e,t){return e.transaction([kf],t?"readwrite":"readonly").objectStore(kf)}function dP(){const e=indexedDB.deleteDatabase(dw);return new yc(e).toPromise()}function Eg(){const e=indexedDB.open(dw,fP);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(kf,{keyPath:mw})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(kf)?t(r):(r.close(),await dP(),t(await Eg()))})})}async function ME(e,t,n){const r=ld(e,!0).put({[mw]:t,value:n});return new yc(r).toPromise()}async function mP(e,t){const n=ld(e,!1).get(t),r=await new yc(n).toPromise();return r===void 0?null:r.value}function kE(e,t){const n=ld(e,!0).delete(t);return new yc(n).toPromise()}const pP=800,gP=3;class pw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>gP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(hP()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await uP(),!this.activeServiceWorker)return;this.sender=new oP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Eg();return await ME(t,Mf,"1"),await kE(t,Mf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ME(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>mP(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=ld(a,!1).getAll();return new yc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pw.type="LOCAL";const yP=pw;new mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(e,t){return t?lr(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay extends Ty{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Lo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Lo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Lo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function _P(e){return aw(e.auth,new Ay(e),e.bypassAuthState)}function TP(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),YO(n,new Ay(e),e.bypassAuthState)}async function EP(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),KO(n,new Ay(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _P;case"linkViaPopup":case"linkViaRedirect":return EP;case"reauthViaPopup":case"reauthViaRedirect":return TP;default:si(this.auth,"internal-error")}}resolve(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new mc(2e3,1e4);class Io extends gw{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const t=by();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,bP.get())};t()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="pendingRedirect",df=new Map;class SP extends gw{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=df.get(this.auth._key());if(!t){try{const r=await wP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}df.set(this.auth._key(),t)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wP(e,t){const n=CP(t),r=xP(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function RP(e,t){df.set(e._key(),t)}function xP(e){return lr(e._redirectPersistence)}function CP(e){return ff(AP,e.config.apiKey,e.name)}async function IP(e,t,n=!1){if(Yn(e.app))return Promise.reject(cr(e));const r=Ss(e),a=vP(r,t),c=await new SP(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=10*60*1e3;class NP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!OP(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!yw(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wi(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DP&&this.cachedEventUids.clear(),this.cachedEventUids.has(LE(t))}saveEventToCache(t){this.cachedEventUids.add(LE(t)),this.lastProcessedEventTime=Date.now()}}function LE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function yw({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function OP(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yw(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(e,t={}){return Pi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MP=/^https?/;async function kP(e){if(e.config.emulator)return;const{authorizedDomains:t}=await PP(e);for(const n of t)try{if(LP(n))return}catch{}si(e,"unauthorized-domain")}function LP(e){const t=_g(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!MP.test(n))return!1;if(VP.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new mc(3e4,6e4);function UE(){const e=Ri().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function jP(e){return new Promise((t,n)=>{var r,a,l;function c(){UE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{UE(),n(wi(e,"network-request-failed"))},timeout:UP.get()})}if(!((a=(r=Ri().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Ri().gapi)===null||l===void 0)&&l.load)c();else{const f=RO("iframefcb");return Ri()[f]=()=>{gapi.load?c():n(wi(e,"network-request-failed"))},ew(`${wO()}?onload=${f}`).catch(m=>n(m))}}).catch(t=>{throw mf=null,t})}let mf=null;function BP(e){return mf=mf||jP(e),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new mc(5e3,15e3),FP="__/auth/iframe",qP="emulator/auth/iframe",HP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KP(e){const t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?yy(t,qP):`https://${e.config.authDomain}/${FP}`,r={apiKey:t.apiKey,appName:e.name,v:tl},a=GP.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${dc(r).slice(1)}`}async function YP(e){const t=await BP(e),n=Ri().gapi;return Tt(n,e,"internal-error"),t.open({where:document.body,url:KP(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HP,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=wi(e,"network-request-failed"),f=Ri().setTimeout(()=>{l(c)},zP.get());function m(){Ri().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$P=500,XP=600,WP="_blank",ZP="http://localhost";class jE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JP(e,t,n,r=$P,a=XP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},QP),{width:r.toString(),height:a.toString(),top:l,left:c}),p=ln().toLowerCase();n&&(f=QS(p)?WP:n),KS(p)&&(t=t||ZP,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[w,O])=>`${b}${w}=${O},`,"");if(gO(p)&&f!=="_self")return tV(t||"",f),new jE(null);const _=window.open(t||"",f,y);Tt(_,e,"popup-blocked");try{_.focus()}catch{}return new jE(_)}function tV(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV="__/auth/handler",nV="emulator/auth/handler",iV=encodeURIComponent("fac");async function BE(e,t,n,r,a,l){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:tl,eventId:a};if(t instanceof rw){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",UD(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof gc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await e._getAppCheckToken(),p=m?`#${iV}=${encodeURIComponent(m)}`:"";return`${rV(e)}?${dc(f).slice(1)}${p}`}function rV({config:e}){return e.emulator?yy(e,nV):`https://${e.authDomain}/${eV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="webStorageSupport";class sV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hw,this._completeRedirectFn=IP,this._overrideRedirectResult=RP}async _openPopup(t,n,r,a){var l;dr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await BE(t,n,r,_g(),a);return JP(t,c,by())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await BE(t,n,r,_g(),a);return lP(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(dr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await YP(t),r=new NP(t);return n.register("authEvent",a=>(Tt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Kp,{type:Kp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Kp];c!==void 0&&n(!!c),si(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kP(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return JS()||YS()||_y()}}const aV=sV;var zE="@firebase/auth",FE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uV(e){Bo(new Aa("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tw(e)},p=new bO(r,a,l,m);return OO(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Bo(new Aa("auth-internal",t=>{const n=Ss(t.getProvider("auth").getImmediate());return(r=>new oV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(zE,FE,lV(e)),us(zE,FE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=5*60,hV=NS("authIdTokenMaxAge")||cV;let qE=null;const fV=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hV)return;const a=n==null?void 0:n.token;qE!==a&&(qE=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function dV(e=MS()){const t=my(e,"auth");if(t.isInitialized())return t.getImmediate();const n=NO(e,{popupRedirectResolver:aV,persistence:[yP,sP,hw]}),r=NS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=fV(l.toString());tP(n,c,()=>c(n.currentUser)),JO(n,f=>c(f))}}const a=IS("auth");return a&&PO(n,`http://${a}`),n}function mV(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}AO({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=wi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",mV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uV("Browser");var pV="firebase",gV="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(pV,gV,"app");var HE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,vw;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,R){function x(){}x.prototype=R.prototype,N.D=R.prototype,N.prototype=new x,N.prototype.constructor=N,N.C=function(V,U,B){for(var I=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)I[ae-2]=arguments[ae];return R.prototype[U].apply(V,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,R,x){x||(x=0);var V=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)V[U]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(U=0;16>U;++U)V[U]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=N.g[0],x=N.g[1],U=N.g[2];var B=N.g[3],I=R+(B^x&(U^B))+V[0]+3614090360&4294967295;R=x+(I<<7&4294967295|I>>>25),I=B+(U^R&(x^U))+V[1]+3905402710&4294967295,B=R+(I<<12&4294967295|I>>>20),I=U+(x^B&(R^x))+V[2]+606105819&4294967295,U=B+(I<<17&4294967295|I>>>15),I=x+(R^U&(B^R))+V[3]+3250441966&4294967295,x=U+(I<<22&4294967295|I>>>10),I=R+(B^x&(U^B))+V[4]+4118548399&4294967295,R=x+(I<<7&4294967295|I>>>25),I=B+(U^R&(x^U))+V[5]+1200080426&4294967295,B=R+(I<<12&4294967295|I>>>20),I=U+(x^B&(R^x))+V[6]+2821735955&4294967295,U=B+(I<<17&4294967295|I>>>15),I=x+(R^U&(B^R))+V[7]+4249261313&4294967295,x=U+(I<<22&4294967295|I>>>10),I=R+(B^x&(U^B))+V[8]+1770035416&4294967295,R=x+(I<<7&4294967295|I>>>25),I=B+(U^R&(x^U))+V[9]+2336552879&4294967295,B=R+(I<<12&4294967295|I>>>20),I=U+(x^B&(R^x))+V[10]+4294925233&4294967295,U=B+(I<<17&4294967295|I>>>15),I=x+(R^U&(B^R))+V[11]+2304563134&4294967295,x=U+(I<<22&4294967295|I>>>10),I=R+(B^x&(U^B))+V[12]+1804603682&4294967295,R=x+(I<<7&4294967295|I>>>25),I=B+(U^R&(x^U))+V[13]+4254626195&4294967295,B=R+(I<<12&4294967295|I>>>20),I=U+(x^B&(R^x))+V[14]+2792965006&4294967295,U=B+(I<<17&4294967295|I>>>15),I=x+(R^U&(B^R))+V[15]+1236535329&4294967295,x=U+(I<<22&4294967295|I>>>10),I=R+(U^B&(x^U))+V[1]+4129170786&4294967295,R=x+(I<<5&4294967295|I>>>27),I=B+(x^U&(R^x))+V[6]+3225465664&4294967295,B=R+(I<<9&4294967295|I>>>23),I=U+(R^x&(B^R))+V[11]+643717713&4294967295,U=B+(I<<14&4294967295|I>>>18),I=x+(B^R&(U^B))+V[0]+3921069994&4294967295,x=U+(I<<20&4294967295|I>>>12),I=R+(U^B&(x^U))+V[5]+3593408605&4294967295,R=x+(I<<5&4294967295|I>>>27),I=B+(x^U&(R^x))+V[10]+38016083&4294967295,B=R+(I<<9&4294967295|I>>>23),I=U+(R^x&(B^R))+V[15]+3634488961&4294967295,U=B+(I<<14&4294967295|I>>>18),I=x+(B^R&(U^B))+V[4]+3889429448&4294967295,x=U+(I<<20&4294967295|I>>>12),I=R+(U^B&(x^U))+V[9]+568446438&4294967295,R=x+(I<<5&4294967295|I>>>27),I=B+(x^U&(R^x))+V[14]+3275163606&4294967295,B=R+(I<<9&4294967295|I>>>23),I=U+(R^x&(B^R))+V[3]+4107603335&4294967295,U=B+(I<<14&4294967295|I>>>18),I=x+(B^R&(U^B))+V[8]+1163531501&4294967295,x=U+(I<<20&4294967295|I>>>12),I=R+(U^B&(x^U))+V[13]+2850285829&4294967295,R=x+(I<<5&4294967295|I>>>27),I=B+(x^U&(R^x))+V[2]+4243563512&4294967295,B=R+(I<<9&4294967295|I>>>23),I=U+(R^x&(B^R))+V[7]+1735328473&4294967295,U=B+(I<<14&4294967295|I>>>18),I=x+(B^R&(U^B))+V[12]+2368359562&4294967295,x=U+(I<<20&4294967295|I>>>12),I=R+(x^U^B)+V[5]+4294588738&4294967295,R=x+(I<<4&4294967295|I>>>28),I=B+(R^x^U)+V[8]+2272392833&4294967295,B=R+(I<<11&4294967295|I>>>21),I=U+(B^R^x)+V[11]+1839030562&4294967295,U=B+(I<<16&4294967295|I>>>16),I=x+(U^B^R)+V[14]+4259657740&4294967295,x=U+(I<<23&4294967295|I>>>9),I=R+(x^U^B)+V[1]+2763975236&4294967295,R=x+(I<<4&4294967295|I>>>28),I=B+(R^x^U)+V[4]+1272893353&4294967295,B=R+(I<<11&4294967295|I>>>21),I=U+(B^R^x)+V[7]+4139469664&4294967295,U=B+(I<<16&4294967295|I>>>16),I=x+(U^B^R)+V[10]+3200236656&4294967295,x=U+(I<<23&4294967295|I>>>9),I=R+(x^U^B)+V[13]+681279174&4294967295,R=x+(I<<4&4294967295|I>>>28),I=B+(R^x^U)+V[0]+3936430074&4294967295,B=R+(I<<11&4294967295|I>>>21),I=U+(B^R^x)+V[3]+3572445317&4294967295,U=B+(I<<16&4294967295|I>>>16),I=x+(U^B^R)+V[6]+76029189&4294967295,x=U+(I<<23&4294967295|I>>>9),I=R+(x^U^B)+V[9]+3654602809&4294967295,R=x+(I<<4&4294967295|I>>>28),I=B+(R^x^U)+V[12]+3873151461&4294967295,B=R+(I<<11&4294967295|I>>>21),I=U+(B^R^x)+V[15]+530742520&4294967295,U=B+(I<<16&4294967295|I>>>16),I=x+(U^B^R)+V[2]+3299628645&4294967295,x=U+(I<<23&4294967295|I>>>9),I=R+(U^(x|~B))+V[0]+4096336452&4294967295,R=x+(I<<6&4294967295|I>>>26),I=B+(x^(R|~U))+V[7]+1126891415&4294967295,B=R+(I<<10&4294967295|I>>>22),I=U+(R^(B|~x))+V[14]+2878612391&4294967295,U=B+(I<<15&4294967295|I>>>17),I=x+(B^(U|~R))+V[5]+4237533241&4294967295,x=U+(I<<21&4294967295|I>>>11),I=R+(U^(x|~B))+V[12]+1700485571&4294967295,R=x+(I<<6&4294967295|I>>>26),I=B+(x^(R|~U))+V[3]+2399980690&4294967295,B=R+(I<<10&4294967295|I>>>22),I=U+(R^(B|~x))+V[10]+4293915773&4294967295,U=B+(I<<15&4294967295|I>>>17),I=x+(B^(U|~R))+V[1]+2240044497&4294967295,x=U+(I<<21&4294967295|I>>>11),I=R+(U^(x|~B))+V[8]+1873313359&4294967295,R=x+(I<<6&4294967295|I>>>26),I=B+(x^(R|~U))+V[15]+4264355552&4294967295,B=R+(I<<10&4294967295|I>>>22),I=U+(R^(B|~x))+V[6]+2734768916&4294967295,U=B+(I<<15&4294967295|I>>>17),I=x+(B^(U|~R))+V[13]+1309151649&4294967295,x=U+(I<<21&4294967295|I>>>11),I=R+(U^(x|~B))+V[4]+4149444226&4294967295,R=x+(I<<6&4294967295|I>>>26),I=B+(x^(R|~U))+V[11]+3174756917&4294967295,B=R+(I<<10&4294967295|I>>>22),I=U+(R^(B|~x))+V[2]+718787259&4294967295,U=B+(I<<15&4294967295|I>>>17),I=x+(B^(U|~R))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(U+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+B&4294967295}r.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var x=R-this.blockSize,V=this.B,U=this.h,B=0;B<R;){if(U==0)for(;B<=x;)a(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<R;)if(V[U++]=N.charCodeAt(B++),U==this.blockSize){a(this,V),U=0;break}}else for(;B<R;)if(V[U++]=N[B++],U==this.blockSize){a(this,V),U=0;break}}this.h=U,this.o+=R},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var x=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=x&255,x/=256;for(this.u(N),N=Array(16),R=x=0;4>R;++R)for(var V=0;32>V;V+=8)N[x++]=this.g[R]>>>V&255;return N};function l(N,R){var x=f;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=R(N)}function c(N,R){this.h=R;for(var x=[],V=!0,U=N.length-1;0<=U;U--){var B=N[U]|0;V&&B==R||(x[U]=B,V=!1)}this.g=x}var f={};function m(N){return-128<=N&&128>N?l(N,function(R){return new c([R|0],0>R?-1:0)}):new c([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return M(p(-N));for(var R=[],x=1,V=0;N>=x;V++)R[V]=N/x|0,x*=4294967296;return new c(R,0)}function y(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return M(y(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(R,8)),V=_,U=0;U<N.length;U+=8){var B=Math.min(8,N.length-U),I=parseInt(N.substring(U,U+B),R);8>B?(B=p(Math.pow(R,B)),V=V.j(B).add(p(I))):(V=V.j(x),V=V.add(p(I)))}return V}var _=m(0),b=m(1),w=m(16777216);e=c.prototype,e.m=function(){if(L(this))return-M(this).m();for(var N=0,R=1,x=0;x<this.g.length;x++){var V=this.i(x);N+=(0<=V?V:4294967296+V)*R,R*=4294967296}return N},e.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(O(this))return"0";if(L(this))return"-"+M(this).toString(N);for(var R=p(Math.pow(N,6)),x=this,V="";;){var U=at(x,R).g;x=K(x,U.j(R));var B=((0<x.g.length?x.g[0]:x.h)>>>0).toString(N);if(x=U,O(x))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},e.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function O(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function L(N){return N.h==-1}e.l=function(N){return N=K(this,N),L(N)?-1:O(N)?0:1};function M(N){for(var R=N.g.length,x=[],V=0;V<R;V++)x[V]=~N.g[V];return new c(x,~N.h).add(b)}e.abs=function(){return L(this)?M(this):this},e.add=function(N){for(var R=Math.max(this.g.length,N.g.length),x=[],V=0,U=0;U<=R;U++){var B=V+(this.i(U)&65535)+(N.i(U)&65535),I=(B>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);V=I>>>16,B&=65535,I&=65535,x[U]=I<<16|B}return new c(x,x[x.length-1]&-2147483648?-1:0)};function K(N,R){return N.add(M(R))}e.j=function(N){if(O(this)||O(N))return _;if(L(this))return L(N)?M(this).j(M(N)):M(M(this).j(N));if(L(N))return M(this.j(M(N)));if(0>this.l(w)&&0>N.l(w))return p(this.m()*N.m());for(var R=this.g.length+N.g.length,x=[],V=0;V<2*R;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<N.g.length;U++){var B=this.i(V)>>>16,I=this.i(V)&65535,ae=N.i(U)>>>16,St=N.i(U)&65535;x[2*V+2*U]+=I*St,Z(x,2*V+2*U),x[2*V+2*U+1]+=B*St,Z(x,2*V+2*U+1),x[2*V+2*U+1]+=I*ae,Z(x,2*V+2*U+1),x[2*V+2*U+2]+=B*ae,Z(x,2*V+2*U+2)}for(V=0;V<R;V++)x[V]=x[2*V+1]<<16|x[2*V];for(V=R;V<2*R;V++)x[V]=0;return new c(x,0)};function Z(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function G(N,R){this.g=N,this.h=R}function at(N,R){if(O(R))throw Error("division by zero");if(O(N))return new G(_,_);if(L(N))return R=at(M(N),R),new G(M(R.g),M(R.h));if(L(R))return R=at(N,M(R)),new G(M(R.g),R.h);if(30<N.g.length){if(L(N)||L(R))throw Error("slowDivide_ only works with positive integers.");for(var x=b,V=R;0>=V.l(N);)x=W(x),V=W(V);var U=ut(x,1),B=ut(V,1);for(V=ut(V,2),x=ut(x,2);!O(V);){var I=B.add(V);0>=I.l(N)&&(U=U.add(x),B=I),V=ut(V,1),x=ut(x,1)}return R=K(N,U.j(R)),new G(U,R)}for(U=_;0<=N.l(R);){for(x=Math.max(1,Math.floor(N.m()/R.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=p(x),I=B.j(R);L(I)||0<I.l(N);)x-=V,B=p(x),I=B.j(R);O(B)&&(B=b),U=U.add(B),N=K(N,I)}return new G(U,N)}e.A=function(N){return at(this,N).h},e.and=function(N){for(var R=Math.max(this.g.length,N.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)&N.i(V);return new c(x,this.h&N.h)},e.or=function(N){for(var R=Math.max(this.g.length,N.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)|N.i(V);return new c(x,this.h|N.h)},e.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)^N.i(V);return new c(x,this.h^N.h)};function W(N){for(var R=N.g.length+1,x=[],V=0;V<R;V++)x[V]=N.i(V)<<1|N.i(V-1)>>>31;return new c(x,N.h)}function ut(N,R){var x=R>>5;R%=32;for(var V=N.g.length-x,U=[],B=0;B<V;B++)U[B]=0<R?N.i(B+x)>>>R|N.i(B+x+1)<<32-R:N.i(B+x);return new c(U,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,cs=c}).apply(typeof HE<"u"?HE:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _w,wu,Tw,pf,bg,Ew,bw,Aw;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var T=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var F=h[S];if(!(F in T))break t;T=T[F]}h=h[h.length-1],S=T[h],v=v(S),v!=S&&v!=null&&t(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,S=!1,F={next:function(){if(!S&&T<h.length){var $=T++;return{value:v($,h[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),h.apply(v,F)}}return function(){return h.apply(v,arguments)}}function b(h,v,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function w(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function O(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(S,F,$){for(var lt=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)lt[jt-2]=arguments[jt];return v.prototype[F].apply(S,lt)}}function L(h){const v=h.length;if(0<v){const T=Array(v);for(let S=0;S<v;S++)T[S]=h[S];return T}return[]}function M(h,v){for(let T=1;T<arguments.length;T++){const S=arguments[T];if(m(S)){const F=h.length||0,$=S.length||0;h.length=F+$;for(let lt=0;lt<$;lt++)h[F+lt]=S[lt]}else h.push(S)}}class K{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Z(h){return/^[\s\xa0]*$/.test(h)}function G(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function at(h){return at[" "](h),h}at[" "]=function(){};var W=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ut(h,v,T){for(const S in h)v.call(T,h[S],S,h)}function N(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function R(h){const v={};for(const T in h)v[T]=h[T];return v}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,v){let T,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(T in S)h[T]=S[T];for(let $=0;$<x.length;$++)T=x[$],Object.prototype.hasOwnProperty.call(S,T)&&(h[T]=S[T])}}function U(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function B(h){f.setTimeout(()=>{throw h},0)}function I(){var h=Vt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ae{constructor(){this.h=this.g=null}add(v,T){const S=St.get();S.set(v,T),this.h?this.h.next=S:this.g=S,this.h=S}}var St=new K(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ht=!1,Vt=new ae,P=()=>{const h=f.Promise.resolve(void 0);st=()=>{h.then(rt)}};var rt=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(T){B(T)}var v=St;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ht=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h}();function Ot(h,v){if(ot.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(W){t:{try{at(v.nodeName);var F=!0;break t}catch{}F=!1}F||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:wt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ot.aa.h.call(this)}}O(Ot,ot);var wt={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),ee=0;function oi(h,v,T,S,F){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!S,this.ha=F,this.key=++ee,this.da=this.fa=!1}function Er(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Vi(h){this.src=h,this.g={},this.h=0}Vi.prototype.add=function(h,v,T,S,F){var $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);var lt=Ds(h,v,S,F);return-1<lt?(v=h[lt],T||(v.fa=!1)):(v=new oi(v,this.src,$,!!S,F),v.fa=T,h.push(v)),v};function Is(h,v){var T=v.type;if(T in h.g){var S=h.g[T],F=Array.prototype.indexOf.call(S,v,void 0),$;($=0<=F)&&Array.prototype.splice.call(S,F,1),$&&(Er(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ds(h,v,T,S){for(var F=0;F<h.length;++F){var $=h[F];if(!$.da&&$.listener==v&&$.capture==!!T&&$.ha==S)return F}return-1}var Ns="closure_lm_"+(1e6*Math.random()|0),hl={};function Cc(h,v,T,S,F){if(Array.isArray(v)){for(var $=0;$<v.length;$++)Cc(h,v[$],T,S,F);return null}return T=Ic(T),h&&h[ke]?h.K(v,T,p(S)?!!S.capture:!1,F):On(h,v,T,!1,S,F)}function On(h,v,T,S,F,$){if(!v)throw Error("Invalid event type");var lt=p(F)?!!F.capture:!!F,jt=Oa(h);if(jt||(h[Ns]=jt=new Vi(h)),T=jt.add(v,T,S,lt,$),T.proxy)return T;if(S=Pd(),T.proxy=S,S.src=h,S.listener=T,h.addEventListener)yt||(F=lt),F===void 0&&(F=!1),h.addEventListener(v.toString(),S,F);else if(h.attachEvent)h.attachEvent(Os(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Pd(){function h(T){return v.call(h.src,h.listener,T)}const v=Vd;return h}function fl(h,v,T,S,F){if(Array.isArray(v))for(var $=0;$<v.length;$++)fl(h,v[$],T,S,F);else S=p(S)?!!S.capture:!!S,T=Ic(T),h&&h[ke]?(h=h.i,v=String(v).toString(),v in h.g&&($=h.g[v],T=Ds($,T,S,F),-1<T&&(Er($[T]),Array.prototype.splice.call($,T,1),$.length==0&&(delete h.g[v],h.h--)))):h&&(h=Oa(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ds(v,T,S,F)),(T=-1<h?v[h]:null)&&Na(T))}function Na(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ke])Is(v.i,h);else{var T=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(T,S,h.capture):v.detachEvent?v.detachEvent(Os(T),S):v.addListener&&v.removeListener&&v.removeListener(S),(T=Oa(v))?(Is(T,h),T.h==0&&(T.src=null,v[Ns]=null)):Er(h)}}}function Os(h){return h in hl?hl[h]:hl[h]="on"+h}function Vd(h,v){if(h.da)h=!0;else{v=new Ot(v,this);var T=h.listener,S=h.ha||h.src;h.fa&&Na(h),h=T.call(S,v)}return h}function Oa(h){return h=h[Ns],h instanceof Vi?h:null}var dl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ic(h){return typeof h=="function"?h:(h[dl]||(h[dl]=function(v){return h.handleEvent(v)}),h[dl])}function he(){ct.call(this),this.i=new Vi(this),this.M=this,this.F=null}O(he,ct),he.prototype[ke]=!0,he.prototype.removeEventListener=function(h,v,T,S){fl(this,h,v,T,S)};function Yt(h,v){var T,S=h.F;if(S)for(T=[];S;S=S.F)T.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new ot(v,h);else if(v instanceof ot)v.target=v.target||h;else{var F=v;v=new ot(S,h),V(v,F)}if(F=!0,T)for(var $=T.length-1;0<=$;$--){var lt=v.g=T[$];F=bn(lt,S,!0,v)&&F}if(lt=v.g=h,F=bn(lt,S,!0,v)&&F,F=bn(lt,S,!1,v)&&F,T)for($=0;$<T.length;$++)lt=v.g=T[$],F=bn(lt,S,!1,v)&&F}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],S=0;S<T.length;S++)Er(T[S]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,T,S){return this.i.add(String(h),v,!1,T,S)},he.prototype.L=function(h,v,T,S){return this.i.add(String(h),v,!0,T,S)};function bn(h,v,T,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,$=0;$<v.length;++$){var lt=v[$];if(lt&&!lt.da&&lt.capture==T){var jt=lt.listener,Ie=lt.ha||lt.src;lt.fa&&Is(h.i,lt),F=jt.call(Ie,S)!==!1&&F}}return F&&!S.defaultPrevented}function Je(h,v,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Dc(h){h.g=Je(()=>{h.g=null,h.i&&(h.i=!1,Dc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Md extends ct{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Dc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(h){ct.call(this),this.h=h,this.g={}}O(Ps,ct);var Vs=[];function Ms(h){ut(h.g,function(v,T){this.g.hasOwnProperty(T)&&Na(v)},h),h.g={}}Ps.prototype.N=function(){Ps.aa.N.call(this),Ms(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=f.JSON.stringify,Pa=f.JSON.parse,ks=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function ml(){}ml.prototype.h=null;function pl(h){return h.h||(h.h=h.i())}function gl(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){ot.call(this,"d")}O(ki,ot);function yl(){ot.call(this,"c")}O(yl,ot);var li={},vl=null;function br(){return vl=vl||new he}li.La="serverreachability";function Va(h){ot.call(this,li.La,h)}O(Va,ot);function Ar(h){const v=br();Yt(v,new Va(v))}li.STAT_EVENT="statevent";function Nc(h,v){ot.call(this,li.STAT_EVENT,h),this.stat=v}O(Nc,ot);function re(h){const v=br();Yt(v,new Nc(v,h))}li.Ma="timingevent";function Ce(h,v){ot.call(this,li.Ma,h),this.size=v}O(Ce,ot);function Ee(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function _l(h,v,T,S,F,$){h.info(function(){if(h.g)if($)for(var lt="",jt=$.split("&"),Ie=0;Ie<jt.length;Ie++){var Bt=jt[Ie].split("=");if(1<Bt.length){var Ue=Bt[0];Bt=Bt[1];var De=Ue.split("_");lt=2<=De.length&&De[1]=="type"?lt+(Ue+"="+Bt+"&"):lt+(Ue+"=redacted&")}}else lt=null;else lt=$;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+v+`
`+T+`
`+lt})}function kd(h,v,T,S,F,$,lt){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+v+`
`+T+`
`+$+" "+lt})}function Sr(h,v,T,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ls(h,T)+(S?" "+S:"")})}function Oc(h,v){h.info(function(){return"TIMEOUT: "+v})}Pn.prototype.info=function(){};function Ls(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var S=T[h];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var lt=1;lt<F.length;lt++)F[lt]=""}}}}return Wn(T)}catch{return v}}var wr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function ci(){}O(ci,ml),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},ui=new ci;function un(h,v,T,S){this.j=h,this.i=v,this.l=T,this.R=S||1,this.U=new Ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var Tl={},Ma={};function Zn(h,v,T){h.L=1,h.v=Fs(An(v)),h.m=T,h.P=!0,Ui(h,null)}function Ui(h,v){h.F=Date.now(),Us(h),h.A=An(h.v);var T=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),Rl(T.i,"t",S),h.C=0,T=h.j.J,h.h=new pe,h.g=Qc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new Md(b(h.Y,h,h.g),h.O)),v=h.U,T=h.g,S=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(Vs[0]=F.toString()),F=Vs);for(var $=0;$<F.length;$++){var lt=Cc(T,F[$],S||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Ar(),_l(h.i,h.u,h.A,h.l,h.R,h.m)}un.prototype.ca=function(h){h=h.target;const v=this.M;v&&Ln(h)==3?v.j():this.Y(h)},un.prototype.Y=function(h){try{if(h==this.g)t:{const De=Ln(this.g);var v=this.g.Ba();const Ki=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||Bc(this.g)))){this.J||De!=4||v==7||(v==8||0>=Ki?Ar(3):Ar(2)),Rr(this);var T=this.g.Z();this.X=T;e:if(Pc(this)){var S=Bc(this.g);h="";var F=S.length,$=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),hi(this);var lt="";break e}this.h.i=new f.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,h+=this.h.i.decode(S[v],{stream:!($&&v==F-1)});S.length=0,this.h.g+=h,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=T==200,kd(this.i,this.u,this.A,this.l,this.R,De,T),this.o){if(this.T&&!this.K){e:{if(this.g){var jt,Ie=this.g;if((jt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(jt)){var Bt=jt;break e}}Bt=null}if(T=Bt)Sr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,js(this,T);else{this.o=!1,this.s=3,re(12),He(this),hi(this);break t}}if(this.P){T=!0;let Ge;for(;!this.J&&this.C<lt.length;)if(Ge=Vc(this,lt),Ge==Ma){De==4&&(this.s=4,re(14),T=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==Tl){this.s=4,re(15),Sr(this.i,this.l,lt,"[Invalid Chunk]"),T=!1;break}else Sr(this.i,this.l,Ge,null),js(this,Ge);if(Pc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||lt.length!=0||this.h.h||(this.s=1,re(16),T=!1),this.o=this.o&&T,!T)Sr(this.i,this.l,lt,"[Invalid Chunked Response]"),He(this),hi(this);else if(0<lt.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Xs(Ue),Ue.M=!0,re(11))}}else Sr(this.i,this.l,lt,null),js(this,lt);De==4&&He(this),this.o&&!this.J&&(De==4?Gc(this.j,this):(this.o=!1,Us(this)))}else zd(this.g),T==400&&0<lt.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),He(this),hi(this)}}}catch{}finally{}};function Pc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Vc(h,v){var T=h.C,S=v.indexOf(`
`,T);return S==-1?Ma:(T=Number(v.substring(T,S)),isNaN(T)?Tl:(S+=1,S+T>v.length?Ma:(v=v.slice(S,S+T),h.C=S+T,v)))}un.prototype.cancel=function(){this.J=!0,He(this)};function Us(h){h.S=Date.now()+h.I,Mc(h,h.I)}function Mc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ee(b(h.ba,h),v)}function Rr(h){h.B&&(f.clearTimeout(h.B),h.B=null)}un.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Oc(this.i,this.A),this.L!=2&&(Ar(),re(17)),He(this),this.s=2,hi(this)):Mc(this,this.S-h)};function hi(h){h.j.G==0||h.J||Gc(h.j,h)}function He(h){Rr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Ms(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function js(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||El(T.h,h))){if(!h.K&&El(T.h,h)&&T.G==3){try{var S=T.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Ya(T),Ga(T);else break t;Nl(T),re(18)}}else T.za=F[1],0<T.za-T.T&&37500>F[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ee(b(T.Za,T),6e3));if(1>=La(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Gi(T,11)}else if((h.K||T.g==h)&&Ya(T),!Z(v))for(F=T.Da.g.parse(v),v=0;v<F.length;v++){let Bt=F[v];if(T.T=Bt[0],Bt=Bt[1],T.G==2)if(Bt[0]=="c"){T.K=Bt[1],T.ia=Bt[2];const Ue=Bt[3];Ue!=null&&(T.la=Ue,T.j.info("VER="+T.la));const De=Bt[4];De!=null&&(T.Aa=De,T.j.info("SVER="+T.Aa));const Ki=Bt[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(S=1.5*Ki,T.L=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const Ge=h.g;if(Ge){const vi=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var $=S.h;$.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ua($,$.h),$.h=null))}if(S.D){const Pl=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Pl&&(S.ya=Pl,Xt(S.I,S.D,Pl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),S=T;var lt=h;if(S.qa=Yc(S,S.J?S.ia:null,S.W),lt.K){cn(S.h,lt);var jt=lt,Ie=S.L;Ie&&(jt.I=Ie),jt.B&&(Rr(jt),Us(jt)),S.g=lt}else qc(S);0<T.i.length&&Ka(T)}else Bt[0]!="stop"&&Bt[0]!="close"||Gi(T,7);else T.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Gi(T,7):Il(T):Bt[0]!="noop"&&T.l&&T.l.ta(Bt),T.v=0)}}Ar(4)}catch{}}var kc=class{constructor(h,v){this.g=h,this.map=v}};function ji(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function La(h){return h.h?1:h.g?h.g.size:0}function El(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ua(h,v){h.g?h.g.add(v):h.h=v}function cn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}ji.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function bl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return L(h.i)}function Ld(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,S=0;S<T;S++)v.push(h[S]);return v}v=[],T=0;for(S in h)v[T++]=h[S];return v}function ja(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const S in h)v[T++]=S;return v}}}function Al(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=ja(h),S=Ld(h),F=S.length,$=0;$<F;$++)v.call(void 0,S[$],T&&T[$],h)}var Bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ud(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var S=h[T].indexOf("="),F=null;if(0<=S){var $=h[T].substring(0,S);F=h[T].substring(S+1)}else $=h[T];v($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function be(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof be){this.h=h.h,zs(this,h.j),this.o=h.o,this.g=h.g,xr(this,h.s),this.l=h.l;var v=h.i,T=new zi;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Bi(this,T),this.m=h.m}else h&&(v=String(h).match(Bs))?(this.h=!1,zs(this,v[1]||"",!0),this.o=Vn(v[2]||""),this.g=Vn(v[3]||"",!0),xr(this,v[4]),this.l=Vn(v[5]||"",!0),Bi(this,v[6]||"",!0),this.m=Vn(v[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}be.prototype.toString=function(){var h=[],v=this.j;v&&h.push(qs(v,Sl,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(qs(v,Sl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(qs(T,T.charAt(0)=="/"?jd:wl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",qs(T,Ba)),h.join("")};function An(h){return new be(h)}function zs(h,v,T){h.j=T?Vn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function xr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Bi(h,v,T){v instanceof zi?(h.i=v,Uc(h.i,h.h)):(T||(v=qs(v,Bd)),h.i=new zi(v,h.h))}function Xt(h,v,T){h.i.set(v,T)}function Fs(h){return Xt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Vn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function qs(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Lc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Lc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Sl=/[#\/\?@]/g,wl=/[#\?:]/g,jd=/[#\?]/g,Bd=/[#\?@]/g,Ba=/#/g;function zi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Mn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ud(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}e=zi.prototype,e.add=function(h,v){Mn(this),this.i=null,h=fi(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Fi(h,v){Mn(h),v=fi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function qi(h,v){return Mn(h),v=fi(h,v),h.g.has(v)}e.forEach=function(h,v){Mn(this),this.g.forEach(function(T,S){T.forEach(function(F){h.call(v,F,S,this)},this)},this)},e.na=function(){Mn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let S=0;S<v.length;S++){const F=h[S];for(let $=0;$<F.length;$++)T.push(v[S])}return T},e.V=function(h){Mn(this);let v=[];if(typeof h=="string")qi(this,h)&&(v=v.concat(this.g.get(fi(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},e.set=function(h,v){return Mn(this),this.i=null,h=fi(this,h),qi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Rl(h,v,T){Fi(h,v),0<T.length&&(h.i=null,h.g.set(fi(h,v),L(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var S=v[T];const $=encodeURIComponent(String(S)),lt=this.V(S);for(S=0;S<lt.length;S++){var F=$;lt[S]!==""&&(F+="="+encodeURIComponent(String(lt[S]))),h.push(F)}}return this.i=h.join("&")};function fi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Uc(h,v){v&&!h.j&&(Mn(h),h.i=null,h.g.forEach(function(T,S){var F=S.toLowerCase();S!=F&&(Fi(this,S),Rl(this,F,T))},h)),h.j=v}function Hs(h,v){const T=new Pn;if(f.Image){const S=new Image;S.onload=w(kn,T,"TestLoadImage: loaded",!0,v,S),S.onerror=w(kn,T,"TestLoadImage: error",!1,v,S),S.onabort=w(kn,T,"TestLoadImage: abort",!1,v,S),S.ontimeout=w(kn,T,"TestLoadImage: timeout",!1,v,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function Jn(h,v){const T=new Pn,S=new AbortController,F=setTimeout(()=>{S.abort(),kn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then($=>{clearTimeout(F),$.ok?kn(T,"TestPingServer: ok",!0,v):kn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),kn(T,"TestPingServer: error",!1,v)})}function kn(h,v,T,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(T)}catch{}}function Gs(){this.g=new ks}function di(h,v,T){const S=T||"";try{Al(h,function(F,$){let lt=F;p(F)&&(lt=Wn(F)),v.push(S+$+"="+encodeURIComponent(lt))})}catch(F){throw v.push(S+"type="+encodeURIComponent("_badmap")),F}}function Cr(h){this.l=h.Ub||null,this.j=h.eb||!1}O(Cr,ml),Cr.prototype.g=function(){return new Hi(this.l,this.j)},Cr.prototype.i=function(h){return function(){return h}}({});function Hi(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Hi,he),e=Hi.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,pi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function xl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?mi(this):pi(this),this.readyState==3&&xl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,mi(this))},e.Qa=function(h){this.g&&(this.response=h,mi(this))},e.ga=function(){this.g&&mi(this)};function mi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,pi(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function pi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Cl(h){let v="";return ut(h,function(T,S){v+=S,v+=":",v+=T,v+=`\r
`}),v}function Le(h,v,T){t:{for(S in T){var S=!1;break t}S=!0}S||(T=Cl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Xt(h,v,T))}function Gt(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Gt,he);var za=/^https?$/i,Ks=["POST","PUT"];e=Gt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?pl(this.o):pl(ui),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch($){jc(this,$);return}if(h=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)T.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())T.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),F=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ks,v,void 0))||S||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,lt]of T)this.g.setRequestHeader($,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(h),this.u=!1}catch($){jc(this,$)}};function jc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Fa(h),gi(h)}function Fa(h){h.A||(h.A=!0,Yt(h,"complete"),Yt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Yt(this,"complete"),Yt(this,"abort"),gi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Gt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},e.bb=function(){qa(this)};function qa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Ln(h)!=4||h.Z()!=2)){if(h.u&&Ln(h)==4)Je(h.Ea,0,h);else if(Yt(h,"readystatechange"),Ln(h)==4){h.h=!1;try{const lt=h.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var S;if(S=lt===0){var F=String(h.D).match(Bs)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),S=!za.test(F?F.toLowerCase():"")}T=S}if(T)Yt(h,"complete"),Yt(h,"success");else{h.m=6;try{var $=2<Ln(h)?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.Z()+"]",Fa(h)}}finally{gi(h)}}}}function gi(h,v){if(h.g){Ys(h);const T=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Yt(h,"ready");try{T.onreadystatechange=S}catch{}}}function Ys(h){h.I&&(f.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Ln(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Pa(v)}};function Bc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function zd(h){const v={};h=(h.g&&2<=Ln(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(Z(h[S]))continue;var T=U(h[S]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=v[F]||[];v[F]=$,$.push(T)}N(v,function(S){return S.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Ha(h){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qs("baseRetryDelayMs",5e3,h),this.cb=Qs("retryDelaySeedMs",1e4,h),this.Wa=Qs("forwardChannelMaxRetries",2,h),this.wa=Qs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(h&&h.concurrentRequestLimit),this.Da=new Gs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ha.prototype,e.la=8,e.G=1,e.connect=function(h,v,T,S){re(0),this.W=h,this.H=v||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.I=Yc(this,null,this.W),Ka(this)};function Il(h){if(zc(h),h.G==3){var v=h.U++,T=An(h.I);if(Xt(T,"SID",h.K),Xt(T,"RID",v),Xt(T,"TYPE","terminate"),$s(h,T),v=new un(h,h.j,v),v.L=2,v.v=Fs(An(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=Qc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Us(v)}Kc(h)}function Ga(h){h.g&&(Xs(h),h.g.cancel(),h.g=null)}function zc(h){Ga(h),h.u&&(f.clearTimeout(h.u),h.u=null),Ya(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Ka(h){if(!ka(h.h)&&!h.s){h.s=!0;var v=h.Ga;st||P(),ht||(st(),ht=!0),Vt.add(v,h),h.B=0}}function Fd(h,v){return La(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ee(b(h.Ga,h,v),Ol(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new un(this,this.j,h);let $=this.o;if(this.S&&($?($=R($),V($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=Fc(this,F,v),T=An(this.I),Xt(T,"RID",h),Xt(T,"CVER",22),this.D&&Xt(T,"X-HTTP-Session-Id",this.D),$s(this,T),$&&(this.O?v="headers="+encodeURIComponent(String(Cl($)))+"&"+v:this.m&&Le(T,this.m,$)),Ua(this.h,F),this.Ua&&Xt(T,"TYPE","init"),this.P?(Xt(T,"$req",v),Xt(T,"SID","null"),F.T=!0,Zn(F,T,null)):Zn(F,T,v),this.G=2}}else this.G==3&&(h?Dl(this,h):this.i.length==0||ka(this.h)||Dl(this))};function Dl(h,v){var T;v?T=v.l:T=h.U++;const S=An(h.I);Xt(S,"SID",h.K),Xt(S,"RID",T),Xt(S,"AID",h.T),$s(h,S),h.m&&h.o&&Le(S,h.m,h.o),T=new un(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Fc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ua(h.h,T),Zn(T,S,v)}function $s(h,v){h.H&&ut(h.H,function(T,S){Xt(v,S,T)}),h.l&&Al({},function(T,S){Xt(v,S,T)})}function Fc(h,v,T){T=Math.min(h.i.length,T);var S=h.l?b(h.l.Na,h.l,h):null;t:{var F=h.i;let $=-1;for(;;){const lt=["count="+T];$==-1?0<T?($=F[0].g,lt.push("ofs="+$)):$=0:lt.push("ofs="+$);let jt=!0;for(let Ie=0;Ie<T;Ie++){let Bt=F[Ie].g;const Ue=F[Ie].map;if(Bt-=$,0>Bt)$=Math.max(0,F[Ie].g-100),jt=!1;else try{di(Ue,lt,"req"+Bt+"_")}catch{S&&S(Ue)}}if(jt){S=lt.join("&");break t}}}return h=h.i.splice(0,T),v.D=h,S}function qc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;st||P(),ht||(st(),ht=!0),Vt.add(v,h),h.v=0}}function Nl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ee(b(h.Fa,h),Ol(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ee(b(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),Ga(this),Hc(this))};function Xs(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Hc(h){h.g=new un(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=An(h.qa);Xt(v,"RID","rpc"),Xt(v,"SID",h.K),Xt(v,"AID",h.T),Xt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xt(v,"TO",h.ja),Xt(v,"TYPE","xmlhttp"),$s(h,v),h.m&&h.o&&Le(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Fs(An(v)),T.m=null,T.P=!0,Ui(T,h)}e.Za=function(){this.C!=null&&(this.C=null,Ga(this),Nl(this),re(19))};function Ya(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Gc(h,v){var T=null;if(h.g==v){Ya(h),Xs(h),h.g=null;var S=2}else if(El(h.h,v))T=v.D,cn(h.h,v),S=1;else return;if(h.G!=0){if(v.o)if(S==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var F=h.B;S=br(),Yt(S,new Ce(S,T)),Ka(h)}else qc(h);else if(F=v.s,F==3||F==0&&0<v.X||!(S==1&&Fd(h,v)||S==2&&Nl(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),F){case 1:Gi(h,5);break;case 4:Gi(h,10);break;case 3:Gi(h,6);break;default:Gi(h,2)}}}function Ol(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function Gi(h,v){if(h.j.info("Error code "+v),v==2){var T=b(h.fb,h),S=h.Xa;const F=!S;S=new be(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||zs(S,"https"),Fs(S),F?Hs(S.toString(),T):Jn(S.toString(),T)}else re(2);h.G=0,h.l&&h.l.sa(v),Kc(h),zc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Kc(h){if(h.G=0,h.ka=[],h.l){const v=bl(h.h);(v.length!=0||h.i.length!=0)&&(M(h.ka,v),M(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function Yc(h,v,T){var S=T instanceof be?An(T):new be(T);if(S.g!="")v&&(S.g=v+"."+S.g),xr(S,S.s);else{var F=f.location;S=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var $=new be(null);S&&zs($,S),v&&($.g=v),F&&xr($,F),T&&($.l=T),S=$}return T=h.D,v=h.ya,T&&v&&Xt(S,T,v),Xt(S,"VER",h.la),$s(h,S),S}function Qc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Gt(new Cr({eb:T})):new Gt(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function $c(){}e=$c.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Qa(){}Qa.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){he.call(this),this.g=new Ha(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Z(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Z(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new yi(this)}O(hn,he),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Il(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Wn(h),h=T);v.i.push(new kc(v.Ya++,h)),v.G==3&&Ka(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,hn.aa.N.call(this)};function Xc(h){ki.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const T in v){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}O(Xc,ki);function Wc(){yl.call(this),this.status=1}O(Wc,yl);function yi(h){this.g=h}O(yi,$c),yi.prototype.ua=function(){Yt(this.g,"a")},yi.prototype.ta=function(h){Yt(this.g,new Xc(h))},yi.prototype.sa=function(h){Yt(this.g,new Wc)},yi.prototype.ra=function(){Yt(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Aw=function(){return new Qa},bw=function(){return br()},Ew=li,bg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,pf=wr,Li.COMPLETE="complete",Tw=Li,gl.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",he.prototype.listen=he.prototype.K,wu=gl,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,_w=Gt}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const GE="@firebase/firestore",KE="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new fy("@firebase/firestore");function wo(){return Ra.logLevel}function ft(e,...t){if(Ra.logLevel<=Lt.DEBUG){const n=t.map(Sy);Ra.debug(`Firestore (${nl}): ${e}`,...n)}}function mr(e,...t){if(Ra.logLevel<=Lt.ERROR){const n=t.map(Sy);Ra.error(`Firestore (${nl}): ${e}`,...n)}}function Fo(e,...t){if(Ra.logLevel<=Lt.WARN){const n=t.map(Sy);Ra.warn(`Firestore (${nl}): ${e}`,...n)}}function Sy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Sw(e,r,n)}function Sw(e,t,n){let r=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mr(r),new Error(r)}function Kt(e,t,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,e||Sw(t,a,r)}function xt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends _r{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class vV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _V{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hs,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hs)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new ww(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class TV{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EV{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new TV(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bV{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const r=l=>{l.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new YE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new YE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=AV(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function Nt(e,t){return e<t?-1:e>t?1:0}function Ag(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return Nt(r,a);{const l=Rw(),c=SV(l.encode(QE(e,n)),l.encode(QE(t,n)));return c!==0?c:Nt(r,a)}}n+=r>65535?2:1}return Nt(e.length,t.length)}function QE(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function SV(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Nt(e[n],t[n]);return Nt(e.length,t.length)}function qo(e,t,n){return e.length===t.length&&e.every((r,a)=>n(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=-62135596800,XE=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*XE);return new Ve(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new dt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<$E)throw new dt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XE}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-$E;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Ve(0,0))}static max(){return new Rt(new Ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="__name__";class Si{constructor(t,n,r){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Et(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=Si.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Nt(t.length,n.length)}static compareSegments(t,n){const r=Si.isNumericId(t),a=Si.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Si.extractNumericId(t).compare(Si.extractNumericId(n)):Ag(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cs.fromString(t.substring(4,t.length-2))}}class ie extends Si{construct(t,n,r){return new ie(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new dt(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new ie(n)}static emptyPath(){return new ie([])}}const wV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Si{construct(t,n,r){return new We(t,n,r)}static isValidIdentifier(t){return wV.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WE}static keyField(){return new We([WE])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new dt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new dt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new dt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new dt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(n)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ie.fromString(t))}static fromName(t){return new gt(ie.fromString(t).popFirst(5))}static empty(){return new gt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=-1;function RV(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Rt.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new ds(a,gt.empty(),t)}function xV(e){return new ds(e.readTime,e.key,Qu)}class ds{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ds(Rt.min(),gt.empty(),Qu)}static max(){return new ds(Rt.max(),gt.empty(),Qu)}}function CV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(e.documentKey,t.documentKey),n!==0?n:Nt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(e){if(e.code!==it.FAILED_PRECONDITION||e.message!==IV)throw e;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.reject(n)}static resolve(t){return new nt((n,r)=>{n(t)})}static reject(t){return new nt((n,r)=>{r(t)})}static waitFor(t){return new nt((n,r)=>{let a=0,l=0,c=!1;t.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>r(m))}),c=!0,l===a&&n()})}static or(t){let n=nt.resolve(!1);for(const r of t)n=n.next(a=>a?nt.resolve(a):r());return n}static forEach(t,n){const r=[];return t.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(t,n){return new nt((r,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next(y=>{c[p]=y,++f,f===l&&r(c)},y=>a(y))}})}static doWhile(t,n){return new nt((r,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):r()};l()})}}function NV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}ud.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=-1;function cd(e){return e==null}function Lf(e){return e===0&&1/e==-1/0}function OV(e){return typeof e=="number"&&Number.isInteger(e)&&!Lf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="";function PV(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ZE(t)),t=VV(e.get(n),t);return ZE(t)}function VV(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case Cw:n+="";break;default:n+=l}}return n}function ZE(e){return e+Cw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ws(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Iw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Xe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ef(this.root,t,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ef(this.root,t,this.comparator,!0)}}class ef{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??Xe.RED,this.left=a??Xe.EMPTY,this.right=l??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new Xe(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Xe.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,r,a,l){return this}insert(t,n,r){return new Xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new tb(this.data.getIterator())}getIteratorFrom(t){return new tb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Me(this.comparator);return n.data=t,n}}class tb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Nn([])}unionWith(t){let n=new Me(We.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Nn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Dw("Invalid base64 string: "+l):l}}(t);return new Ze(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new Ze(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const MV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(e){if(Kt(!!e,39018),typeof e=="string"){let t=0;const n=MV.exec(e);if(Kt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_e(e.seconds),nanos:_e(e.nanos)}}function _e(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ps(e){return typeof e=="string"?Ze.fromBase64String(e):Ze.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="server_timestamp",Ow="__type__",Pw="__previous_value__",Vw="__local_write_time__";function Ry(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Ow])===null||n===void 0?void 0:n.stringValue)===Nw}function hd(e){const t=e.mapValue.fields[Pw];return Ry(t)?hd(t):t}function $u(e){const t=ms(e.mapValue.fields[Vw].timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(t,n,r,a,l,c,f,m,p){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p}}const Uf="(default)";class Xu{constructor(t,n){this.projectId=t,this.database=n||Uf}static empty(){return new Xu("","")}get isDefaultDatabase(){return this.database===Uf}isEqual(t){return t instanceof Xu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="__type__",LV="__max__",nf={mapValue:{}},kw="__vector__",jf="value";function gs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ry(e)?4:jV(e)?9007199254740991:UV(e)?10:11:Et(28295,{value:e})}function Oi(e,t){if(e===t)return!0;const n=gs(e);if(n!==gs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $u(e).isEqual($u(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ms(a.timestampValue),f=ms(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return ps(a.bytesValue).isEqual(ps(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return _e(a.geoPointValue.latitude)===_e(l.geoPointValue.latitude)&&_e(a.geoPointValue.longitude)===_e(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return _e(a.integerValue)===_e(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=_e(a.doubleValue),f=_e(l.doubleValue);return c===f?Lf(c)===Lf(f):isNaN(c)&&isNaN(f)}return!1}(e,t);case 9:return qo(e.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(JE(c)!==JE(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Oi(c[m],f[m])))return!1;return!0}(e,t);default:return Et(52216,{left:e})}}function Wu(e,t){return(e.values||[]).find(n=>Oi(n,t))!==void 0}function Ho(e,t){if(e===t)return 0;const n=gs(e),r=gs(t);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(e.booleanValue,t.booleanValue);case 2:return function(l,c){const f=_e(l.integerValue||l.doubleValue),m=_e(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(e,t);case 3:return eb(e.timestampValue,t.timestampValue);case 4:return eb($u(e),$u(t));case 5:return Ag(e.stringValue,t.stringValue);case 6:return function(l,c){const f=ps(l),m=ps(c);return f.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Nt(f[p],m[p]);if(y!==0)return y}return Nt(f.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const f=Nt(_e(l.latitude),_e(c.latitude));return f!==0?f:Nt(_e(l.longitude),_e(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return nb(e.arrayValue,t.arrayValue);case 10:return function(l,c){var f,m,p,y;const _=l.fields||{},b=c.fields||{},w=(f=_[jf])===null||f===void 0?void 0:f.arrayValue,O=(m=b[jf])===null||m===void 0?void 0:m.arrayValue,L=Nt(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0);return L!==0?L:nb(w,O)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===nf.mapValue&&c===nf.mapValue)return 0;if(l===nf.mapValue)return 1;if(c===nf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=Ag(m[_],y[_]);if(b!==0)return b;const w=Ho(f[m[_]],p[y[_]]);if(w!==0)return w}return Nt(m.length,y.length)}(e.mapValue,t.mapValue);default:throw Et(23264,{Pe:n})}}function eb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Nt(e,t);const n=ms(e),r=ms(t),a=Nt(n.seconds,r.seconds);return a!==0?a:Nt(n.nanos,r.nanos)}function nb(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Ho(n[a],r[a]);if(l)return l}return Nt(n.length,r.length)}function Go(e){return Sg(e)}function Sg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ms(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ps(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return gt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Sg(l);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Sg(n.fields[c])}`;return a+"}"}(e.mapValue):Et(61005,{value:e})}function gf(e){switch(gs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hd(e);return t?16+gf(t):16;case 5:return 2*e.stringValue.length;case 6:return ps(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+gf(l),0)}(e.arrayValue);case 10:case 11:return function(r){let a=0;return ws(r.fields,(l,c)=>{a+=l.length+gf(c)}),a}(e.mapValue);default:throw Et(13486,{value:e})}}function ib(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function wg(e){return!!e&&"integerValue"in e}function xy(e){return!!e&&"arrayValue"in e}function rb(e){return!!e&&"nullValue"in e}function sb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yf(e){return!!e&&"mapValue"in e}function UV(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Mw])===null||n===void 0?void 0:n.stringValue)===kw}function Pu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ws(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Pu(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function jV(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===LV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!yf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pu(n)}setAll(t){let n=We.emptyPath(),r={},a=[];t.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=Pu(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());yf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];yf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){ws(n,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new Tn(Pu(this.value))}}function Lw(e){const t=[];return ws(e.fields,(n,r)=>{const a=new We([n]);if(yf(r)){const l=Lw(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Nn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t,n,r,a,l,c,f){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new an(t,0,Rt.min(),Rt.min(),Rt.min(),Tn.empty(),0)}static newFoundDocument(t,n,r,a){return new an(t,1,n,Rt.min(),r,a,0)}static newNoDocument(t,n){return new an(t,2,n,Rt.min(),Rt.min(),Tn.empty(),0)}static newUnknownDocument(t,n){return new an(t,3,n,Rt.min(),Rt.min(),Tn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t,n){this.position=t,this.inclusive=n}}function ab(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=gt.comparator(gt.fromName(c.referenceValue),n.key):r=Ho(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function ob(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Oi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,n="asc"){this.field=t,this.dir=n}}function BV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{}class Re extends Uw{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new FV(t,n,r):n==="array-contains"?new GV(t,r):n==="in"?new KV(t,r):n==="not-in"?new YV(t,r):n==="array-contains-any"?new QV(t,r):new Re(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new qV(t,r):new HV(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ho(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Uw{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new ai(t,n)}matches(t){return jw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function jw(e){return e.op==="and"}function Bw(e){return zV(e)&&jw(e)}function zV(e){for(const t of e.filters)if(t instanceof ai)return!1;return!0}function Rg(e){if(e instanceof Re)return e.field.canonicalString()+e.op.toString()+Go(e.value);if(Bw(e))return e.filters.map(t=>Rg(t)).join(",");{const t=e.filters.map(n=>Rg(n)).join(",");return`${e.op}(${t})`}}function zw(e,t){return e instanceof Re?function(r,a){return a instanceof Re&&r.op===a.op&&r.field.isEqual(a.field)&&Oi(r.value,a.value)}(e,t):e instanceof ai?function(r,a){return a instanceof ai&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&zw(c,a.filters[f]),!0):!1}(e,t):void Et(19439)}function Fw(e){return e instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`}(e):e instanceof ai?function(n){return n.op.toString()+" {"+n.getFilters().map(Fw).join(" ,")+"}"}(e):"Filter"}class FV extends Re{constructor(t,n,r){super(t,n,r),this.key=gt.fromName(r.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class qV extends Re{constructor(t,n){super(t,"in",n),this.keys=qw("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class HV extends Re{constructor(t,n){super(t,"not-in",n),this.keys=qw("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function qw(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>gt.fromName(r.referenceValue))}class GV extends Re{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xy(n)&&Wu(n.arrayValue,this.value)}}class KV extends Re{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Wu(this.value.arrayValue,n)}}class YV extends Re{constructor(t,n){super(t,"not-in",n)}matches(t){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wu(this.value.arrayValue,n)}}class QV extends Re{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(t,n=null,r=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function lb(e,t=null,n=[],r=[],a=null,l=null,c=null){return new $V(e,t,n,r,a,l,c)}function Cy(e){const t=xt(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Rg(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),cd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Go(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Go(r)).join(",")),t.Ie=n}return t.Ie}function Iy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!BV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!zw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ob(e.startAt,t.startAt)&&ob(e.endAt,t.endAt)}function xg(e){return gt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,n=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function XV(e,t,n,r,a,l,c,f){return new sl(e,t,n,r,a,l,c,f)}function Dy(e){return new sl(e)}function ub(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Hw(e){return e.collectionGroup!==null}function Vu(e){const t=xt(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Me(We.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Zu(l,r))}),n.has(We.keyField().canonicalString())||t.Ee.push(new Zu(We.keyField(),r))}return t.Ee}function xi(e){const t=xt(e);return t.de||(t.de=WV(t,Vu(e))),t.de}function WV(e,t){if(e.limitType==="F")return lb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Zu(a.field,l)});const n=e.endAt?new Bf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Bf(e.startAt.position,e.startAt.inclusive):null;return lb(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Cg(e,t){const n=e.filters.concat([t]);return new sl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ig(e,t,n){return new sl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fd(e,t){return Iy(xi(e),xi(t))&&e.limitType===t.limitType}function Gw(e){return`${Cy(xi(e))}|lt:${e.limitType}`}function Ro(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>Fw(a)).join(", ")}]`),cd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Go(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Go(a)).join(",")),`Target(${r})`}(xi(e))}; limitType=${e.limitType})`}function dd(e,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):gt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(e,t)&&function(r,a){for(const l of Vu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(r,a){return!(r.startAt&&!function(c,f,m){const p=ab(c,f,m);return c.inclusive?p<=0:p<0}(r.startAt,Vu(r),a)||r.endAt&&!function(c,f,m){const p=ab(c,f,m);return c.inclusive?p>=0:p>0}(r.endAt,Vu(r),a))}(e,t)}function ZV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Kw(e){return(t,n)=>{let r=!1;for(const a of Vu(e)){const l=JV(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function JV(e,t,n){const r=e.field.isKeyField()?gt.comparator(t.key,n.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Ho(m,p):Et(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ws(this.inner,(n,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return Iw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new ce(gt.comparator);function pr(){return tM}const Yw=new ce(gt.comparator);function Ru(...e){let t=Yw;for(const n of e)t=t.insert(n.key,n);return t}function Qw(e){let t=Yw;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function va(){return Mu()}function $w(){return Mu()}function Mu(){return new Ia(e=>e.toString(),(e,t)=>e.isEqual(t))}const eM=new ce(gt.comparator),nM=new Me(gt.comparator);function Ut(...e){let t=nM;for(const n of e)t=t.add(n);return t}const iM=new Me(Nt);function rM(){return iM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(t)?"-0":t}}function Xw(e){return{integerValue:""+e}}function sM(e,t){return OV(t)?Xw(t):Ny(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this._=void 0}}function aM(e,t,n){return e instanceof zf?function(a,l){const c={fields:{[Ow]:{stringValue:Nw},[Vw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ry(l)&&(l=hd(l)),l&&(c.fields[Pw]=l),{mapValue:c}}(n,t):e instanceof Ju?Zw(e,t):e instanceof tc?Jw(e,t):function(a,l){const c=Ww(a,l),f=cb(c)+cb(a.Re);return wg(c)&&wg(a.Re)?Xw(f):Ny(a.serializer,f)}(e,t)}function oM(e,t,n){return e instanceof Ju?Zw(e,t):e instanceof tc?Jw(e,t):n}function Ww(e,t){return e instanceof Ff?function(r){return wg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class zf extends md{}class Ju extends md{constructor(t){super(),this.elements=t}}function Zw(e,t){const n=t1(t);for(const r of e.elements)n.some(a=>Oi(a,r))||n.push(r);return{arrayValue:{values:n}}}class tc extends md{constructor(t){super(),this.elements=t}}function Jw(e,t){let n=t1(t);for(const r of e.elements)n=n.filter(a=>!Oi(a,r));return{arrayValue:{values:n}}}class Ff extends md{constructor(t,n){super(),this.serializer=t,this.Re=n}}function cb(e){return _e(e.integerValue||e.doubleValue)}function t1(e){return xy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function lM(e,t){return e.field.isEqual(t.field)&&function(r,a){return r instanceof Ju&&a instanceof Ju||r instanceof tc&&a instanceof tc?qo(r.elements,a.elements,Oi):r instanceof Ff&&a instanceof Ff?Oi(r.Re,a.Re):r instanceof zf&&a instanceof zf}(e.transform,t.transform)}class uM{constructor(t,n){this.version=t,this.transformResults=n}}class Qn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Qn}static exists(t){return new Qn(void 0,t)}static updateTime(t){return new Qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class pd{}function e1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Oy(e.key,Qn.none()):new vc(e.key,e.data,Qn.none());{const n=e.data,r=Tn.empty();let a=new Me(We.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Rs(e.key,r,new Nn(a.toArray()),Qn.none())}}function cM(e,t,n){e instanceof vc?function(a,l,c){const f=a.value.clone(),m=fb(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(e,t,n):e instanceof Rs?function(a,l,c){if(!vf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=fb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(n1(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function ku(e,t,n,r){return e instanceof vc?function(l,c,f,m){if(!vf(l.precondition,c))return f;const p=l.value.clone(),y=db(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(e,t,n,r):e instanceof Rs?function(l,c,f,m){if(!vf(l.precondition,c))return f;const p=db(l.fieldTransforms,m,c),y=c.data;return y.setAll(n1(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(e,t,n,r):function(l,c,f){return vf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(e,t,n)}function hM(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=Ww(r.transform,a||null);l!=null&&(n===null&&(n=Tn.empty()),n.set(r.field,l))}return n||null}function hb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&qo(r,a,(l,c)=>lM(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vc extends pd{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Rs extends pd{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function n1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function fb(e,t,n){const r=new Map;Kt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);r.set(l.field,oM(c,f,n[a]))}return r}function db(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,aM(l,c,t))}return r}class Oy extends pd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fM extends pd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&cM(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ku(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ku(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=$w();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=e1(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ut())}isEqual(t){return this.batchId===t.batchId&&qo(this.mutations,t.mutations,(n,r)=>hb(n,r))&&qo(this.baseMutations,t.baseMutations,(n,r)=>hb(n,r))}}class Py{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){Kt(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let a=function(){return eM}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Py(t,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,Ft;function gM(e){switch(e){case it.OK:return Et(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Et(15467,{code:e})}}function i1(e){if(e===void 0)return mr("GRPC error has no .code"),it.UNKNOWN;switch(e){case we.OK:return it.OK;case we.CANCELLED:return it.CANCELLED;case we.UNKNOWN:return it.UNKNOWN;case we.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case we.INTERNAL:return it.INTERNAL;case we.UNAVAILABLE:return it.UNAVAILABLE;case we.UNAUTHENTICATED:return it.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case we.NOT_FOUND:return it.NOT_FOUND;case we.ALREADY_EXISTS:return it.ALREADY_EXISTS;case we.PERMISSION_DENIED:return it.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case we.ABORTED:return it.ABORTED;case we.OUT_OF_RANGE:return it.OUT_OF_RANGE;case we.UNIMPLEMENTED:return it.UNIMPLEMENTED;case we.DATA_LOSS:return it.DATA_LOSS;default:return Et(39323,{code:e})}}(Ft=we||(we={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=new cs([4294967295,4294967295],0);function mb(e){const t=Rw().encode(e),n=new vw;return n.update(t),new Uint8Array(n.digest())}function pb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new cs([n,r],0),new cs([a,l],0)]}class Vy{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xu(`Invalid padding: ${n}`);if(r<0)throw new xu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new xu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new xu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=cs.fromNumber(this.pe)}we(t,n,r){let a=t.add(n.multiply(cs.fromNumber(r)));return a.compare(yM)===1&&(a=new cs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=mb(t),[r,a]=pb(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);if(!this.be(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Vy(l,a,n);return r.forEach(f=>c.insert(f)),c}insert(t){if(this.pe===0)return;const n=mb(t),[r,a]=pb(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,_c.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new gd(Rt.min(),a,new ce(Nt),pr(),Ut())}}class _c{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new _c(r,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n,r,a){this.De=t,this.removedTargetIds=n,this.key=r,this.ve=a}}class r1{constructor(t,n){this.targetId=t,this.Ce=n}}class s1{constructor(t,n,r=Ze.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class gb{constructor(){this.Fe=0,this.Me=yb(),this.xe=Ze.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ut(),n=Ut(),r=Ut();return this.Me.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Et(38017,{changeType:l})}}),new _c(this.xe,this.Oe,t,n,r)}Qe(){this.Ne=!1,this.Me=yb()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class vM{constructor(t){this.ze=t,this.je=new Map,this.He=pr(),this.Je=rf(),this.Ye=rf(),this.Ze=new ce(Nt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const r=this.rt(n);switch(t.state){case 0:this.it(n)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(t){const n=t.targetId,r=t.Ce.count,a=this._t(n);if(a){const l=a.target;if(xg(l))if(r===0){const c=new gt(l.path);this.tt(n,c,an.newNoDocument(c,Rt.min()))}else Kt(r===1,20013,{expectedCount:r});else{const c=this.ut(n);if(c!==r){const f=this.ct(t),m=f?this.lt(f,t,c):1;if(m!==0){this.st(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=ps(r).toUint8Array()}catch(m){if(m instanceof Dw)return Fo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Vy(c,a,l)}catch(m){return Fo(m instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(t,n,r){return n.Ce.count===r-this.Tt(t,n.targetId)?0:2}Tt(t,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.tt(n,l,null),a++)}),a}It(t){const n=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&xg(f.target)){const m=new gt(f.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,an.newNoDocument(m,t))}l.Le&&(n.set(c,l.qe()),l.Qe())}});let r=Ut();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.He.forEach((l,c)=>c.setReadTime(t));const a=new gd(t,n,this.Ze,this.He,r);return this.He=pr(),this.Je=rf(),this.Ye=rf(),this.Ze=new ce(Nt),a}et(t,n){if(!this.it(t))return;const r=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,r){if(!this.it(t))return;const a=this.rt(t);this.dt(t,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),r&&(this.He=this.He.insert(n,r))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new gb,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Me(Nt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Me(Nt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new gb),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function rf(){return new ce(gt.comparator)}function yb(){return new ce(gt.comparator)}const _M={asc:"ASCENDING",desc:"DESCENDING"},TM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EM={and:"AND",or:"OR"};class bM{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Dg(e,t){return e.useProto3Json||cd(t)?t:{value:t}}function qf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function a1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function AM(e,t){return qf(e,t.toTimestamp())}function Ci(e){return Kt(!!e,49232),Rt.fromTimestamp(function(n){const r=ms(n);return new Ve(r.seconds,r.nanos)}(e))}function My(e,t){return Ng(e,t).canonicalString()}function Ng(e,t){const n=function(a){return new ie(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function o1(e){const t=ie.fromString(e);return Kt(f1(t),10190,{key:t.toString()}),t}function Og(e,t){return My(e.databaseId,t.path)}function Yp(e,t){const n=o1(t);if(n.get(1)!==e.databaseId.projectId)throw new dt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gt(u1(n))}function l1(e,t){return My(e.databaseId,t)}function SM(e){const t=o1(e);return t.length===4?ie.emptyPath():u1(t)}function Pg(e){return new ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function u1(e){return Kt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function vb(e,t,n){return{name:Og(e,t),fields:n.value.mapValue.fields}}function wM(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Et(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Kt(y===void 0||typeof y=="string",58123),Ze.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ze.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(p){const y=p.code===void 0?it.UNKNOWN:i1(p.code);return new dt(y,p.message||"")}(c);n=new s1(r,a,l,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Yp(e,r.document.name),l=Ci(r.document.updateTime),c=r.document.createTime?Ci(r.document.createTime):Rt.min(),f=new Tn({mapValue:{fields:r.document.fields}}),m=an.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];n=new _f(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Yp(e,r.document),l=r.readTime?Ci(r.readTime):Rt.min(),c=an.newNoDocument(a,l),f=r.removedTargetIds||[];n=new _f([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Yp(e,r.document),l=r.removedTargetIds||[];n=new _f([],l,a,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new pM(a,l),f=r.targetId;n=new r1(f,c)}}return n}function RM(e,t){let n;if(t instanceof vc)n={update:vb(e,t.key,t.value)};else if(t instanceof Oy)n={delete:Og(e,t.key)};else if(t instanceof Rs)n={update:vb(e,t.key,t.data),updateMask:MM(t.fieldMask)};else{if(!(t instanceof fM))return Et(16599,{ft:t.type});n={verify:Og(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof zf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof tc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ff)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Et(20930,{transform:c.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:AM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)}(e,t.precondition)),n}function xM(e,t){return e&&e.length>0?(Kt(t!==void 0,14353),e.map(n=>function(a,l){let c=a.updateTime?Ci(a.updateTime):Ci(l);return c.isEqual(Rt.min())&&(c=Ci(l)),new uM(c,a.transformResults||[])}(n,t))):[]}function CM(e,t){return{documents:[l1(e,t.path)]}}function IM(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=l1(e,a);const l=function(p){if(p.length!==0)return h1(ai.create(p,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:xo(b.field),direction:OM(b.dir)}}(y))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Dg(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:n,parent:a}}function DM(e){let t=SM(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Kt(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=function(_){const b=c1(_);return b instanceof ai&&Bw(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(b=>function(O){return new Zu(Co(O.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(b))}(n.orderBy));let f=null;n.limit&&(f=function(_){let b;return b=typeof _=="object"?_.value:_,cd(b)?null:b}(n.limit));let m=null;n.startAt&&(m=function(_){const b=!!_.before,w=_.values||[];return new Bf(w,b)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const b=!_.before,w=_.values||[];return new Bf(w,b)}(n.endAt)),XV(t,a,c,l,f,"F",m,p)}function NM(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:a})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function c1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Co(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Co(n.unaryFilter.field);return Re.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Co(n.unaryFilter.field);return Re.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Co(n.unaryFilter.field);return Re.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(e):e.fieldFilter!==void 0?function(n){return Re.create(Co(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ai.create(n.compositeFilter.filters.map(r=>c1(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(n.compositeFilter.op))}(e):Et(30097,{filter:e})}function OM(e){return _M[e]}function PM(e){return TM[e]}function VM(e){return EM[e]}function xo(e){return{fieldPath:e.canonicalString()}}function Co(e){return We.fromServerFormat(e.fieldPath)}function h1(e){return e instanceof Re?function(n){if(n.op==="=="){if(sb(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NAN"}};if(rb(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sb(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NAN"}};if(rb(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(n.field),op:PM(n.op),value:n.value}}}(e):e instanceof ai?function(n){const r=n.getFilters().map(a=>h1(a));return r.length===1?r[0]:{compositeFilter:{op:VM(n.op),filters:r}}}(e):Et(54877,{filter:e})}function MM(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function f1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,n,r,a,l=Rt.min(),c=Rt.min(),f=Ze.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new ss(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t){this.wt=t}}function LM(e){const t=DM({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ig(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.yn=new jM}addToCollectionParentIndex(t,n){return this.yn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.yn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(ds.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(ds.min())}updateCollectionGroup(t,n,r){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class jM{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new Me(ie.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Me(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d1=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(d1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Ko(0)}static ir(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="LruGarbageCollector",BM=1048576;function Eb([e,t],[n,r]){const a=Nt(e,n);return a===0?Nt(t,r):a}class zM{constructor(t){this.cr=t,this.buffer=new Me(Eb),this.lr=0}hr(){return++this.lr}Pr(t){const n=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Eb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FM{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ft(Tb,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rl(n)?ft(Tb,"Ignoring IndexedDB error during garbage collection: ",n):await il(n)}await this.Ir(3e5)})}}class qM{constructor(t,n){this.Er=t,this.params=n}calculateTargetCount(t,n){return this.Er.dr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(ud.le);const r=new zM(n);return this.Er.forEachTarget(t,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Er.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Er.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(_b)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_b):this.Rr(t,n))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,n){let r,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a))).next(_=>(r=_,f=Date.now(),this.removeTargets(t,r,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(_=>(p=Date.now(),wo()<=Lt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function HM(e,t){return new qM(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.changes=new Ia(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?nt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(r!==null&&ku(r.mutation,a,Nn.empty(),Ve.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ut()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ut()){const a=va();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,r).next(l=>{let c=Ru();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const r=va();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ut()))}populateOverlays(t,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(t,n,r,a){let l=pr();const c=Mu(),f=function(){return Mu()}();return n.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Rs)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),ku(y.mutation,p,y.mutation.getFieldMask(),Ve.now())):c.set(p.key,Nn.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return f.set(p,new KM(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(t,n){const r=Mu();let a=new ce((c,f)=>c-f),l=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||Nn.empty();y=f.applyToLocalView(p,y),r.set(m,y);const _=(a.get(f.batchId)||Ut()).add(m);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=$w();y.forEach(b=>{if(!l.has(b)){const w=e1(n.get(b),r.get(b));w!==null&&_.set(b,w),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return nt.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,a){return function(c){return gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Hw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):nt.resolve(va());let f=Qu,m=l;return c.next(p=>nt.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Ut())).next(y=>({batchId:f,changes:Qw(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next(r=>{let a=Ru();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=Ru();return this.indexManager.getCollectionParents(t,l).next(f=>nt.forEach(f,m=>{const p=function(_,b){return new sl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next(y=>{y.forEach((_,b)=>{c=c.insert(_,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,an.newInvalidDocument(y)))});let f=Ru();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&ku(y.mutation,p,Nn.empty(),Ve.now()),dd(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Fr.get(n))}saveBundleMetadata(t,n){return this.Fr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ci(a.createTime)}}(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.Mr.get(n))}saveNamedQuery(t,n){return this.Mr.set(n.name,function(a){return{name:a.name,query:LM(a.bundledQuery),readTime:Ci(a.readTime)}}(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.overlays=new ce(gt.comparator),this.Or=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=va();return nt.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((a,l)=>{this.St(t,n,l)}),nt.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(r)),nt.resolve()}getOverlaysForCollection(t,n,r){const a=va(),l=n.length+1,c=new gt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new ce((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=va(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=va(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return nt.resolve(f)}St(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new mM(n,r));let l=this.Or.get(n);l===void 0&&(l=Ut(),this.Or.set(n,l)),this.Or.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(){this.Nr=new Me(Fe.Br),this.Lr=new Me(Fe.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,n){const r=new Fe(t,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Qr(new Fe(t,n))}$r(t,n){t.forEach(r=>this.removeReference(r,n))}Ur(t){const n=new gt(new ie([])),r=new Fe(n,t),a=new Fe(n,t+1),l=[];return this.Lr.forEachInRange([r,a],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const n=new gt(new ie([])),r=new Fe(n,t),a=new Fe(n,t+1);let l=Ut();return this.Lr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new Fe(t,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,n){this.key=t,this.Gr=n}static Br(t,n){return gt.comparator(t.key,n.key)||Nt(t.Gr,n.Gr)}static kr(t,n){return Nt(t.Gr,n.Gr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Me(Fe.Br)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new dM(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.zr=this.zr.add(new Fe(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,n){return nt.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.Hr(r),l=a<0?0:a;return nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?wy:this.Jn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Fe(n,0),a=new Fe(n,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([r,a],c=>{const f=this.jr(c.Gr);l.push(f)}),nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Me(Nt);return n.forEach(a=>{const l=new Fe(a,0),c=new Fe(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],f=>{r=r.add(f.Gr)})}),nt.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;gt.isDocumentKey(l)||(l=l.child(""));const c=new Fe(new gt(l),0);let f=new Me(Nt);return this.zr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Gr)),!0)},c),nt.resolve(this.Jr(f))}Jr(t){const n=[];return t.forEach(r=>{const a=this.jr(r);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){Kt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return nt.forEach(n.mutations,a=>{const l=new Fe(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=r})}Xn(t){}containsKey(t,n){const r=new Fe(n,0),a=this.zr.firstAfterOrEqual(r);return nt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}Yr(t,n){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const n=this.Hr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(t){this.Zr=t,this.docs=function(){return new ce(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return nt.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(t,n){let r=pr();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():an.newInvalidDocument(a))}),nt.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=pr();const c=n.path,f=new gt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||CV(xV(y),r)<=0||(a.has(y.key)||dd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return nt.resolve(l)}getAllFromCollectionGroup(t,n,r,a){Et(9500)}Xr(t,n){return nt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new JM(this)}getSize(t){return nt.resolve(this.size)}}class JM extends GM{constructor(t){super(),this.vr=t}applyChanges(t){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.vr.addEntry(t,a)):this.vr.removeEntry(r)}),nt.waitFor(n)}getFromCache(t,n){return this.vr.getEntry(t,n)}getAllFromCache(t,n){return this.vr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(t){this.persistence=t,this.ei=new Ia(n=>Cy(n),Iy),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ti=0,this.ni=new ky,this.targetCount=0,this.ri=Ko.rr()}forEachTarget(t,n){return this.ei.forEach((r,a)=>n(a)),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),nt.resolve()}ar(t){this.ei.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ri=new Ko(n),this.highestTargetId=n),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,n){return this.ar(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.ar(n),nt.resolve()}removeTargetData(t,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.ei.forEach((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)}),nt.waitFor(l).next(()=>a)}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const r=this.ei.get(n)||null;return nt.resolve(r)}addMatchingKeys(t,n,r){return this.ni.qr(n,r),nt.resolve()}removeMatchingKeys(t,n,r){this.ni.$r(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),nt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.ni.Ur(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ni.Wr(n);return nt.resolve(r)}containsKey(t,n){return nt.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t,n){this.ii={},this.overlays={},this.si=new ud(0),this.oi=!1,this.oi=!0,this._i=new XM,this.referenceDelegate=t(this),this.ai=new tk(this),this.indexManager=new UM,this.remoteDocumentCache=function(a){return new ZM(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new kM(n),this.ci=new QM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new $M,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ii[t.toKey()];return r||(r=new WM(n,this.referenceDelegate),this.ii[t.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,n,r){ft("MemoryPersistence","Starting transaction:",t);const a=new ek(this.si.next());return this.referenceDelegate.li(),r(a).next(l=>this.referenceDelegate.hi(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Pi(t,n){return nt.or(Object.values(this.ii).map(r=>()=>r.containsKey(t,n)))}}class ek extends DV{constructor(t){super(),this.currentSequenceNumber=t}}class Ly{constructor(t){this.persistence=t,this.Ti=new ky,this.Ii=null}static Ei(t){return new Ly(t)}get di(){if(this.Ii)return this.Ii;throw Et(60996)}addReference(t,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),nt.resolve()}removeReference(t,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ti.Ur(n.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.di.add(l.toString()))}).next(()=>r.removeTargetData(t,n))}li(){this.Ii=new Set}hi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,r=>{const a=gt.fromPath(r);return this.Ai(t,a).next(l=>{l||n.removeEntry(a,Rt.min())})}).next(()=>(this.Ii=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ai(t,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(t){return 0}Ai(t,n){return nt.or([()=>nt.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Pi(t,n)])}}class Hf{constructor(t,n){this.persistence=t,this.Ri=new Ia(r=>PV(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=HM(this,n)}static Ei(t,n){return new Hf(t,n)}li(){}hi(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(a=>r+a))}Vr(t){let n=0;return this.Ar(t,r=>{n++}).next(()=>n)}Ar(t,n){return nt.forEach(this.Ri,(r,a)=>this.gr(t,r,a).next(l=>l?nt.resolve():n(a)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Xr(t,c=>this.gr(t,c,n).next(f=>{f||(r++,l.removeEntry(c,Rt.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.Ri.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.Ri.set(r,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,r){return this.Ri.set(r,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.Ri.set(n,t.currentSequenceNumber),nt.resolve()}ui(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=gf(t.data.value)),n}gr(t,n,r){return nt.or([()=>this.persistence.Pi(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.Ri.get(n);return nt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.ls=r,this.hs=a}static Ps(t,n){let r=Ut(),a=Ut();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Uy(t,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return OD()?8:NV(ln())>0?6:4}()}initialize(t,n){this.As=t,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.Rs(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(t,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new nk;return this.fs(t,n,c).next(f=>{if(l.result=f,this.Is)return this.gs(t,n,c,f.size)})}).next(()=>l.result)}gs(t,n,r,a){return r.documentReadCount<this.Es?(wo()<=Lt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),nt.resolve()):(wo()<=Lt.DEBUG&&ft("QueryEngine","Query:",Ro(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(wo()<=Lt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(n))):nt.resolve())}Rs(t,n){if(ub(n))return nt.resolve(null);let r=xi(n);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Ig(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=Ut(...l);return this.As.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,r).next(m=>{const p=this.ps(n,f);return this.ys(n,p,c,m.readTime)?this.Rs(t,Ig(n,null,"F")):this.ws(t,p,n,m)}))})))}Vs(t,n,r,a){return ub(n)||a.isEqual(Rt.min())?nt.resolve(null):this.As.getDocuments(t,r).next(l=>{const c=this.ps(n,l);return this.ys(n,c,r,a)?nt.resolve(null):(wo()<=Lt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ro(n)),this.ws(t,c,n,RV(a,Qu)).next(f=>f))})}ps(t,n){let r=new Me(Kw(t));return n.forEach((a,l)=>{dd(t,l)&&(r=r.add(l))}),r}ys(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}fs(t,n,r){return wo()<=Lt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.As.getDocumentsMatchingQuery(t,n,ds.min(),r)}ws(t,n,r,a){return this.As.getDocumentsMatchingQuery(t,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="LocalStore",rk=3e8;class sk{constructor(t,n,r,a){this.persistence=t,this.bs=n,this.serializer=a,this.Ss=new ce(Nt),this.Ds=new Ia(l=>Cy(l),Iy),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(r)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YM(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ss))}}function ak(e,t,n,r){return new sk(e,t,n,r)}async function p1(e,t){const n=xt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Fs(t),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let m=Ut();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:f}))})})}function ok(e,t){const n=xt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=n.Cs.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const _=p.batch,b=_.keys();let w=nt.resolve();return b.forEach(O=>{w=w.next(()=>y.getEntry(m,O)).next(L=>{const M=p.docVersions.get(O);Kt(M!==null,48541),L.version.compareTo(M)<0&&(_.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))})}),w.next(()=>f.mutationQueue.removeMutationBatch(m,_))}(n,r,t,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=Ut();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(t))).next(()=>n.localDocuments.getDocuments(r,a))})}function g1(e){const t=xt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ai.getLastRemoteSnapshotVersion(n))}function lk(e,t){const n=xt(e),r=t.snapshotVersion;let a=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Cs.newChangeBuffer({trackRemovals:!0});a=n.Ss;const f=[];t.targetChanges.forEach((y,_)=>{const b=a.get(_);if(!b)return;f.push(n.ai.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.ai.addMatchingKeys(l,y.addedDocuments,_)));let w=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?w=w.withResumeToken(Ze.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),a=a.insert(_,w),function(L,M,K){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=rk?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(b,w,y)&&f.push(n.ai.updateTargetData(l,w))});let m=pr(),p=Ut();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(uk(l,c,t.documentUpdates).next(y=>{m=y.xs,p=y.Os})),!r.isEqual(Rt.min())){const y=n.ai.getLastRemoteSnapshotVersion(l).next(_=>n.ai.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(y)}return nt.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ss=a,l))}function uk(e,t,n){let r=Ut(),a=Ut();return n.forEach(l=>r=r.add(l)),t.getEntries(e,r).next(l=>{let c=pr();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Rt.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):ft(jy,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{xs:c,Os:a}})}function ck(e,t){const n=xt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=wy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function hk(e,t){const n=xt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.ai.getTargetData(r,t).next(l=>l?(a=l,nt.resolve(a)):n.ai.allocateTargetId(r).next(c=>(a=new ss(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(t,r.targetId)),r})}async function Vg(e,t,n){const r=xt(e),a=r.Ss.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!rl(c))throw c;ft(jy,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(a.target)}function bb(e,t,n){const r=xt(e);let a=Rt.min(),l=Ut();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=xt(m),b=_.Ds.get(y);return b!==void 0?nt.resolve(_.Ss.get(b)):_.ai.getTargetData(p,y)}(r,c,xi(t)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>r.bs.getDocumentsMatchingQuery(c,t,n?a:Rt.min(),n?l:Ut())).next(f=>(fk(r,ZV(t),f),{documents:f,Ns:l})))}function fk(e,t,n){let r=e.vs.get(t)||Rt.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),e.vs.set(t,r)}class Ab{constructor(){this.activeTargetIds=rM()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dk{constructor(){this.So=new Ab,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,n,r){this.Do[t]=n}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new Ab,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="ConnectivityMonitor";class wb{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ft(Sb,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ft(Sb,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf=null;function Mg(){return sf===null?sf=function(){return 268435456+Math.round(2147483648*Math.random())}():sf++,"0x"+sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="RestConnection",pk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gk{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+t.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===Uf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(t,n,r,a,l){const c=Mg(),f=this.$o(t,n.toUriEncodedString());ft(Qp,`Sending RPC '${t}' ${c}:`,f,r);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(m,a,l),this.Ko(t,f,m,r).then(p=>(ft(Qp,`Received RPC '${t}' ${c}: `,p),p),p=>{throw Fo(Qp,`RPC '${t}' ${c} failed with error: `,p,"url: ",f,"request:",r),p})}Wo(t,n,r,a,l,c){return this.Qo(t,n,r,a,l)}Uo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}$o(t,n){const r=pk[t];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class vk extends gk{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,n,r,a){const l=Mg();return new Promise((c,f)=>{const m=new _w;m.setWithCredentials(!0),m.listenOnce(Tw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case pf.NO_ERROR:const y=m.getResponseJson();ft(nn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case pf.TIMEOUT:ft(nn,`RPC '${t}' ${l} timed out`),f(new dt(it.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const _=m.getStatus();if(ft(nn,`RPC '${t}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const O=function(M){const K=M.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(K)>=0?K:it.UNKNOWN}(w.status);f(new dt(O,w.message))}else f(new dt(it.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new dt(it.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{s_:t,streamId:l,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{ft(nn,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(a);ft(nn,`RPC '${t}' ${l} sending request:`,a),m.send(n,"POST",p,r,15)})}a_(t,n,r){const a=Mg(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Aw(),f=bw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");ft(nn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);let b=!1,w=!1;const O=new yk({Go:M=>{w?ft(nn,`Not sending because RPC '${t}' stream ${a} is closed:`,M):(b||(ft(nn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),b=!0),ft(nn,`RPC '${t}' stream ${a} sending:`,M),_.send(M))},zo:()=>_.close()}),L=(M,K,Z)=>{M.listen(K,G=>{try{Z(G)}catch(at){setTimeout(()=>{throw at},0)}})};return L(_,wu.EventType.OPEN,()=>{w||(ft(nn,`RPC '${t}' stream ${a} transport opened.`),O.t_())}),L(_,wu.EventType.CLOSE,()=>{w||(w=!0,ft(nn,`RPC '${t}' stream ${a} transport closed`),O.r_())}),L(_,wu.EventType.ERROR,M=>{w||(w=!0,Fo(nn,`RPC '${t}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),O.r_(new dt(it.UNAVAILABLE,"The operation could not be completed")))}),L(_,wu.EventType.MESSAGE,M=>{var K;if(!w){const Z=M.data[0];Kt(!!Z,16349);const G=Z,at=(G==null?void 0:G.error)||((K=G[0])===null||K===void 0?void 0:K.error);if(at){ft(nn,`RPC '${t}' stream ${a} received error:`,at);const W=at.status;let ut=function(x){const V=we[x];if(V!==void 0)return i1(V)}(W),N=at.message;ut===void 0&&(ut=it.INTERNAL,N="Unknown error status: "+W+" with message "+at.message),w=!0,O.r_(new dt(ut,N)),_.close()}else ft(nn,`RPC '${t}' stream ${a} received:`,Z),O.i_(Z)}}),L(f,Ew.STAT_EVENT,M=>{M.stat===bg.PROXY?ft(nn,`RPC '${t}' stream ${a} detected buffering proxy`):M.stat===bg.NOPROXY&&ft(nn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{O.n_()},0),O}}function $p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(e){return new bM(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n,r=1e3,a=1.5,l=6e4){this.bi=t,this.timerId=n,this.u_=r,this.c_=a,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,n-r);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="PersistentStream";class v1{constructor(t,n,r,a,l,c,f,m){this.bi=t,this.R_=r,this.V_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new y1(t,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===n&&this.B_(r,a)},r=>{t(()=>{const a=new dt(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(t,n){const r=this.N_(this.m_);this.stream=this.k_(t,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ft(Rb,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return n=>{this.bi.enqueueAndForget(()=>this.m_===t?n():(ft(Rb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _k extends v1{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}k_(t,n){return this.connection.a_("Listen",t,n)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const n=wM(this.serializer,t),r=function(l){if(!("targetChange"in l))return Rt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?Ci(c.readTime):Rt.min()}(t);return this.listener.Q_(n,r)}U_(t){const n={};n.database=Pg(this.serializer),n.addTarget=function(l,c){let f;const m=c.target;if(f=xg(m)?{documents:CM(l,m)}:{query:IM(l,m).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=a1(l,c.resumeToken);const p=Dg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Rt.min())>0){f.readTime=qf(l,c.snapshotVersion.toTimestamp());const p=Dg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,t);const r=NM(this.serializer,t);r&&(n.labels=r),this.F_(n)}K_(t){const n={};n.database=Pg(this.serializer),n.removeTarget=t,this.F_(n)}}class Tk extends v1{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,n){return this.connection.a_("Write",t,n)}q_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const n=xM(t.writeResults,t.commitTime),r=Ci(t.commitTime);return this.listener.j_(r,n)}H_(){const t={};t.database=Pg(this.serializer),this.F_(t)}G_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>RM(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{}class bk extends Ek{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new dt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,n,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(t,Ng(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new dt(it.UNKNOWN,l.toString())})}Wo(t,n,r,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Wo(t,Ng(n,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(it.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Ak{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(mr(n),this.ea=!1):ft("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="RemoteStore";class Sk{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{r.enqueueAndForget(async()=>{Da(this)&&(ft(xa,"Restarting streams for network reachability change."),await async function(m){const p=xt(m);p.aa.add(4),await Tc(p),p.la.set("Unknown"),p.aa.delete(4),await vd(p)}(this))})}),this.la=new Ak(r,a)}}async function vd(e){if(Da(e))for(const t of e.ua)await t(!0)}async function Tc(e){for(const t of e.ua)await t(!1)}function _1(e,t){const n=xt(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),qy(n)?Fy(n):al(n).b_()&&zy(n,t))}function By(e,t){const n=xt(e),r=al(n);n._a.delete(t),r.b_()&&T1(n,t),n._a.size===0&&(r.b_()?r.v_():Da(n)&&n.la.set("Unknown"))}function zy(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}al(e).U_(t)}function T1(e,t){e.ha.Ke(t),al(e).K_(t)}function Fy(e){e.ha=new vM({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),al(e).start(),e.la.ta()}function qy(e){return Da(e)&&!al(e).w_()&&e._a.size>0}function Da(e){return xt(e).aa.size===0}function E1(e){e.ha=void 0}async function wk(e){e.la.set("Online")}async function Rk(e){e._a.forEach((t,n)=>{zy(e,t)})}async function xk(e,t){E1(e),qy(e)?(e.la.ia(t),Fy(e)):e.la.set("Unknown")}async function Ck(e,t,n){if(e.la.set("Online"),t instanceof s1&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a._a.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a._a.delete(f),a.ha.removeTarget(f))}(e,t)}catch(r){ft(xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Gf(e,r)}else if(t instanceof _f?e.ha.Xe(t):t instanceof r1?e.ha.ot(t):e.ha.nt(t),!n.isEqual(Rt.min()))try{const r=await g1(e.localStore);n.compareTo(r)>=0&&await function(l,c){const f=l.ha.It(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l._a.get(p);y&&l._a.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l._a.get(m);if(!y)return;l._a.set(m,y.withResumeToken(Ze.EMPTY_BYTE_STRING,y.snapshotVersion)),T1(l,m);const _=new ss(y.target,m,p,y.sequenceNumber);zy(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(e,n)}catch(r){ft(xa,"Failed to raise snapshot:",r),await Gf(e,r)}}async function Gf(e,t,n){if(!rl(t))throw t;e.aa.add(1),await Tc(e),e.la.set("Offline"),n||(n=()=>g1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ft(xa,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await vd(e)})}function b1(e,t){return t().catch(n=>Gf(e,n,t))}async function _d(e){const t=xt(e),n=ys(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:wy;for(;Ik(t);)try{const a=await ck(t.localStore,r);if(a===null){t.oa.length===0&&n.v_();break}r=a.batchId,Dk(t,a)}catch(a){await Gf(t,a)}A1(t)&&S1(t)}function Ik(e){return Da(e)&&e.oa.length<10}function Dk(e,t){e.oa.push(t);const n=ys(e);n.b_()&&n.W_&&n.G_(t.mutations)}function A1(e){return Da(e)&&!ys(e).w_()&&e.oa.length>0}function S1(e){ys(e).start()}async function Nk(e){ys(e).H_()}async function Ok(e){const t=ys(e);for(const n of e.oa)t.G_(n.mutations)}async function Pk(e,t,n){const r=e.oa.shift(),a=Py.from(r,t,n);await b1(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await _d(e)}async function Vk(e,t){t&&ys(e).W_&&await async function(r,a){if(function(c){return gM(c)&&c!==it.ABORTED}(a.code)){const l=r.oa.shift();ys(r).D_(),await b1(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await _d(r)}}(e,t),A1(e)&&S1(e)}async function xb(e,t){const n=xt(e);n.asyncQueue.verifyOperationInProgress(),ft(xa,"RemoteStore received new credentials");const r=Da(n);n.aa.add(3),await Tc(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await vd(n)}async function Mk(e,t){const n=xt(e);t?(n.aa.delete(2),await vd(n)):t||(n.aa.add(2),await Tc(n),n.la.set("Unknown"))}function al(e){return e.Pa||(e.Pa=function(n,r,a){const l=xt(n);return l.Y_(),new _k(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{jo:wk.bind(null,e),Jo:Rk.bind(null,e),Zo:xk.bind(null,e),Q_:Ck.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),qy(e)?Fy(e):e.la.set("Unknown")):(await e.Pa.stop(),E1(e))})),e.Pa}function ys(e){return e.Ta||(e.Ta=function(n,r,a){const l=xt(n);return l.Y_(),new Tk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:Nk.bind(null,e),Zo:Vk.bind(null,e),z_:Ok.bind(null,e),j_:Pk.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await _d(e)):(await e.Ta.stop(),e.oa.length>0&&(ft(xa,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,f=new Hy(t,n,c,a,l);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(e,t){if(mr("AsyncQueue",`${t}: ${e}`),rl(e))return new dt(it.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(t){return new Uo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=Ru(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Uo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.Ia=new ce(gt.comparator)}track(t){const n=t.doc.key,r=this.Ia.get(n);r?t.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,t):t.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Ia=this.Ia.remove(n):t.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):Et(63341,{Vt:t,Ea:r}):this.Ia=this.Ia.insert(n,t)}da(){const t=[];return this.Ia.inorderTraversal((n,r)=>{t.push(r)}),t}}class Yo{constructor(t,n,r,a,l,c,f,m,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new Yo(t,n,Uo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Lk{constructor(){this.queries=Ib(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const a=xt(n),l=a.queries;a.queries=Ib(),l.forEach((c,f)=>{for(const m of f.Ra)m.onError(r)})})(this,new dt(it.ABORTED,"Firestore shutting down"))}}function Ib(){return new Ia(e=>Gw(e),fd)}async function w1(e,t){const n=xt(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.Va()&&t.ma()&&(r=2):(l=new kk,r=t.ma()?0:1);try{switch(r){case 0:l.Aa=await n.onListen(a,!0);break;case 1:l.Aa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Gy(c,`Initialization of query '${Ro(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.Ra.push(t),t.ga(n.onlineState),l.Aa&&t.pa(l.Aa)&&Ky(n)}async function R1(e,t){const n=xt(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.Ra.indexOf(t);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?a=t.ma()?0:1:!l.Va()&&t.ma()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Uk(e,t){const n=xt(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Ra)f.pa(a)&&(r=!0);c.Aa=a}}r&&Ky(n)}function jk(e,t,n){const r=xt(e),a=r.queries.get(t);if(a)for(const l of a.Ra)l.onError(n);r.queries.delete(t)}function Ky(e){e.fa.forEach(t=>{t.next()})}var kg,Db;(Db=kg||(kg={})).ya="default",Db.Cache="cache";class x1{constructor(t,n,r){this.query=t,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Yo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ba?this.Da(t)&&(this.wa.next(t),n=!0):this.va(t,this.onlineState)&&(this.Ca(t),n=!0),this.Sa=t,n}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),n=!0),n}va(t,n){if(!t.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(t){t=Yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.key=t}}class I1{constructor(t){this.key=t}}class Bk{constructor(t,n){this.query=t,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ut(),this.mutatedKeys=Ut(),this.Ua=Kw(t),this.Ka=new Uo(this.Ua)}get Wa(){return this.qa}Ga(t,n){const r=n?n.za:new Cb,a=n?n.Ka:this.Ka;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,_)=>{const b=a.get(y),w=dd(this.query,_)?_:null,O=!!b&&this.mutatedKeys.has(b.key),L=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let M=!1;b&&w?b.data.isEqual(w.data)?O!==L&&(r.track({type:3,doc:w}),M=!0):this.ja(b,w)||(r.track({type:2,doc:w}),M=!0,(m&&this.Ua(w,m)>0||p&&this.Ua(w,p)<0)&&(f=!0)):!b&&w?(r.track({type:0,doc:w}),M=!0):b&&!w&&(r.track({type:1,doc:b}),M=!0,(m||p)&&(f=!0)),M&&(w?(c=c.add(w),l=L?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{Ka:c,za:r,ys:f,mutatedKeys:l}}ja(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const c=t.za.da();c.sort((y,_)=>function(w,O){const L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:M})}};return L(w)-L(O)}(y.type,_.type)||this.Ua(y.doc,_.doc)),this.Ha(r),a=a!=null&&a;const f=n&&!a?this.Ja():[],m=this.$a.size===0&&this.current&&!a?1:0,p=m!==this.Qa;return this.Qa=m,c.length!==0||p?{snapshot:new Yo(this.query,t.Ka,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:f}:{Ya:f}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Cb,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Ut(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return t.forEach(r=>{this.$a.has(r)||n.push(new I1(r))}),this.$a.forEach(r=>{t.has(r)||n.push(new C1(r))}),n}Xa(t){this.qa=t.Ns,this.$a=Ut();const n=this.Ga(t.documents);return this.applyChanges(n,!0)}eu(){return Yo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Yy="SyncEngine";class zk{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Fk{constructor(t){this.key=t,this.tu=!1}}class qk{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Ia(f=>Gw(f),fd),this.iu=new Map,this.su=new Set,this.ou=new ce(gt.comparator),this._u=new Map,this.au=new ky,this.uu={},this.cu=new Map,this.lu=Ko.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Hk(e,t,n=!0){const r=M1(e);let a;const l=r.ru.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.eu()):a=await D1(r,t,n,!0),a}async function Gk(e,t){const n=M1(e);await D1(n,t,!0,!1)}async function D1(e,t,n,r){const a=await hk(e.localStore,xi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await Kk(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&_1(e.remoteStore,a),f}async function Kk(e,t,n,r,a){e.Pu=(_,b,w)=>async function(L,M,K,Z){let G=M.view.Ga(K);G.ys&&(G=await bb(L.localStore,M.query,!1).then(({documents:N})=>M.view.Ga(N,G)));const at=Z&&Z.targetChanges.get(M.targetId),W=Z&&Z.targetMismatches.get(M.targetId)!=null,ut=M.view.applyChanges(G,L.isPrimaryClient,at,W);return Ob(L,M.targetId,ut.Ya),ut.snapshot}(e,_,b,w);const l=await bb(e.localStore,t,!0),c=new Bk(t,l.Ns),f=c.Ga(l.documents),m=_c.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),p=c.applyChanges(f,e.isPrimaryClient,m);Ob(e,n,p.Ya);const y=new zk(t,n,c);return e.ru.set(t,y),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),p.snapshot}async function Yk(e,t,n){const r=xt(e),a=r.ru.get(t),l=r.iu.get(a.targetId);if(l.length>1)return r.iu.set(a.targetId,l.filter(c=>!fd(c,t))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Vg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&By(r.remoteStore,a.targetId),Lg(r,a.targetId)}).catch(il)):(Lg(r,a.targetId),await Vg(r.localStore,a.targetId,!0))}async function Qk(e,t){const n=xt(e),r=n.ru.get(t),a=n.iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),By(n.remoteStore,r.targetId))}async function $k(e,t,n){const r=n4(e);try{const a=await function(c,f){const m=xt(c),p=Ve.now(),y=f.reduce((w,O)=>w.add(O.key),Ut());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",w=>{let O=pr(),L=Ut();return m.Cs.getEntries(w,y).next(M=>{O=M,O.forEach((K,Z)=>{Z.isValidDocument()||(L=L.add(K))})}).next(()=>m.localDocuments.getOverlayedDocuments(w,O)).next(M=>{_=M;const K=[];for(const Z of f){const G=hM(Z,_.get(Z.key).overlayedDocument);G!=null&&K.push(new Rs(Z.key,G,Lw(G.value.mapValue),Qn.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,K,f)}).next(M=>{b=M;const K=M.applyToLocalDocumentSet(_,L);return m.documentOverlayCache.saveOverlays(w,M.batchId,K)})}).then(()=>({batchId:b.batchId,changes:Qw(_)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.uu[c.currentUser.toKey()];p||(p=new ce(Nt)),p=p.insert(f,m),c.uu[c.currentUser.toKey()]=p}(r,a.batchId,n),await Ec(r,a.changes),await _d(r.remoteStore)}catch(a){const l=Gy(a,"Failed to persist write");n.reject(l)}}async function N1(e,t){const n=xt(e);try{const r=await lk(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n._u.get(l);c&&(Kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?Kt(c.tu,14607):a.removedDocuments.size>0&&(Kt(c.tu,42227),c.tu=!1))}),await Ec(n,r,t)}catch(r){await il(r)}}function Nb(e,t,n){const r=xt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.ru.forEach((l,c)=>{const f=c.view.ga(t);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=xt(c);m.onlineState=f;let p=!1;m.queries.forEach((y,_)=>{for(const b of _.Ra)b.ga(f)&&(p=!0)}),p&&Ky(m)}(r.eventManager,t),a.length&&r.nu.Q_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Xk(e,t,n){const r=xt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r._u.get(t),l=a&&a.key;if(l){let c=new ce(gt.comparator);c=c.insert(l,an.newNoDocument(l,Rt.min()));const f=Ut().add(l),m=new gd(Rt.min(),new Map,new ce(Nt),c,f);await N1(r,m),r.ou=r.ou.remove(l),r._u.delete(t),Qy(r)}else await Vg(r.localStore,t,!1).then(()=>Lg(r,t,n)).catch(il)}async function Wk(e,t){const n=xt(e),r=t.batch.batchId;try{const a=await ok(n.localStore,t);P1(n,r,null),O1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ec(n,a)}catch(a){await il(a)}}async function Zk(e,t,n){const r=xt(e);try{const a=await function(c,f){const m=xt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(_=>(Kt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,t);P1(r,t,n),O1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ec(r,a)}catch(a){await il(a)}}function O1(e,t){(e.cu.get(t)||[]).forEach(n=>{n.resolve()}),e.cu.delete(t)}function P1(e,t,n){const r=xt(e);let a=r.uu[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.uu[r.currentUser.toKey()]=a}}function Lg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(r=>{e.au.containsKey(r)||V1(e,r)})}function V1(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);n!==null&&(By(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),Qy(e))}function Ob(e,t,n){for(const r of n)r instanceof C1?(e.au.addReference(r.key,t),Jk(e,r)):r instanceof I1?(ft(Yy,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||V1(e,r.key)):Et(19791,{Iu:r})}function Jk(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(ft(Yy,"New document in limbo: "+n),e.su.add(r),Qy(e))}function Qy(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new gt(ie.fromString(t)),r=e.lu.next();e._u.set(r,new Fk(n)),e.ou=e.ou.insert(n,r),_1(e.remoteStore,new ss(xi(Dy(n.path)),r,"TargetPurposeLimboResolution",ud.le))}}async function Ec(e,t,n){const r=xt(e),a=[],l=[],c=[];r.ru.isEmpty()||(r.ru.forEach((f,m)=>{c.push(r.Pu(m,t,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Uy.Ps(m.targetId,p);l.push(_)}}))}),await Promise.all(c),r.nu.Q_(a),await async function(m,p){const y=xt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>nt.forEach(p,b=>nt.forEach(b.ls,w=>y.persistence.referenceDelegate.addReference(_,b.targetId,w)).next(()=>nt.forEach(b.hs,w=>y.persistence.referenceDelegate.removeReference(_,b.targetId,w)))))}catch(_){if(!rl(_))throw _;ft(jy,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const w=y.Ss.get(b),O=w.snapshotVersion,L=w.withLastLimboFreeSnapshotVersion(O);y.Ss=y.Ss.insert(b,L)}}}(r.localStore,l))}async function t4(e,t){const n=xt(e);if(!n.currentUser.isEqual(t)){ft(Yy,"User change. New user:",t.toKey());const r=await p1(n.localStore,t);n.currentUser=t,function(l,c){l.cu.forEach(f=>{f.forEach(m=>{m.reject(new dt(it.CANCELLED,c))})}),l.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ec(n,r.Ms)}}function e4(e,t){const n=xt(e),r=n._u.get(t);if(r&&r.tu)return Ut().add(r.key);{let a=Ut();const l=n.iu.get(t);if(!l)return a;for(const c of l){const f=n.ru.get(c);a=a.unionWith(f.view.Wa)}return a}}function M1(e){const t=xt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=N1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=e4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xk.bind(null,t),t.nu.Q_=Uk.bind(null,t.eventManager),t.nu.Tu=jk.bind(null,t.eventManager),t}function n4(e){const t=xt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Zk.bind(null,t),t}class Kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yd(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,n){return null}fu(t,n){return null}Vu(t){return ak(this.persistence,new ik,t.initialUser,this.serializer)}Ru(t){return new m1(Ly.Ei,this.serializer)}Au(t){return new dk}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kf.provider={build:()=>new Kf};class i4 extends Kf{constructor(t){super(),this.cacheSizeBytes=t}mu(t,n){Kt(this.persistence.referenceDelegate instanceof Hf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FM(r,t.asyncQueue,n)}Ru(t){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new m1(r=>Hf.Ei(r,n),this.serializer)}}class Ug{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Nb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t4.bind(null,this.syncEngine),await Mk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Lk}()}createDatastore(t){const n=yd(t.databaseInfo.databaseId),r=function(l){return new vk(l)}(t.databaseInfo);return function(l,c,f,m){return new bk(l,c,f,m)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,a,l,c,f){return new Sk(r,a,l,c,f)}(this.localStore,this.datastore,t.asyncQueue,n=>Nb(this.syncEngine,n,0),function(){return wb.C()?new wb:new mk}())}createSyncEngine(t,n){return function(a,l,c,f,m,p,y){const _=new qk(a,l,c,f,m,p);return y&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const l=xt(a);ft(xa,"RemoteStore shutting down."),l.aa.add(5),await Tc(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ug.provider={build:()=>new Ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):mr("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class r4{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=xw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{ft(vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ft(vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Gy(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Xp(e,t){e.asyncQueue.verifyOperationInProgress(),ft(vs,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async a=>{r.isEqual(a)||(await p1(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Pb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await s4(e);ft(vs,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>xb(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,a)=>xb(t.remoteStore,a)),e._onlineComponents=t}async function s4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(vs,"Using user provided OfflineComponentProvider");try{await Xp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===it.FAILED_PRECONDITION||a.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Fo("Error using user provided cache. Falling back to memory cache: "+n),await Xp(e,new Kf)}}else ft(vs,"Using default OfflineComponentProvider"),await Xp(e,new i4(void 0));return e._offlineComponents}async function L1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(vs,"Using user provided OnlineComponentProvider"),await Pb(e,e._uninitializedComponentsProvider._online)):(ft(vs,"Using default OnlineComponentProvider"),await Pb(e,new Ug))),e._onlineComponents}function a4(e){return L1(e).then(t=>t.syncEngine)}async function jg(e){const t=await L1(e),n=t.eventManager;return n.onListen=Hk.bind(null,t.syncEngine),n.onUnlisten=Yk.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Gk.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Qk.bind(null,t.syncEngine),n}function o4(e,t,n={}){const r=new hs;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new k1({next:b=>{y.yu(),c.enqueueAndForget(()=>R1(l,_)),b.fromCache&&m.source==="server"?p.reject(new dt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new x1(f,y,{includeMetadataChanges:!0,Fa:!0});return w1(l,_)}(await jg(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(e,t,n){if(!n)throw new dt(it.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function l4(e,t,n,r){if(t===!0&&r===!0)throw new dt(it.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Mb(e){if(!gt.isDocumentKey(e))throw new dt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function kb(e){if(gt.isDocumentKey(e))throw new dt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Td(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Et(12329,{type:typeof e})}function $n(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Td(e);throw new dt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firestore.googleapis.com",Lb=!0;class Ub{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new dt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B1,this.ssl=Lb}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Lb;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=d1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<BM)throw new dt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}l4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new dt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new dt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new dt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ed{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ub({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ub(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yV;switch(r.type){case"firstParty":return new EV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Vb.get(n);r&&(ft("ComponentProvider","Removing Datastore"),Vb.delete(n),r.terminate())}(this),Promise.resolve()}}function u4(e,t,n,r={}){var a;const l=(e=$n(e,Ed))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:e._getEmulatorOptions()}),f=`${t}:${n}`;l.host!==B1&&l.host!==f&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:r});if(!ba(m,c)&&(e._setSettings(m),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=sn.MOCK_USER;else{p=wD(r.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new dt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(_)}e._authCredentials=new vV(new ww(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new xs(this.firestore,t,this._query)}}class pn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pn(this.firestore,t,this._key)}}class fs extends xs{constructor(t,n,r){super(t,n,Dy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pn(this.firestore,null,new gt(t))}withConverter(t){return new fs(this.firestore,t,this._path)}}function Tf(e,t,...n){if(e=xe(e),j1("collection","path",t),e instanceof Ed){const r=ie.fromString(t,...n);return kb(r),new fs(e,null,r)}{if(!(e instanceof pn||e instanceof fs))throw new dt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ie.fromString(t,...n));return kb(r),new fs(e.firestore,null,r)}}function Yf(e,t,...n){if(e=xe(e),arguments.length===1&&(t=xw.newId()),j1("doc","path",t),e instanceof Ed){const r=ie.fromString(t,...n);return Mb(r),new pn(e,null,new gt(r))}{if(!(e instanceof pn||e instanceof fs))throw new dt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ie.fromString(t,...n));return Mb(r),new pn(e.firestore,e instanceof fs?e.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="AsyncQueue";class Bb{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new y1(this,"async_queue_retry"),this.ju=()=>{const r=$p();r&&ft(jb,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=t;const n=$p();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=$p();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new hs;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!rl(t))throw t;ft(jb,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(r=>{throw this.Ku=r,this.Wu=!1,mr("INTERNAL UNHANDLED ERROR: ",zb(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(t,n,r){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const a=Hy.createAndSchedule(this,t,n,r,l=>this.Xu(l));return this.Uu.push(a),a}Ju(){this.Ku&&Et(47125,{ec:zb(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function zb(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(e,["next","error","complete"])}class _s extends Ed{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new Bb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Bb(t),this._firestoreClient=void 0,await t}}}function c4(e,t){const n=typeof e=="object"?e:MS(),r=typeof e=="string"?e:Uf,a=my(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=AD("firestore");l&&u4(a,...l)}return a}function $y(e){if(e._terminated)throw new dt(it.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||h4(e),e._firestoreClient}function h4(e){var t,n,r;const a=e._freezeSettings(),l=function(f,m,p,y){return new kV(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,U1(y.experimentalLongPollingOptions),y.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new r4(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qo(Ze.fromBase64String(t))}catch(n){throw new dt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qo(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new dt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new dt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=/^__.*__$/;class d4{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Rs(t,this.data,this.fieldMask,n,this.fieldTransforms):new vc(t,this.data,n,this.fieldTransforms)}}class z1{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Rs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function F1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{oc:e})}}class Jy{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Jy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ac({path:r,cc:!1});return a.lc(t),a}hc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Qf(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(F1(this.oc)&&f4.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class m4{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||yd(t)}dc(t,n,r,a=!1){return new Jy({oc:t,methodName:n,Ec:r,path:We.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ad(e){const t=e._freezeSettings(),n=yd(e._databaseId);return new m4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function q1(e,t,n,r,a,l={}){const c=e.dc(l.merge||l.mergeFields?2:0,t,n,a);tv("Data must be an object, but it was:",c,r);const f=H1(r,c);let m,p;if(l.merge)m=new Nn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=Bg(t,_,n);if(!c.contains(b))throw new dt(it.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);K1(y,b)||y.push(b)}m=new Nn(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new d4(new Tn(f),m,p)}class Sd extends Xy{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Sd}}function p4(e,t,n,r){const a=e.dc(1,t,n);tv("Data must be an object, but it was:",a,r);const l=[],c=Tn.empty();ws(r,(m,p)=>{const y=ev(t,m,n);p=xe(p);const _=a.hc(y);if(p instanceof Sd)l.push(y);else{const b=bc(p,_);b!=null&&(l.push(y),c.set(y,b))}});const f=new Nn(l);return new z1(c,f,a.fieldTransforms)}function g4(e,t,n,r,a,l){const c=e.dc(1,t,n),f=[Bg(t,r,n)],m=[a];if(l.length%2!=0)throw new dt(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(Bg(t,l[b])),m.push(l[b+1]);const p=[],y=Tn.empty();for(let b=f.length-1;b>=0;--b)if(!K1(p,f[b])){const w=f[b];let O=m[b];O=xe(O);const L=c.hc(w);if(O instanceof Sd)p.push(w);else{const M=bc(O,L);M!=null&&(p.push(w),y.set(w,M))}}const _=new Nn(p);return new z1(y,_,c.fieldTransforms)}function y4(e,t,n,r=!1){return bc(n,e.dc(r?4:3,t))}function bc(e,t){if(G1(e=xe(e)))return tv("Unsupported field value:",t,e),H1(e,t);if(e instanceof Xy)return function(r,a){if(!F1(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let m=bc(f,a.Pc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(e,t)}return function(r,a){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Ve.fromDate(r);return{timestampValue:qf(a.serializer,l)}}if(r instanceof Ve){const l=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qf(a.serializer,l)}}if(r instanceof Wy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qo)return{bytesValue:a1(a.serializer,r._byteString)};if(r instanceof pn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:My(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Zy)return function(c,f){return{mapValue:{fields:{[Mw]:{stringValue:kw},[jf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.Tc("VectorValues must only contain numeric values.");return Ny(f.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${Td(r)}`)}(e,t)}function H1(e,t){const n={};return Iw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ws(e,(r,a)=>{const l=bc(a,t.uc(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function G1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ve||e instanceof Wy||e instanceof Qo||e instanceof pn||e instanceof Xy||e instanceof Zy)}function tv(e,t,n){if(!G1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=Td(n);throw r==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}}function Bg(e,t,n){if((t=xe(t))instanceof bd)return t._internalPath;if(typeof t=="string")return ev(e,t);throw Qf("Field path arguments must be of type string or ",e,!1,void 0,n)}const v4=new RegExp("[~\\*/\\[\\]]");function ev(e,t,n){if(t.search(v4)>=0)throw Qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new bd(...t.split("."))._internalPath}catch{throw Qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Qf(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new dt(it.INVALID_ARGUMENT,f+e+m)}function K1(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(wd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _4 extends Y1{data(){return super.data()}}function wd(e,t){return typeof t=="string"?ev(e,t):t instanceof bd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new dt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nv{}class $1 extends nv{}function $f(e,t,...n){let r=[];t instanceof nv&&r.push(t),r=r.concat(n),function(l){const c=l.filter(m=>m instanceof iv).length,f=l.filter(m=>m instanceof Rd).length;if(c>1||c>0&&f>0)throw new dt(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)e=a._apply(e);return e}class Rd extends $1{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Rd(t,n,r)}_apply(t){const n=this._parse(t);return X1(t._query,n),new xs(t.firestore,t.converter,Cg(t._query,n))}_parse(t){const n=Ad(t.firestore);return function(l,c,f,m,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new dt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Hb(_,y);const O=[];for(const L of _)O.push(qb(m,l,L));b={arrayValue:{values:O}}}else b=qb(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Hb(_,y),b=y4(f,c,_,y==="in"||y==="not-in");return Re.create(p,y,b)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Lu(e,t,n){const r=t,a=wd("where",e);return Rd._create(a,r,n)}class iv extends nv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new iv(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)X1(c,m),c=Cg(c,m)}(t._query,n),new xs(t.firestore,t.converter,Cg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rv extends $1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new rv(t,n)}_apply(t){const n=function(a,l,c){if(a.startAt!==null)throw new dt(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new dt(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zu(l,c)}(t._query,this._field,this._direction);return new xs(t.firestore,t.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new sl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,n))}}function T4(e,t="asc"){const n=t,r=wd("orderBy",e);return rv._create(r,n)}function qb(e,t,n){if(typeof(n=xe(n))=="string"){if(n==="")throw new dt(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hw(t)&&n.indexOf("/")!==-1)throw new dt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ie.fromString(n));if(!gt.isDocumentKey(r))throw new dt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ib(e,new gt(r))}if(n instanceof pn)return ib(e,n._key);throw new dt(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Td(n)}.`)}function Hb(e,t){if(!Array.isArray(e)||e.length===0)throw new dt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function X1(e,t){const n=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new dt(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new dt(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class E4{convertValue(t,n="none"){switch(gs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ps(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ws(t,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(t){var n,r,a;const l=(a=(r=(n=t.fields)===null||n===void 0?void 0:n[jf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>_e(c.doubleValue));return new Zy(l)}convertGeoPoint(t){return new Wy(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=hd(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($u(t));default:return null}}convertTimestamp(t){const n=ms(t);return new Ve(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ie.fromString(t);Kt(f1(r),9688,{name:t});const a=new Xu(r.get(1),r.get(3)),l=new gt(r.popFirst(5));return a.isEqual(n)||mr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Z1 extends Y1{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(wd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ef extends Z1{data(t={}){return super.data(t)}}class J1{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Cu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Ef(this._firestore,this._userDataWriter,r.key,r,new Cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new dt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Ef(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Cu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Ef(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Cu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:b4(f.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function b4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:e})}}class sv extends E4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function zg(e){e=$n(e,xs);const t=$n(e.firestore,_s),n=$y(t),r=new sv(t);return Q1(e._query),o4(n,e._query).then(a=>new J1(t,r,e,a))}function A4(e,t,n){e=$n(e,pn);const r=$n(e.firestore,_s),a=W1(e.converter,t);return xd(r,[q1(Ad(r),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Qn.none())])}function S4(e,t,n,...r){e=$n(e,pn);const a=$n(e.firestore,_s),l=Ad(a);let c;return c=typeof(t=xe(t))=="string"||t instanceof bd?g4(l,"updateDoc",e._key,t,n,r):p4(l,"updateDoc",e._key,t),xd(a,[c.toMutation(e._key,Qn.exists(!0))])}function w4(e){return xd($n(e.firestore,_s),[new Oy(e._key,Qn.none())])}function R4(e,t){const n=$n(e.firestore,_s),r=Yf(e),a=W1(e.converter,t);return xd(n,[q1(Ad(e.firestore),"addDoc",r._key,a,e.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}function x4(e,...t){var n,r,a;e=xe(e);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||Fb(t[c])||(l=t[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Fb(t[c])){const _=t[c];t[c]=(n=_.next)===null||n===void 0?void 0:n.bind(_),t[c+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),t[c+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let m,p,y;if(e instanceof pn)p=$n(e.firestore,_s),y=Dy(e._key.path),m={next:_=>{t[c]&&t[c](C4(p,e,_))},error:t[c+1],complete:t[c+2]};else{const _=$n(e,xs);p=$n(_.firestore,_s),y=_._query;const b=new sv(p);m={next:w=>{t[c]&&t[c](new J1(p,b,_,w))},error:t[c+1],complete:t[c+2]},Q1(e._query)}return function(b,w,O,L){const M=new k1(L),K=new x1(w,M,O);return b.asyncQueue.enqueueAndForget(async()=>w1(await jg(b),K)),()=>{M.yu(),b.asyncQueue.enqueueAndForget(async()=>R1(await jg(b),K))}}($y(p),y,f,m)}function xd(e,t){return function(r,a){const l=new hs;return r.asyncQueue.enqueueAndForget(async()=>$k(await a4(r),a,l)),l.promise}($y(e),t)}function C4(e,t,n){const r=n.docs.get(t._key),a=new sv(e);return new Z1(e,a,t._key,r,new Cu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){nl=a})(tl),Bo(new Aa("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new _s(new _V(r.getProvider("auth-internal")),new bV(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new dt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),us(GE,KE,t),us(GE,KE,"esm2017")})();const I4={apiKey:"AIzaSyAwHDyAQA3zh-fKugf2NisjJiuqvDj8drc",authDomain:"cloud-contact-saver.firebaseapp.com",projectId:"cloud-contact-saver",storageBucket:"cloud-contact-saver.firebasestorage.app",messagingSenderId:"705922541331",appId:"1:705922541331:web:945f482a60df03e609dce6"},tR=VS(I4),Eu=dV(tR),ga=c4(tR),eR=j.createContext();function ol(){return j.useContext(eR)}function D4({children:e}){const[t,n]=j.useState(null),[r,a]=j.useState(!0),[l,c]=j.useState("");async function f(O,L,M){const K=await XO(Eu,O,L);return await VE(K.user,{displayName:M}),K}function m(O,L){return WO(Eu,O,L)}function p(){return nP(Eu)}function y(O){return $O(Eu,O)}function _(O,L){return VE(O,L)}function b(){c("")}j.useEffect(()=>eP(Eu,L=>{n(L),a(!1)}),[]);const w={currentUser:t,signup:f,login:m,logout:p,resetPassword:y,updateUserProfile:_,error:l,setError:c,resetError:b};return D.jsx(eR.Provider,{value:w,children:!r&&e})}const av=j.createContext({});function ov(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const lv=typeof window<"u",nR=lv?j.useLayoutEffect:j.useEffect,Cd=j.createContext(null),uv=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class N4 extends j.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=r instanceof HTMLElement&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function O4({children:e,isPresent:t,anchorX:n}){const r=j.useId(),a=j.useRef(null),l=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=j.useContext(uv);return j.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:y,right:_}=l.current;if(t||!a.current||!f||!m)return;const b=n==="left"?`left: ${y}`:`right: ${_}`;a.current.dataset.motionPopId=r;const w=document.createElement("style");return c&&(w.nonce=c),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[t]),D.jsx(N4,{isPresent:t,childRef:a,sizeRef:l,children:j.cloneElement(e,{ref:a})})}const P4=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f})=>{const m=ov(V4),p=j.useId();let y=!0,_=j.useMemo(()=>(y=!1,{id:p,initial:t,isPresent:n,custom:a,onExitComplete:b=>{m.set(b,!0);for(const w of m.values())if(!w)return;r&&r()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,r]);return l&&y&&(_={..._}),j.useMemo(()=>{m.forEach((b,w)=>m.set(w,!1))},[n]),j.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(e=D.jsx(O4,{isPresent:n,anchorX:f,children:e})),D.jsx(Cd.Provider,{value:_,children:e})};function V4(){return new Map}function iR(e=!0){const t=j.useContext(Cd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=j.useId();j.useEffect(()=>{if(e)return a(l)},[e]);const c=j.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const af=e=>e.key||"";function Gb(e){const t=[];return j.Children.forEach(e,n=>{j.isValidElement(n)&&t.push(n)}),t}const Ac=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left"})=>{const[m,p]=iR(c),y=j.useMemo(()=>Gb(e),[e]),_=c&&!m?[]:y.map(af),b=j.useRef(!0),w=j.useRef(y),O=ov(()=>new Map),[L,M]=j.useState(y),[K,Z]=j.useState(y);nR(()=>{b.current=!1,w.current=y;for(let W=0;W<K.length;W++){const ut=af(K[W]);_.includes(ut)?O.delete(ut):O.get(ut)!==!0&&O.set(ut,!1)}},[K,_.length,_.join("-")]);const G=[];if(y!==L){let W=[...y];for(let ut=0;ut<K.length;ut++){const N=K[ut],R=af(N);_.includes(R)||(W.splice(ut,0,N),G.push(N))}return l==="wait"&&G.length&&(W=G),Z(Gb(W)),M(y),null}const{forceRender:at}=j.useContext(av);return D.jsx(D.Fragment,{children:K.map(W=>{const ut=af(W),N=c&&!m?!1:y===K||_.includes(ut),R=()=>{if(O.has(ut))O.set(ut,!0);else return;let x=!0;O.forEach(V=>{V||(x=!1)}),x&&(at==null||at(),Z(w.current),c&&(p==null||p()),r&&r())};return D.jsx(P4,{isPresent:N,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,onExitComplete:N?void 0:R,anchorX:f,children:W},ut)})})};function cv(e,t){e.indexOf(t)===-1&&e.push(t)}function hv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const gr=(e,t,n)=>n>t?t:n<e?e:n;let fv=()=>{};const yr={},rR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),sR=e=>/^0[^.\s]+$/u.test(e);function dv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Xn=e=>e,M4=(e,t)=>n=>t(e(n)),Sc=(...e)=>e.reduce(M4),ec=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class mv{constructor(){this.subscriptions=[]}add(t){return cv(this.subscriptions,t),()=>hv(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ii=e=>e*1e3,Di=e=>e/1e3;function aR(e,t){return t?e*(1e3/t):0}const oR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,k4=1e-7,L4=12;function U4(e,t,n,r,a){let l,c,f=0;do c=t+(n-t)/2,l=oR(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>k4&&++f<L4);return c}function wc(e,t,n,r){if(e===t&&n===r)return Xn;const a=l=>U4(l,0,1,e,n);return l=>l===0||l===1?l:oR(a(l),t,r)}const lR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uR=e=>t=>1-e(1-t),cR=wc(.33,1.53,.69,.99),pv=uR(cR),hR=lR(pv),fR=e=>(e*=2)<1?.5*pv(e):.5*(2-Math.pow(2,-10*(e-1))),gv=e=>1-Math.sin(Math.acos(e)),dR=uR(gv),mR=lR(gv),j4=wc(.42,0,1,1),B4=wc(0,0,.58,1),pR=wc(.42,0,.58,1),z4=e=>Array.isArray(e)&&typeof e[0]!="number",gR=e=>Array.isArray(e)&&typeof e[0]=="number",F4={linear:Xn,easeIn:j4,easeInOut:pR,easeOut:B4,circIn:gv,circInOut:mR,circOut:dR,backIn:pv,backInOut:hR,backOut:cR,anticipate:fR},q4=e=>typeof e=="string",Kb=e=>{if(gR(e)){fv(e.length===4);const[t,n,r,a]=e;return wc(t,n,r,a)}else if(q4(e))return F4[e];return e},of=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Yb={value:null};function H4(e,t){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function p(_){c.has(_)&&(y.schedule(_),e()),m++,_(f)}const y={schedule:(_,b=!1,w=!1)=>{const L=w&&a?n:r;return b&&c.add(_),L.has(_)||L.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(f=_,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),t&&Yb.value&&Yb.value.frameloop[t].push(m),m=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const G4=40;function yR(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=of.reduce((G,at)=>(G[at]=H4(l,t?at:void 0),G),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:b,render:w,postRender:O}=c,L=()=>{const G=yr.useManualTiming?a.timestamp:performance.now();n=!1,yr.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(G-a.timestamp,G4),1)),a.timestamp=G,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),b.process(a),w.process(a),O.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(L))},M=()=>{n=!0,r=!0,a.isProcessing||e(L)};return{schedule:of.reduce((G,at)=>{const W=c[at];return G[at]=(ut,N=!1,R=!1)=>(n||M(),W.schedule(ut,N,R)),G},{}),cancel:G=>{for(let at=0;at<of.length;at++)c[of[at]].cancel(G)},state:a,steps:c}}const{schedule:ue,cancel:Ts,state:$e,steps:Wp}=yR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let bf;function K4(){bf=void 0}const En={now:()=>(bf===void 0&&En.set($e.isProcessing||yr.useManualTiming?$e.timestamp:performance.now()),bf),set:e=>{bf=e,queueMicrotask(K4)}},vR=e=>t=>typeof t=="string"&&t.startsWith(e),yv=vR("--"),Y4=vR("var(--"),vv=e=>Y4(e)?Q4.test(e.split("/*")[0].trim()):!1,Q4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ll={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},nc={...ll,transform:e=>gr(0,1,e)},lf={...ll,default:1},Uu=e=>Math.round(e*1e5)/1e5,_v=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $4(e){return e==null}const X4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tv=(e,t)=>n=>!!(typeof n=="string"&&X4.test(n)&&n.startsWith(e)||t&&!$4(n)&&Object.prototype.hasOwnProperty.call(n,t)),_R=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(_v);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},W4=e=>gr(0,255,e),Zp={...ll,transform:e=>Math.round(W4(e))},_a={test:Tv("rgb","red"),parse:_R("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Zp.transform(e)+", "+Zp.transform(t)+", "+Zp.transform(n)+", "+Uu(nc.transform(r))+")"};function Z4(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Fg={test:Tv("#"),parse:Z4,transform:_a.transform},Rc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zr=Rc("deg"),Ni=Rc("%"),At=Rc("px"),J4=Rc("vh"),tL=Rc("vw"),Qb={...Ni,parse:e=>Ni.parse(e)/100,transform:e=>Ni.transform(e*100)},Do={test:Tv("hsl","hue"),parse:_R("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ni.transform(Uu(t))+", "+Ni.transform(Uu(n))+", "+Uu(nc.transform(r))+")"},rn={test:e=>_a.test(e)||Fg.test(e)||Do.test(e),parse:e=>_a.test(e)?_a.parse(e):Do.test(e)?Do.parse(e):Fg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_a.transform(e):Do.transform(e)},eL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nL(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(_v))==null?void 0:t.length)||0)+(((n=e.match(eL))==null?void 0:n.length)||0)>0}const TR="number",ER="color",iL="var",rL="var(",$b="${}",sL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ic(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(sL,m=>(rn.test(m)?(r.color.push(l),a.push(ER),n.push(rn.parse(m))):m.startsWith(rL)?(r.var.push(l),a.push(iL),n.push(m)):(r.number.push(l),a.push(TR),n.push(parseFloat(m))),++l,$b)).split($b);return{values:n,split:f,indexes:r,types:a}}function bR(e){return ic(e).values}function AR(e){const{split:t,types:n}=ic(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const f=n[c];f===TR?l+=Uu(a[c]):f===ER?l+=rn.transform(a[c]):l+=a[c]}return l}}const aL=e=>typeof e=="number"?0:e;function oL(e){const t=bR(e);return AR(e)(t.map(aL))}const Es={test:nL,parse:bR,createTransformer:AR,getAnimatableNone:oL};function Jp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lL({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;a=Jp(m,f,e+1/3),l=Jp(m,f,e),c=Jp(m,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Xf(e,t){return n=>n>0?t:e}const le=(e,t,n)=>e+(t-e)*n,tg=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},uL=[Fg,_a,Do],cL=e=>uL.find(t=>t.test(e));function Xb(e){const t=cL(e);if(!t)return!1;let n=t.parse(e);return t===Do&&(n=lL(n)),n}const Wb=(e,t)=>{const n=Xb(e),r=Xb(t);if(!n||!r)return Xf(e,t);const a={...n};return l=>(a.red=tg(n.red,r.red,l),a.green=tg(n.green,r.green,l),a.blue=tg(n.blue,r.blue,l),a.alpha=le(n.alpha,r.alpha,l),_a.transform(a))},qg=new Set(["none","hidden"]);function hL(e,t){return qg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function fL(e,t){return n=>le(e,t,n)}function Ev(e){return typeof e=="number"?fL:typeof e=="string"?vv(e)?Xf:rn.test(e)?Wb:pL:Array.isArray(e)?SR:typeof e=="object"?rn.test(e)?Wb:dL:Xf}function SR(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>Ev(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function dL(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Ev(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function mL(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][r[l]],f=e.values[c]??0;n[a]=f,r[l]++}return n}const pL=(e,t)=>{const n=Es.createTransformer(t),r=ic(e),a=ic(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?qg.has(e)&&!a.values.length||qg.has(t)&&!r.values.length?hL(e,t):Sc(SR(mL(r,a),a.values),n):Xf(e,t)};function wR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?le(e,t,n):Ev(e)(e,t)}const gL=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ue.update(t,!0),stop:()=>Ts(t),now:()=>$e.isProcessing?$e.timestamp:En.now()}},RR=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=e(l/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Wf=2e4;function bv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Wf;)t+=n,r=e.next(t);return t>=Wf?1/0:t}function yL(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(bv(r),Wf);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:Di(a)}}const vL=5;function xR(e,t,n){const r=Math.max(t-vL,0);return aR(n-e(r),t-r)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zb=.001;function _L({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:r=me.mass}){let a,l,c=1-t;c=gr(me.minDamping,me.maxDamping,c),e=gr(me.minDuration,me.maxDuration,Di(e)),c<1?(a=p=>{const y=p*c,_=y*e,b=y-n,w=Hg(p,c),O=Math.exp(-_);return Zb-b/w*O},l=p=>{const _=p*c*e,b=_*n+n,w=Math.pow(c,2)*Math.pow(p,2)*e,O=Math.exp(-_),L=Hg(Math.pow(p,2),c);return(-a(p)+Zb>0?-1:1)*((b-w)*O)/L}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-.001+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const f=5/e,m=EL(a,l,f);if(e=Ii(e),isNaN(m))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:e}}}const TL=12;function EL(e,t,n){let r=n;for(let a=1;a<TL;a++)r=r-e(r)/t(r);return r}function Hg(e,t){return e*Math.sqrt(1-t*t)}const bL=["duration","bounce"],AL=["stiffness","damping","mass"];function Jb(e,t){return t.some(n=>e[n]!==void 0)}function SL(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!Jb(e,AL)&&Jb(e,bL))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*gr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:l}}else{const n=_L(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Zf(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:w}=SL({...n,velocity:-Di(n.velocity||0)}),O=b||0,L=p/(2*Math.sqrt(m*y)),M=c-l,K=Di(Math.sqrt(m/y)),Z=Math.abs(M)<5;r||(r=Z?me.restSpeed.granular:me.restSpeed.default),a||(a=Z?me.restDelta.granular:me.restDelta.default);let G;if(L<1){const W=Hg(K,L);G=ut=>{const N=Math.exp(-L*K*ut);return c-N*((O+L*K*M)/W*Math.sin(W*ut)+M*Math.cos(W*ut))}}else if(L===1)G=W=>c-Math.exp(-K*W)*(M+(O+K*M)*W);else{const W=K*Math.sqrt(L*L-1);G=ut=>{const N=Math.exp(-L*K*ut),R=Math.min(W*ut,300);return c-N*((O+L*K*M)*Math.sinh(R)+W*M*Math.cosh(R))/W}}const at={calculatedDuration:w&&_||null,next:W=>{const ut=G(W);if(w)f.done=W>=_;else{let N=W===0?O:0;L<1&&(N=W===0?Ii(O):xR(G,W,ut));const R=Math.abs(N)<=r,x=Math.abs(c-ut)<=a;f.done=R&&x}return f.value=f.done?c:ut,f},toString:()=>{const W=Math.min(bv(at),Wf),ut=RR(N=>at.next(W*N).value,W,30);return W+"ms "+ut},toTransition:()=>{}};return at}Zf.applyToOptions=e=>{const t=yL(e,100,Zf);return e.ease=t.ease,e.duration=Ii(t.duration),e.type="keyframes",e};function Gg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],b={done:!1,value:_},w=R=>f!==void 0&&R<f||m!==void 0&&R>m,O=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let L=n*t;const M=_+L,K=c===void 0?M:c(M);K!==M&&(L=K-_);const Z=R=>-L*Math.exp(-R/r),G=R=>K+Z(R),at=R=>{const x=Z(R),V=G(R);b.done=Math.abs(x)<=p,b.value=b.done?K:V};let W,ut;const N=R=>{w(b.value)&&(W=R,ut=Zf({keyframes:[b.value,O(b.value)],velocity:xR(G,R,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:R=>{let x=!1;return!ut&&W===void 0&&(x=!0,at(R),N(R)),W!==void 0&&R>=W?ut.next(R-W):(!x&&at(R),b)}}}function wL(e,t,n){const r=[],a=n||yr.mix||wR,l=e.length-1;for(let c=0;c<l;c++){let f=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Xn:t;f=Sc(m,f)}r.push(f)}return r}function RL(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(fv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=wL(t,r,a),m=f.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const b=ec(e[_],e[_+1],y);return f[_](b)};return n?y=>p(gr(e[0],e[l-1],y)):p}function xL(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=ec(0,t,r);e.push(le(n,1,a))}}function CL(e){const t=[0];return xL(t,e.length-1),t}function IL(e,t){return e.map(n=>n*t)}function DL(e,t){return e.map(()=>t||pR).splice(0,e.length-1)}function ju({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=z4(r)?r.map(Kb):Kb(r),l={done:!1,value:t[0]},c=IL(n&&n.length===t.length?n:CL(t),e),f=RL(c,t,{ease:Array.isArray(a)?a:DL(t,a)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const NL=e=>e!==null;function Av(e,{repeat:t,repeatType:n="loop"},r,a=1){const l=e.filter(NL),f=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const OL={decay:Gg,inertia:Gg,tween:ju,keyframes:ju,spring:Zf};function CR(e){typeof e.type=="string"&&(e.type=OL[e.type])}class Sv{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const PL=e=>e/100;class IR extends Sv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==En.now()&&this.tick(En.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;CR(t);const{type:n=ju,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:f}=t;const m=n||ju;m!==ju&&typeof f[0]!="number"&&(this.mixKeyframes=Sc(PL,wR(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=bv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:w,type:O,onUpdate:L,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const K=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Z=this.playbackSpeed>=0?K<0:K>a;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let G=this.currentTime,at=r;if(_){const R=Math.min(this.currentTime,a)/f;let x=Math.floor(R),V=R%1;!V&&R>=1&&(V=1),V===1&&x--,x=Math.min(x,_+1),!!(x%2)&&(b==="reverse"?(V=1-V,w&&(V-=w/f)):b==="mirror"&&(at=c)),G=gr(0,1,V)*f}const W=Z?{done:!1,value:y[0]}:at.next(G);l&&(W.value=l(W.value));let{done:ut}=W;!Z&&m!==null&&(ut=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return N&&O!==Gg&&(W.value=Av(y,this.options,M,this.speed)),L&&L(W.value),N&&this.finish(),W}then(t,n){return this.finished.then(t,n)}get duration(){return Di(this.calculatedDuration)}get time(){return Di(this.currentTime)}set time(t){t=Ii(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(En.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Di(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=gL,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),n&&n();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(En.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}}function VL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ta=e=>e*180/Math.PI,Kg=e=>{const t=Ta(Math.atan2(e[1],e[0]));return Yg(t)},ML={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Kg,rotateZ:Kg,skewX:e=>Ta(Math.atan(e[1])),skewY:e=>Ta(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Yg=e=>(e=e%360,e<0&&(e+=360),e),tA=Kg,eA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),nA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),kL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eA,scaleY:nA,scale:e=>(eA(e)+nA(e))/2,rotateX:e=>Yg(Ta(Math.atan2(e[6],e[5]))),rotateY:e=>Yg(Ta(Math.atan2(-e[2],e[0]))),rotateZ:tA,rotate:tA,skewX:e=>Ta(Math.atan(e[4])),skewY:e=>Ta(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function iA(e){return e.includes("scale")?1:0}function Qg(e,t){if(!e||e==="none")return iA(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=kL,a=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ML,a=f}if(!a)return iA(t);const l=r[t],c=a[1].split(",").map(UL);return typeof l=="function"?l(c):c[l]}const LL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Qg(n,t)};function UL(e){return parseFloat(e.trim())}const ul=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cl=new Set(ul),rA=e=>e===ll||e===At,jL=new Set(["x","y","z"]),BL=ul.filter(e=>!jL.has(e));function zL(e){const t=[];return BL.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const $o={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Qg(t,"x"),y:(e,{transform:t})=>Qg(t,"y")};$o.translateX=$o.x;$o.translateY=$o.y;const Ea=new Set;let $g=!1,Xg=!1,Wg=!1;function DR(){if(Xg){const e=Array.from(Ea).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=zL(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var f;(f=r.getValue(l))==null||f.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Xg=!1,$g=!1,Ea.forEach(e=>e.complete(Wg)),Ea.clear()}function NR(){Ea.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xg=!0)})}function FL(){Wg=!0,NR(),DR(),Wg=!1}class wv{constructor(t,n,r,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ea.add(this),$g||($g=!0,ue.read(NR),ue.resolveKeyframes(DR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const f=r.readValue(n,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}VL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ea.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ea.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const qL=e=>e.startsWith("--");function HL(e,t,n){qL(t)?e.style.setProperty(t,n):e.style[t]=n}const GL=dv(()=>window.ScrollTimeline!==void 0),KL={};function YL(e,t){const n=dv(e);return()=>KL[t]??n()}const OR=YL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Iu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,sA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Iu([0,.65,.55,1]),circOut:Iu([.55,0,1,.45]),backIn:Iu([.31,.01,.66,-.59]),backOut:Iu([.33,1.53,.69,.99])};function PR(e,t){if(e)return typeof e=="function"?OR()?RR(e,t):"ease-out":gR(e)?Iu(e):Array.isArray(e)?e.map(n=>PR(n,t)||sA.easeOut):sA[e]}function QL(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=PR(f,a);Array.isArray(_)&&(y.easing=_);const b={delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),e.animate(y,b)}function VR(e){return typeof e=="function"&&"applyToOptions"in e}function $L({type:e,...t}){return VR(e)&&OR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class XL extends Sv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,fv(typeof t.type!="string");const p=$L(t);this.animation=QL(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Av(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):HL(n,r,y),this.animation.cancel()}m==null||m(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Di(Number(t))}get time(){return Di(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ii(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&GL()?(this.animation.timeline=t,Xn):n(this)}}const MR={anticipate:fR,backInOut:hR,circInOut:mR};function WL(e){return e in MR}function ZL(e){typeof e.ease=="string"&&WL(e.ease)&&(e.ease=MR[e.ease])}const aA=10;class JL extends XL{constructor(t){ZL(t),CR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new IR({...c,autoplay:!1}),m=Ii(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-aA).value,f.sample(m).value,aA),f.stop()}}const oA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Es.test(e)||e==="0")&&!e.startsWith("url("));function tU(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function eU(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=oA(a,t),f=oA(l,t);return!c||!f?!1:tU(e)||(n==="spring"||VR(n))&&r}const nU=new Set(["opacity","clipPath","filter","transform"]),iU=dv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rU(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return iU()&&n&&nU.has(n)&&(n!=="transform"||!m)&&!f&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const sU=40;class aU extends Sv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){var O;super(),this.stop=()=>{var L,M;this._animation?(this._animation.stop(),(L=this.stopTimeline)==null||L.call(this)):(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=En.now();const b={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},w=(y==null?void 0:y.KeyframeResolver)||wv;this.keyframeResolver=new w(f,(L,M,K)=>this.onKeyframesResolved(L,M,b,!K),m,p,y),(O=this.keyframeResolver)==null||O.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=r;this.resolvedAt=En.now(),eU(t,l,c,f)||((yr.instantAnimations||!m)&&(y==null||y(Av(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>sU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},w=!p&&rU(b)?new JL({...b,element:b.motionValue.owner.current}):new IR(b);w.finished.then(()=>this.notifyFinished()).catch(Xn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||FL(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const oU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lU(e){const t=oU.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function kR(e,t,n=1){const[r,a]=lU(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return rR(c)?parseFloat(c):c}return vv(a)?kR(a,t,n+1):a}function Rv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const LR=new Set(["width","height","top","left","right","bottom",...ul]),uU={test:e=>e==="auto",parse:e=>e},UR=e=>t=>t.test(e),jR=[ll,At,Ni,Zr,tL,J4,uU],lA=e=>jR.find(UR(e));function cU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||sR(e):!0}const hU=new Set(["brightness","contrast","saturate","opacity"]);function fU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(_v)||[];if(!r)return e;const a=n.replace(r,"");let l=hU.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const dU=/\b([a-z-]*)\(.*?\)/gu,Zg={...Es,getAnimatableNone:e=>{const t=e.match(dU);return t?t.map(fU).join(" "):e}},uA={...ll,transform:Math.round},mU={rotate:Zr,rotateX:Zr,rotateY:Zr,rotateZ:Zr,scale:lf,scaleX:lf,scaleY:lf,scaleZ:lf,skew:Zr,skewX:Zr,skewY:Zr,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:nc,originX:Qb,originY:Qb,originZ:At},xv={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...mU,zIndex:uA,fillOpacity:nc,strokeOpacity:nc,numOctaves:uA},pU={...xv,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:Zg,WebkitFilter:Zg},BR=e=>pU[e];function zR(e,t){let n=BR(e);return n!==Zg&&(n=Es),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const gU=new Set(["auto","none","0"]);function yU(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!gU.has(l)&&ic(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=zR(n,a)}class vU extends wv{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),vv(p))){const y=kR(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!LR.has(r)||t.length!==2)return;const[a,l]=t,c=lA(a),f=lA(l);if(c!==f)if(rA(c)&&rA(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||cU(t[a]))&&r.push(a);r.length&&yU(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$o[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=$o[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function _U(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const{schedule:Cv}=yR(queueMicrotask,!1),ii={x:!1,y:!1};function FR(){return ii.x||ii.y}function TU(e){return e==="x"||e==="y"?ii[e]?null:(ii[e]=!0,()=>{ii[e]=!1}):ii.x||ii.y?null:(ii.x=ii.y=!0,()=>{ii.x=ii.y=!1})}function qR(e,t){const n=_U(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function cA(e){return!(e.pointerType==="touch"||FR())}function EU(e,t,n={}){const[r,a,l]=qR(e,n),c=f=>{if(!cA(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const y=_=>{cA(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const HR=(e,t)=>t?e===t?!0:HR(e,t.parentElement):!1,Iv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,bU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AU(e){return bU.has(e.tagName)||e.tabIndex!==-1}const Du=new WeakSet;function hA(e){return t=>{t.key==="Enter"&&e(t)}}function eg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const SU=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=hA(()=>{if(Du.has(n))return;eg(n,"down");const a=hA(()=>{eg(n,"up")}),l=()=>eg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function fA(e){return Iv(e)&&!FR()}function wU(e,t,n={}){const[r,a,l]=qR(e,n),c=f=>{const m=f.currentTarget;if(!fA(f)||Du.has(m))return;Du.add(m);const p=t(m,f),y=(w,O)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),!(!fA(w)||!Du.has(m))&&(Du.delete(m),typeof p=="function"&&p(w,{success:O}))},_=w=>{y(w,m===window||m===document||n.useGlobalTarget||HR(m,w.target))},b=w=>{y(w,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),f instanceof HTMLElement&&(f.addEventListener("focus",p=>SU(p,a)),!AU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}const dA=30,RU=e=>!isNaN(parseFloat(e));class xU{constructor(t,n={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var c,f;const l=En.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),a&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=En.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=RU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new mv);const r=this.events[t].add(n);return t==="change"?()=>{r(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=En.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>dA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dA);return aR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t;(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rc(e,t){return new xU(e,t)}const CU=[...jR,rn,Es],IU=e=>CU.find(UR(e)),GR=(e,t)=>t&&typeof e=="number"?t.transform(e):e,KR=j.createContext({strict:!1}),mA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const e in mA)Xo[e]={isEnabled:t=>mA[e].some(n=>!!t[n])};function DU(e){for(const t in e)Xo[t]={...Xo[t],...e[t]}}const NU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||NU.has(e)}let YR=e=>!Jf(e);function OU(e){e&&(YR=t=>t.startsWith("on")?!Jf(t):e(t))}try{OU(require("@emotion/is-prop-valid").default)}catch{}function PU(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(YR(a)||n===!0&&Jf(a)||!t&&!Jf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function VU(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Id=j.createContext({});function Dd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function sc(e){return typeof e=="string"||Array.isArray(e)}const Dv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nv=["initial",...Dv];function Nd(e){return Dd(e.animate)||Nv.some(t=>sc(e[t]))}function QR(e){return!!(Nd(e)||e.variants)}function MU(e,t){if(Nd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||sc(n)?n:void 0,animate:sc(r)?r:void 0}}return e.inherit!==!1?t:{}}function kU(e){const{initial:t,animate:n}=MU(e,j.useContext(Id));return j.useMemo(()=>({initial:t,animate:n}),[pA(t),pA(n)])}function pA(e){return Array.isArray(e)?e.join(" "):e}const LU=Symbol.for("motionComponentSymbol");function No(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function UU(e,t,n){return j.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):No(n)&&(n.current=r))},[t])}const Ov=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jU="framerAppearId",$R="data-"+Ov(jU),XR=j.createContext({});function BU(e,t,n,r,a){var L,M;const{visualElement:l}=j.useContext(Id),c=j.useContext(KR),f=j.useContext(Cd),m=j.useContext(uv).reducedMotion,p=j.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=j.useContext(XR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&zU(p.current,n,a,_);const b=j.useRef(!1);j.useInsertionEffect(()=>{y&&b.current&&y.update(n,f)});const w=n[$R],O=j.useRef(!!w&&!((L=window.MotionHandoffIsComplete)!=null&&L.call(window,w))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,w)));return nR(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),Cv.render(y.render),O.current&&y.animationState&&y.animationState.animateChanges())}),j.useEffect(()=>{y&&(!O.current&&y.animationState&&y.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var K;(K=window.MotionHandoffMarkAsComplete)==null||K.call(window,w)}),O.current=!1))}),y}function zU(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:WR(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&No(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function WR(e){if(e)return e.options.allowProjection!==!1?e.projection:WR(e.parent)}function FU({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&DU(e);function l(f,m){let p;const y={...j.useContext(uv),...f,layoutId:qU(f)},{isStatic:_}=y,b=kU(f),w=r(f,_);if(!_&&lv){HU();const O=GU(y);p=O.MeasureLayout,b.visualElement=BU(a,w,y,t,O.ProjectionNode)}return D.jsxs(Id.Provider,{value:b,children:[p&&b.visualElement?D.jsx(p,{visualElement:b.visualElement,...y}):null,n(a,f,UU(w,b.visualElement,m),w,_,b.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=j.forwardRef(l);return c[LU]=a,c}function qU({layoutId:e}){const t=j.useContext(av).id;return t&&e!==void 0?t+"-"+e:e}function HU(e,t){j.useContext(KR).strict}function GU(e){const{drag:t,layout:n}=Xo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ac={};function KU(e){for(const t in e)ac[t]=e[t],yv(t)&&(ac[t].isCSSVariable=!0)}function ZR(e,{layout:t,layoutId:n}){return cl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ac[e]||e==="opacity")}const on=e=>!!(e&&e.getVelocity),YU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QU=ul.length;function $U(e,t,n){let r="",a=!0;for(let l=0;l<QU;l++){const c=ul[l],f=e[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=GR(f,xv[c]);if(!m){a=!1;const y=YU[c]||c;r+=`${y}(${p}) `}n&&(t[c]=p)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function Pv(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,f=!1;for(const m in t){const p=t[m];if(cl.has(m)){c=!0;continue}else if(yv(m)){a[m]=p;continue}else{const y=GR(p,xv[m]);m.startsWith("origin")?(f=!0,l[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=$U(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const Vv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JR(e,t,n){for(const r in t)!on(t[r])&&!ZR(r,n)&&(e[r]=t[r])}function XU({transformTemplate:e},t){return j.useMemo(()=>{const n=Vv();return Pv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function WU(e,t){const n=e.style||{},r={};return JR(r,n,e),Object.assign(r,XU(e,t)),r}function ZU(e,t){const n={},r=WU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const JU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mv(e){return typeof e!="string"||e.includes("-")?!1:!!(JU.indexOf(e)>-1||/[A-Z]/u.test(e))}const t3={offset:"stroke-dashoffset",array:"stroke-dasharray"},e3={offset:"strokeDashoffset",array:"strokeDasharray"};function n3(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?t3:e3;e[l.offset]=At.transform(-r);const c=At.transform(t),f=At.transform(n);e[l.array]=`${c} ${f}`}function tx(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p){if(Pv(e,f,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:_}=e;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox="fill-box",delete y.transformBox),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),a!==void 0&&n3(y,a,l,c,!1)}const ex=()=>({...Vv(),attrs:{}}),nx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function i3(e,t,n,r){const a=j.useMemo(()=>{const l=ex();return tx(l,t,nx(r),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};JR(l,e.style,e),a.style={...l,...a.style}}return a}function r3(e=!1){return(n,r,a,{latestValues:l},c)=>{const m=(Mv(n)?i3:ZU)(r,l,c,n),p=PU(r,typeof n=="string",e),y=n!==j.Fragment?{...p,...m,ref:a}:{},{children:_}=r,b=j.useMemo(()=>on(_)?_.get():_,[_]);return j.createElement(n,{...y,children:b})}}function gA(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function kv(e,t,n,r){if(typeof t=="function"){const[a,l]=gA(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=gA(r);t=t(n!==void 0?n:e.custom,a,l)}return t}function Af(e){return on(e)?e.get():e}function s3({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:a3(n,r,a,e),renderState:t()}}const ix=e=>(t,n)=>{const r=j.useContext(Id),a=j.useContext(Cd),l=()=>s3(e,t,r,a);return n?l():ov(l)};function a3(e,t,n,r){const a={},l=r(e,{});for(const b in l)a[b]=Af(l[b]);let{initial:c,animate:f}=e;const m=Nd(e),p=QR(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!Dd(_)){const b=Array.isArray(_)?_:[_];for(let w=0;w<b.length;w++){const O=kv(e,b[w]);if(O){const{transitionEnd:L,transition:M,...K}=O;for(const Z in K){let G=K[Z];if(Array.isArray(G)){const at=y?G.length-1:0;G=G[at]}G!==null&&(a[Z]=G)}for(const Z in L)a[Z]=L[Z]}}}return a}function Lv(e,t,n){var l;const{style:r}=e,a={};for(const c in r)(on(r[c])||t.style&&on(t.style[c])||ZR(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const o3={useVisualState:ix({scrapeMotionValuesFromProps:Lv,createRenderState:Vv})};function rx(e,t,n){const r=Lv(e,t,n);for(const a in e)if(on(e[a])||on(t[a])){const l=ul.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const l3={useVisualState:ix({scrapeMotionValuesFromProps:rx,createRenderState:ex})};function u3(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Mv(r)?l3:o3,preloadedFeatures:e,useRender:r3(a),createVisualElement:t,Component:r};return FU(c)}}function oc(e,t,n){const r=e.getProps();return kv(r,t,n!==void 0?n:r.custom,e)}const Jg=e=>Array.isArray(e);function c3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,rc(n))}function h3(e){return Jg(e)?e[e.length-1]||0:e}function f3(e,t){const n=oc(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const f=h3(l[c]);c3(e,c,f)}}function d3(e){return!!(on(e)&&e.add)}function ty(e,t){const n=e.getValue("willChange");if(d3(n))return n.add(t);if(!n&&yr.WillChange){const r=new yr.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function sx(e){return e.props[$R]}const m3=e=>e!==null;function p3(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(m3),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const g3={type:"spring",stiffness:500,damping:25,restSpeed:10},y3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),v3={type:"keyframes",duration:.8},_3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T3=(e,{keyframes:t})=>t.length>2?v3:cl.has(e)?e.startsWith("scale")?y3(t[1]):g3:_3;function E3({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Uv=(e,t,n,r={},a,l)=>c=>{const f=Rv(r,e)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ii(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:a};E3(f)||Object.assign(y,T3(e,y)),y.duration&&(y.duration=Ii(y.duration)),y.repeatDelay&&(y.repeatDelay=Ii(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),(yr.instantAnimations||yr.skipAnimations)&&(_=!0,y.duration=0,y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&t.get()!==void 0){const b=p3(y.keyframes,f);if(b!==void 0){ue.update(()=>{y.onUpdate(b),y.onComplete()});return}}return new aU(y)};function b3({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ax(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...f}=t;r&&(l=r);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in f){const _=e.getValue(y,e.latestValues[y]??null),b=f[y];if(b===void 0||p&&b3(p,y))continue;const w={delay:n,...Rv(l||{},y)},O=_.get();if(O!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===O&&!w.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const K=sx(e);if(K){const Z=window.MotionHandoffAnimation(K,y,ue);Z!==null&&(w.startTime=Z,L=!0)}}ty(e,y),_.start(Uv(y,_,b,e.shouldReduceMotion&&LR.has(y)?{type:!1}:w,e,L));const M=_.animation;M&&m.push(M)}return c&&Promise.all(m).then(()=>{ue.update(()=>{c&&f3(e,c)})}),m}function ey(e,t,n={}){var m;const r=oc(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(ax(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:b}=a;return A3(e,t,y+p,_,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function A3(e,t,n=0,r=0,a=1,l){const c=[],f=(e.variantChildren.size-1)*r,m=a===1?(p=0)=>p*r:(p=0)=>f-p*r;return Array.from(e.variantChildren).sort(S3).forEach((p,y)=>{p.notify("AnimationStart",t),c.push(ey(p,t,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(c)}function S3(e,t){return e.sortNodePosition(t)}function w3(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>ey(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=ey(e,t,n);else{const a=typeof t=="function"?oc(e,t,n.custom):t;r=Promise.all(ax(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function ox(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const R3=Nv.length;function lx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?lx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<R3;n++){const r=Nv[n],a=e.props[r];(sc(a)||a===!1)&&(t[r]=a)}return t}const x3=[...Dv].reverse(),C3=Dv.length;function I3(e){return t=>Promise.all(t.map(({animation:n,options:r})=>w3(e,n,r)))}function D3(e){let t=I3(e),n=yA(),r=!0;const a=m=>(p,y)=>{var b;const _=oc(e,y,m==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(_){const{transition:w,transitionEnd:O,...L}=_;p={...p,...L,...O}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=lx(e.parent)||{},_=[],b=new Set;let w={},O=1/0;for(let M=0;M<C3;M++){const K=x3[M],Z=n[K],G=p[K]!==void 0?p[K]:y[K],at=sc(G),W=K===m?Z.isActive:null;W===!1&&(O=M);let ut=G===y[K]&&G!==p[K]&&at;if(ut&&r&&e.manuallyAnimateOnMount&&(ut=!1),Z.protectedKeys={...w},!Z.isActive&&W===null||!G&&!Z.prevProp||Dd(G)||typeof G=="boolean")continue;const N=N3(Z.prevProp,G);let R=N||K===m&&Z.isActive&&!ut&&at||M>O&&at,x=!1;const V=Array.isArray(G)?G:[G];let U=V.reduce(a(K),{});W===!1&&(U={});const{prevResolvedValues:B={}}=Z,I={...B,...U},ae=st=>{R=!0,b.has(st)&&(x=!0,b.delete(st)),Z.needsAnimating[st]=!0;const ht=e.getValue(st);ht&&(ht.liveStyle=!1)};for(const st in I){const ht=U[st],Vt=B[st];if(w.hasOwnProperty(st))continue;let P=!1;Jg(ht)&&Jg(Vt)?P=!ox(ht,Vt):P=ht!==Vt,P?ht!=null?ae(st):b.add(st):ht!==void 0&&b.has(st)?ae(st):Z.protectedKeys[st]=!0}Z.prevProp=G,Z.prevResolvedValues=U,Z.isActive&&(w={...w,...U}),r&&e.blockInitialAnimation&&(R=!1),R&&(!(ut&&N)||x)&&_.push(...V.map(st=>({animation:st,options:{type:K}})))}if(b.size){const M={};if(typeof p.initial!="boolean"){const K=oc(e,Array.isArray(p.initial)?p.initial[0]:p.initial);K&&K.transition&&(M.transition=K.transition)}b.forEach(K=>{const Z=e.getBaseTarget(K),G=e.getValue(K);G&&(G.liveStyle=!0),M[K]=Z??null}),_.push({animation:M})}let L=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(L=!1),r=!1,L?t(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=e.variantChildren)==null||_.forEach(b=>{var w;return(w=b.animationState)==null?void 0:w.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=yA(),r=!0}}}function N3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ox(t,e):!1}function fa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yA(){return{animate:fa(!0),whileInView:fa(),whileHover:fa(),whileTap:fa(),whileDrag:fa(),whileFocus:fa(),exit:fa()}}class Cs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class O3 extends Cs{constructor(t){super(t),t.animationState||(t.animationState=D3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Dd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let P3=0;class V3 extends Cs{constructor(){super(...arguments),this.id=P3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const M3={animation:{Feature:O3},exit:{Feature:V3}};function lc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function xc(e){return{point:{x:e.pageX,y:e.pageY}}}const k3=e=>t=>Iv(t)&&e(t,xc(t));function Bu(e,t,n,r){return lc(e,t,k3(n),r)}function ux({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function L3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function U3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const cx=1e-4,j3=1-cx,B3=1+cx,hx=.01,z3=0-hx,F3=0+hx;function mn(e){return e.max-e.min}function q3(e,t,n){return Math.abs(e-t)<=n}function vA(e,t,n,r=.5){e.origin=r,e.originPoint=le(t.min,t.max,e.origin),e.scale=mn(n)/mn(t),e.translate=le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=j3&&e.scale<=B3||isNaN(e.scale))&&(e.scale=1),(e.translate>=z3&&e.translate<=F3||isNaN(e.translate))&&(e.translate=0)}function zu(e,t,n,r){vA(e.x,t.x,n.x,r?r.originX:void 0),vA(e.y,t.y,n.y,r?r.originY:void 0)}function _A(e,t,n){e.min=n.min+t.min,e.max=e.min+mn(t)}function H3(e,t,n){_A(e.x,t.x,n.x),_A(e.y,t.y,n.y)}function TA(e,t,n){e.min=t.min-n.min,e.max=e.min+mn(t)}function Fu(e,t,n){TA(e.x,t.x,n.x),TA(e.y,t.y,n.y)}const EA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oo=()=>({x:EA(),y:EA()}),bA=()=>({min:0,max:0}),ve=()=>({x:bA(),y:bA()});function Kn(e){return[e("x"),e("y")]}function ng(e){return e===void 0||e===1}function ny({scale:e,scaleX:t,scaleY:n}){return!ng(e)||!ng(t)||!ng(n)}function pa(e){return ny(e)||fx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fx(e){return AA(e.x)||AA(e.y)}function AA(e){return e&&e!=="0%"}function td(e,t,n){const r=e-n,a=t*r;return n+a}function SA(e,t,n,r,a){return a!==void 0&&(e=td(e,a,r)),td(e,n,r)+t}function iy(e,t=0,n=1,r,a){e.min=SA(e.min,t,n,r,a),e.max=SA(e.max,t,n,r,a)}function dx(e,{x:t,y:n}){iy(e.x,t.translate,t.scale,t.originPoint),iy(e.y,n.translate,n.scale,n.originPoint)}const wA=.999999999999,RA=1.0000000000001;function G3(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Vo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,dx(e,c)),r&&pa(l.latestValues)&&Vo(e,l.latestValues))}t.x<RA&&t.x>wA&&(t.x=1),t.y<RA&&t.y>wA&&(t.y=1)}function Po(e,t){e.min=e.min+t,e.max=e.max+t}function xA(e,t,n,r,a=.5){const l=le(e.min,e.max,a);iy(e,t,n,l,r)}function Vo(e,t){xA(e.x,t.x,t.scaleX,t.scale,t.originX),xA(e.y,t.y,t.scaleY,t.scale,t.originY)}function mx(e,t){return ux(U3(e.getBoundingClientRect(),t))}function K3(e,t,n){const r=mx(e,n),{scroll:a}=t;return a&&(Po(r.x,a.offset.x),Po(r.y,a.offset.y)),r}const px=({current:e})=>e?e.ownerDocument.defaultView:null,CA=(e,t)=>Math.abs(e-t);function Y3(e,t){const n=CA(e.x,t.x),r=CA(e.y,t.y);return Math.sqrt(n**2+r**2)}class gx{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=rg(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=Y3(_.offset,{x:0,y:0})>=3;if(!b&&!w)return;const{point:O}=_,{timestamp:L}=$e;this.history.push({...O,timestamp:L});const{onStart:M,onMove:K}=this.handlers;b||(M&&M(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,_)},this.handlePointerMove=(_,b)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=ig(b,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(_,b)=>{this.end();const{onEnd:w,onSessionEnd:O,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=rg(_.type==="pointercancel"?this.lastMoveEventInfo:ig(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(_,M),O&&O(_,M)},!Iv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=xc(t),f=ig(c,this.transformPagePoint),{point:m}=f,{timestamp:p}=$e;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(t,rg(f,this.history)),this.removeListeners=Sc(Bu(this.contextWindow,"pointermove",this.handlePointerMove),Bu(this.contextWindow,"pointerup",this.handlePointerUp),Bu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ts(this.updatePoint)}}function ig(e,t){return t?{point:t(e.point)}:e}function IA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rg({point:e},t){return{point:e,delta:IA(e,yx(t)),offset:IA(e,Q3(t)),velocity:$3(t,.1)}}function Q3(e){return e[0]}function yx(e){return e[e.length-1]}function $3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=yx(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Ii(t)));)n--;if(!r)return{x:0,y:0};const l=Di(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function X3(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?le(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?le(n,e,r.max):Math.min(e,n)),e}function DA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function W3(e,{top:t,left:n,bottom:r,right:a}){return{x:DA(e.x,n,a),y:DA(e.y,t,r)}}function NA(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Z3(e,t){return{x:NA(e.x,t.x),y:NA(e.y,t.y)}}function J3(e,t){let n=.5;const r=mn(e),a=mn(t);return a>r?n=ec(t.min,t.max-r,e.min):r>a&&(n=ec(e.min,e.max-a,t.min)),gr(0,1,n)}function t9(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ry=.35;function e9(e=ry){return e===!1?e=0:e===!0&&(e=ry),{x:OA(e,"left","right"),y:OA(e,"top","bottom")}}function OA(e,t,n){return{min:PA(e,t),max:PA(e,n)}}function PA(e,t){return typeof e=="number"?e:e[t]||0}const n9=new WeakMap;class i9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xc(y).point)},l=(y,_)=>{const{drag:b,dragPropagation:w,onDragStart:O}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TU(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(M=>{let K=this.getAxisMotionValue(M).get()||0;if(Ni.test(K)){const{projection:Z}=this.visualElement;if(Z&&Z.layout){const G=Z.layout.layoutBox[M];G&&(K=mn(G)*(parseFloat(K)/100))}}this.originPoint[M]=K}),O&&ue.postRender(()=>O(y,_)),ty(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:O,onDrag:L}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:M}=_;if(w&&this.currentDirection===null){this.currentDirection=r9(M),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",_.point,M),this.updateAxis("y",_.point,M),this.visualElement.render(),L&&L(y,_)},f=(y,_)=>this.stop(y,_),m=()=>Kn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new gx(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:px(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ue.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!uf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=X3(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&No(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=W3(r.layoutBox,t):this.constraints=!1,this.elastic=e9(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=t9(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!No(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=K3(r,a.root,this.visualElement.getTransformPagePoint());let c=Z3(a.layout.layoutBox,l);if(n){const f=n(L3(c));this.hasMutatedConstraints=!!f,f&&(c=ux(f))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Kn(y=>{if(!uf(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,w=a?40:1e7,O={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,O)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ty(this.visualElement,t),r.start(Uv(t,r,0,n,this.visualElement,!1))}stopAnimation(){Kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kn(n=>{const{drag:r}=this.getProps();if(!uf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(t[n]-le(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!No(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Kn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=J3({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(c=>{if(!uf(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(le(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;n9.set(this.visualElement,this);const t=this.visualElement.current,n=Bu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();No(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ue.read(r);const c=lc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Kn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=ry,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function uf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function r9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class s9 extends Cs{constructor(t){super(t),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new i9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const VA=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class a9 extends Cs{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(t){this.session=new gx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:px(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:VA(t),onStart:VA(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&ue.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Bu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(At.test(e))e=parseFloat(e);else return e;const n=MA(e,t.target.x),r=MA(e,t.target.y);return`${n}% ${r}%`}},o9={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Es.parse(e);if(a.length>5)return r;const l=Es.createTransformer(e),c=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const p=le(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class l9 extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;KU(u9),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Sf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ue.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Cv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vx(e){const[t,n]=iR(),r=j.useContext(av);return D.jsx(l9,{...e,layoutGroup:r,switchLayoutGroup:j.useContext(XR),isPresent:t,safeToRemove:n})}const u9={borderRadius:{...bu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bu,borderTopRightRadius:bu,borderBottomLeftRadius:bu,borderBottomRightRadius:bu,boxShadow:o9};function c9(e,t,n){const r=on(e)?e:rc(e);return r.start(Uv("",r,t,n)),r.animation}function h9(e){return e instanceof SVGElement&&e.tagName!=="svg"}const f9=(e,t)=>e.depth-t.depth;class d9{constructor(){this.children=[],this.isDirty=!1}add(t){cv(this.children,t),this.isDirty=!0}remove(t){hv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(f9),this.isDirty=!1,this.children.forEach(t)}}function m9(e,t){const n=En.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(Ts(r),e(l-t))};return ue.setup(r,!0),()=>Ts(r)}const _x=["TopLeft","TopRight","BottomLeft","BottomRight"],p9=_x.length,kA=e=>typeof e=="string"?parseFloat(e):e,LA=e=>typeof e=="number"||At.test(e);function g9(e,t,n,r,a,l){a?(e.opacity=le(0,n.opacity??1,y9(r)),e.opacityExit=le(t.opacity??1,0,v9(r))):l&&(e.opacity=le(t.opacity??1,n.opacity??1,r));for(let c=0;c<p9;c++){const f=`border${_x[c]}Radius`;let m=UA(t,f),p=UA(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||LA(m)===LA(p)?(e[f]=Math.max(le(kA(m),kA(p),r),0),(Ni.test(p)||Ni.test(m))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=le(t.rotate||0,n.rotate||0,r))}function UA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const y9=Tx(0,.5,dR),v9=Tx(.5,.95,Xn);function Tx(e,t,n){return r=>r<e?0:r>t?1:n(ec(e,t,r))}function jA(e,t){e.min=t.min,e.max=t.max}function Gn(e,t){jA(e.x,t.x),jA(e.y,t.y)}function BA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function zA(e,t,n,r,a){return e-=t,e=td(e,1/n,r),a!==void 0&&(e=td(e,1/a,r)),e}function _9(e,t=0,n=1,r=.5,a,l=e,c=e){if(Ni.test(t)&&(t=parseFloat(t),t=le(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=le(l.min,l.max,r);e===l&&(f-=t),e.min=zA(e.min,t,n,f,a),e.max=zA(e.max,t,n,f,a)}function FA(e,t,[n,r,a],l,c){_9(e,t[n],t[r],t[a],t.scale,l,c)}const T9=["x","scaleX","originX"],E9=["y","scaleY","originY"];function qA(e,t,n,r){FA(e.x,t,T9,n?n.x:void 0,r?r.x:void 0),FA(e.y,t,E9,n?n.y:void 0,r?r.y:void 0)}function HA(e){return e.translate===0&&e.scale===1}function Ex(e){return HA(e.x)&&HA(e.y)}function GA(e,t){return e.min===t.min&&e.max===t.max}function b9(e,t){return GA(e.x,t.x)&&GA(e.y,t.y)}function KA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bx(e,t){return KA(e.x,t.x)&&KA(e.y,t.y)}function YA(e){return mn(e.x)/mn(e.y)}function QA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class A9{constructor(){this.members=[]}add(t){cv(this.members,t),t.scheduleRender()}remove(t){if(hv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function S9(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:w,skewY:O}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),b&&(r+=`rotateY(${b}deg) `),w&&(r+=`skewX(${w}deg) `),O&&(r+=`skewY(${O}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const sg=["","X","Y","Z"],w9={visibility:"hidden"},$A=1e3;let R9=0;function ag(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ax(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=sx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ax(r)}function Sx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=t==null?void 0:t()){this.id=R9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(I9),this.nodes.forEach(V9),this.nodes.forEach(M9),this.nodes.forEach(D9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new d9)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new mv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=h9(c),this.instance=c;const{layoutId:m,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(p||m)&&(this.isLayoutDirty=!0),e){let _;const b=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=m9(b,250),Sf.hasAnimatedSinceResize&&(Sf.hasAnimatedSinceResize=!1,this.nodes.forEach(WA))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||y.getDefaultTransition()||B9,{onLayoutAnimationStart:M,onLayoutAnimationComplete:K}=y.getProps(),Z=!this.targetLayout||!bx(this.targetLayout,O),G=!b&&w;if(this.options.layoutRoot||this.resumeFrom||G||b&&(Z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,G);const at={...Rv(L,"layout"),onPlay:M,onComplete:K};(y.shouldReduceMotion||this.options.layoutRoot)&&(at.delay=0,at.type=!1),this.startAnimation(at)}else b||WA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ax(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XA);return}this.isUpdating||this.nodes.forEach(O9),this.isUpdating=!1,this.nodes.forEach(P9),this.nodes.forEach(x9),this.nodes.forEach(C9),this.clearAllSnapshots();const f=En.now();$e.delta=gr(0,1e3/60,f-$e.timestamp),$e.timestamp=f,$e.isProcessing=!0,Wp.update.process($e),Wp.preRender.process($e),Wp.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N9),this.sharedNodes.forEach(L9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Ex(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&(f||pa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),z9(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return ve();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(F9))){const{scroll:y}=this.root;y&&(Po(f.x,y.offset.x),Po(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=ve();if(Gn(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:b}=y;y!==this.root&&_&&b.layoutScroll&&(_.wasRoot&&Gn(f,c),Po(f.x,_.offset.x),Po(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=ve();Gn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Vo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),pa(y.latestValues)&&Vo(m,y.latestValues)}return pa(this.latestValues)&&Vo(m,this.latestValues),m}removeTransform(c){const f=ve();Gn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!pa(p.latestValues))continue;ny(p.latestValues)&&p.updateSnapshot();const y=ve(),_=p.measurePageBox();Gn(y,_),qA(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return pa(this.latestValues)&&qA(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=$e.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Fu(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),H3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),dx(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Fu(this.relativeTargetOrigin,this.target,w.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ny(this.parent.latestValues)||fx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var O;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(O=this.parent)!=null&&O.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Gn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;G3(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ve());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BA(this.prevProjectionDelta.x,this.projectionDelta.x),BA(this.prevProjectionDelta.y,this.projectionDelta.y)),zu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!QA(this.projectionDelta.x,this.prevProjectionDelta.x)||!QA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oo(),this.projectionDelta=Oo(),this.projectionDeltaWithTransform=Oo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Oo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=ve(),w=m?m.source:void 0,O=this.layout?this.layout.source:void 0,L=w!==O,M=this.getStack(),K=!M||M.members.length<=1,Z=!!(L&&!K&&this.options.crossfade===!0&&!this.path.some(j9));this.animationProgress=0;let G;this.mixTargetDelta=at=>{const W=at/1e3;ZA(_.x,c.x,W),ZA(_.y,c.y,W),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),U9(this.relativeTarget,this.relativeTargetOrigin,b,W),G&&b9(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=ve()),Gn(G,this.relativeTarget)),L&&(this.animationValues=y,g9(y,p,this.latestValues,W,Z,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{Sf.hasAnimatedSinceResize=!0,this.currentAnimation=c9(0,$A,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($A),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&wx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ve();const _=mn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=mn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}Gn(f,m),Vo(f,y),zu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new A9),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&ag("z",c,p,this.animationValues);for(let y=0;y<sg.length;y++)ag(`rotate${sg[y]}`,c,p,this.animationValues),ag(`skew${sg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return w9;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Af(c==null?void 0:c.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Af(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(w.transform=m?m({},""):"none",this.hasProjected=!1),w}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=S9(this.projectionDeltaWithTransform,this.treeScale,y),m&&(f.transform=m(y,f.transform));const{x:_,y:b}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${b.origin*100}% 0`,p.animationValues?f.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in ac){if(y[w]===void 0)continue;const{correct:O,applyTo:L,isCSSVariable:M}=ac[w],K=f.transform==="none"?y[w]:O(y[w],p);if(L){const Z=L.length;for(let G=0;G<Z;G++)f[L[G]]=K}else M?this.options.visualElement.renderState.vars[w]=K:f[w]=K}return this.options.layoutId&&(f.pointerEvents=p===this?Af(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(XA),this.root.sharedNodes.clear()}}}function x9(e){e.updateLayout()}function C9(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Kn(_=>{const b=c?t.measuredBox[_]:t.layoutBox[_],w=mn(b);b.min=r[_].min,b.max=b.min+w}):wx(l,t.layoutBox,r)&&Kn(_=>{const b=c?t.measuredBox[_]:t.layoutBox[_],w=mn(r[_]);b.max=b.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+w)});const f=Oo();zu(f,r,t.layoutBox);const m=Oo();c?zu(m,e.applyTransform(a,!0),t.measuredBox):zu(m,r,t.layoutBox);const p=!Ex(f);let y=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:b,layout:w}=_;if(b&&w){const O=ve();Fu(O,t.layoutBox,b.layoutBox);const L=ve();Fu(L,r,w.layoutBox),bx(O,L)||(y=!0),_.options.layoutRoot&&(e.relativeTarget=L,e.relativeTargetOrigin=O,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function I9(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function D9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function N9(e){e.clearSnapshot()}function XA(e){e.clearMeasurements()}function O9(e){e.isLayoutDirty=!1}function P9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function WA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function V9(e){e.resolveTargetDelta()}function M9(e){e.calcProjection()}function k9(e){e.resetSkewAndRotation()}function L9(e){e.removeLeadSnapshot()}function ZA(e,t,n){e.translate=le(t.translate,0,n),e.scale=le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function JA(e,t,n,r){e.min=le(t.min,n.min,r),e.max=le(t.max,n.max,r)}function U9(e,t,n,r){JA(e.x,t.x,n.x,r),JA(e.y,t.y,n.y,r)}function j9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const B9={duration:.45,ease:[.4,0,.1,1]},tS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),eS=tS("applewebkit/")&&!tS("chrome/")?Math.round:Xn;function nS(e){e.min=eS(e.min),e.max=eS(e.max)}function z9(e){nS(e.x),nS(e.y)}function wx(e,t,n){return e==="position"||e==="preserve-aspect"&&!q3(YA(t),YA(n),.2)}function F9(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const q9=Sx({attachResizeListener:(e,t)=>lc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),og={current:void 0},Rx=Sx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!og.current){const e=new q9({});e.mount(window),e.setOptions({layoutScroll:!0}),og.current=e}return og.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),H9={pan:{Feature:a9},drag:{Feature:s9,ProjectionNode:Rx,MeasureLayout:vx}};function iS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&ue.postRender(()=>l(t,xc(t)))}class G9 extends Cs{mount(){const{current:t}=this.node;t&&(this.unmount=EU(t,(n,r)=>(iS(this.node,r,"Start"),a=>iS(this.node,a,"End"))))}unmount(){}}class K9 extends Cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sc(lc(this.node.current,"focus",()=>this.onFocus()),lc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rS(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&ue.postRender(()=>l(t,xc(t)))}class Y9 extends Cs{mount(){const{current:t}=this.node;t&&(this.unmount=wU(t,(n,r)=>(rS(this.node,r,"Start"),(a,{success:l})=>rS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sy=new WeakMap,lg=new WeakMap,Q9=e=>{const t=sy.get(e.target);t&&t(e)},$9=e=>{e.forEach(Q9)};function X9({root:e,...t}){const n=e||document;lg.has(n)||lg.set(n,{});const r=lg.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver($9,{root:e,...t})),r[a]}function W9(e,t,n){const r=X9(t);return sy.set(e,n),r.observe(e),()=>{sy.delete(e),r.unobserve(e)}}const Z9={some:0,all:1};class J9 extends Cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Z9[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(m)};return W9(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(tj(t,n))&&this.startObserver()}unmount(){}}function tj({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ej={inView:{Feature:J9},tap:{Feature:Y9},focus:{Feature:K9},hover:{Feature:G9}},nj={layout:{ProjectionNode:Rx,MeasureLayout:vx}},ay={current:null},xx={current:!1};function ij(){if(xx.current=!0,!!lv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ay.current=e.matches;e.addListener(t),t()}else ay.current=!1}const rj=new WeakMap;function sj(e,t,n){for(const r in t){const a=t[r],l=n[r];if(on(a))e.addValue(r,a);else if(on(l))e.addValue(r,rc(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,rc(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const sS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aj{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=En.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ue.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Nd(n),this.isVariantNode=QR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const w=_[b];m[b]!==void 0&&on(w)&&w.set(m[b],!1)}}mount(t){this.current=t,rj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),xx.current||ij(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ay.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),this.projection=void 0,Ts(this.notifyUpdate),Ts(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=cl.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xo){const n=Xo[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sS.length;r++){const a=sS[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=sj(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=rc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(rR(r)||sR(r))?r=parseFloat(r):!IU(r)&&Es.test(n)&&(r=zR(t,n)),this.setBaseTarget(t,on(r)?r.get():r)),on(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=kv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!on(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new mv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Cx extends aj{constructor(){super(...arguments),this.KeyframeResolver=vU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;on(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ix(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}function oj(e){return window.getComputedStyle(e)}class lj extends Cx{constructor(){super(...arguments),this.type="html",this.renderInstance=Ix}readValueFromInstance(t,n){if(cl.has(n))return LL(t,n);{const r=oj(t),a=(yv(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return mx(t,n)}build(t,n,r){Pv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Lv(t,n,r)}}const Dx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uj(e,t,n,r){Ix(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Dx.has(a)?a:Ov(a),t.attrs[a])}class cj extends Cx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(cl.has(n)){const r=BR(n);return r&&r.default||0}return n=Dx.has(n)?n:Ov(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return rx(t,n,r)}build(t,n,r){tx(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,a){uj(t,n,r,a)}mount(t){this.isSVGTag=nx(t.tagName),super.mount(t)}}const hj=(e,t)=>Mv(e)?new cj(t):new lj(t,{allowProjection:e!==j.Fragment}),fj=u3({...M3,...ej,...H9,...nj},hj),Pe=VU(fj);var Nx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aS=ur.createContext&&ur.createContext(Nx),dj=["attr","size","title"];function mj(e,t){if(e==null)return{};var n=pj(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pj(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ed.apply(this,arguments)}function oS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(n),!0).forEach(function(r){gj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gj(e,t,n){return t=yj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yj(e){var t=vj(e,"string");return typeof t=="symbol"?t:t+""}function vj(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ox(e){return e&&e.map((t,n)=>ur.createElement(t.tag,nd({key:n},t.attr),Ox(t.child)))}function qe(e){return t=>ur.createElement(_j,ed({attr:nd({},e.attr)},t),Ox(e.child))}function _j(e){var t=n=>{var{attr:r,size:a,title:l}=e,c=mj(e,dj),f=a||n.size||"1em",m;return n.className&&(m=n.className),e.className&&(m=(m?m+" ":"")+e.className),ur.createElement("svg",ed({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:m,style:nd(nd({color:e.color||n.color},n.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&ur.createElement("title",null,l),e.children)};return aS!==void 0?ur.createElement(aS.Consumer,null,n=>t(n)):t(Nx)}function Tj(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Px(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function Ej(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Od(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"},child:[]}]})(e)}function bj(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function Aj(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Sj(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Vx(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function wj(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function lS(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Mx(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Rj(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function kx(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function uS(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function xj(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Cj(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function qu(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Lx(e){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const Wo=({children:e,type:t="button",variant:n="primary",fullWidth:r=!1,loading:a=!1,disabled:l=!1,onClick:c,className:f=""})=>{const m="btn",p={primary:"btn-primary",secondary:"btn-secondary"},y=r?"w-full":"";return D.jsx(Pe.button,{type:t,whileTap:{scale:.98},whileHover:{scale:1.02},className:`${m} ${p[n]} ${y} ${f}`,disabled:l||a,onClick:c,children:a?D.jsxs("div",{className:"flex items-center justify-center",children:[D.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-white rounded-full animate-spin mr-2"}),D.jsx("span",{children:"Loading..."})]}):e})},jo=({id:e,type:t="text",label:n,placeholder:r,value:a,onChange:l,error:c,required:f=!1,autoComplete:m="off",...p})=>{const[y,_]=j.useState(!1),b=()=>{_(!y)};return D.jsxs("div",{className:"form-group",children:[n&&D.jsx("label",{htmlFor:e,className:"form-label",children:n}),D.jsxs("div",{className:"relative",children:[D.jsx("input",{id:e,type:t==="password"&&y?"text":t,className:`input-field ${c?"border-error-400 focus:ring-error-400":""}`,placeholder:r,value:a,onChange:l,required:f,autoComplete:m,...p}),t==="password"&&D.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300 focus:outline-none",onClick:b,children:y?D.jsx(Aj,{size:18}):D.jsx(Sj,{size:18})})]}),c&&D.jsx("p",{className:"form-error",children:c})]})},Ij={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,staggerChildren:.1}}},da={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}},Ux=({type:e,onSubmit:t,loading:n,email:r,setEmail:a,password:l,setPassword:c,displayName:f,setDisplayName:m,errors:p})=>{const y=e==="login",_=y?"Welcome Back":"Create Account",b=y?"Sign in to access your contacts":"Register to start saving your contacts securely",w=y?"Sign In":"Sign Up",O=y?"Don't have an account? ":"Already have an account? ",L=y?{to:"/register",text:"Sign Up"}:{to:"/login",text:"Sign In"};return D.jsxs(Pe.form,{onSubmit:t,className:"w-full max-w-md rounded-lg p-8 bg-gray-900 border border-gray-800 shadow-md mx-auto",variants:Ij,initial:"hidden",animate:"visible",children:[D.jsxs(Pe.div,{className:" mb-8 text-center",variants:da,children:[D.jsx("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent",children:_}),D.jsx("p",{className:"text-gray-400",children:b})]}),!y&&D.jsx(Pe.div,{variants:da,children:D.jsx(jo,{id:"displayName",type:"text",label:"Username",placeholder:"Chose a username",value:f,onChange:M=>m(M.target.value),error:p==null?void 0:p.displayName,required:!0,icon:D.jsx(qu,{}),autoComplete:"name"})}),D.jsx(Pe.div,{variants:da,children:D.jsx(jo,{id:"email",type:"email",label:"Email Address",placeholder:"Enter your email",value:r,onChange:M=>a(M.target.value),error:p==null?void 0:p.email,required:!0,icon:D.jsx(Mx,{}),autoComplete:y?"email":"new-email"})}),D.jsx(Pe.div,{variants:da,children:D.jsx(jo,{id:"password",type:"password",label:"Password",placeholder:y?"Enter your password":"Create a password",value:l,onChange:M=>c(M.target.value),error:p==null?void 0:p.password,required:!0,icon:D.jsx(wj,{}),autoComplete:y?"current-password":"new-password"})}),y&&D.jsx(Pe.div,{className:"flex justify-end mb-6",variants:da,children:D.jsx(Rf,{to:"/forgot-password",className:"text-sm text-primary-400 transition-colors duration-200",children:"Forgot Password?"})}),D.jsx(Pe.div,{className:"mb-6",variants:da,children:D.jsx(Wo,{type:"submit",variant:"primary",fullWidth:!0,loading:n,children:w})}),D.jsx(Pe.div,{className:"text-center text-gray-400",variants:da,children:D.jsxs("p",{children:[O,D.jsx(Rf,{to:L.to,className:"link",children:L.text})]})})]})},Dj=()=>{const[e,t]=j.useState(""),[n,r]=j.useState(""),[a,l]=j.useState(!1),[c,f]=j.useState({}),{login:m,setError:p,resetError:y}=ol(),_=cc(),b=()=>{const O={};let L=!0;return e.trim()||(Dt.error("Email is required"),O.email="Email is required",L=!1),n||(Dt.error("Password is required"),O.password="Password is required",L=!1),f(O),L},w=async O=>{if(O.preventDefault(),y(),!!b()){l(!0);try{await m(e,n),Dt.success("Welcome back!"),_("/dashboard")}catch(L){console.error("Login error:",L);let M="Failed to log in";L.code==="auth/user-not-found"||L.code==="auth/wrong-password"||L.code==="auth/invalid-credential"?(M="Invalid email or password",Dt.error("Invalid email or password"),f({email:" ",password:" "})):L.code==="auth/too-many-requests"?(M="Too many attempts. Please try again later",Dt.error("Too many attempts. Please try again later")):L.code==="auth/network-request-failed"?(M="Network error. Please check your connection",Dt.error("Network error. Please check your connection")):Dt.error("An unexpected error occurred"),p(M)}finally{l(!1)}}};return D.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-12",children:[D.jsxs("div",{className:"flex items-center mb-8 transform transition-all duration-300 hover:scale-105",children:[D.jsx(Od,{className:"text-primary-400 mr-2 text-4xl"}),D.jsx("h1",{className:"text-2xl font-bold text-white",children:"Cloud Contact Saver"})]}),D.jsx(Ux,{type:"login",onSubmit:w,loading:a,email:e,setEmail:t,password:n,setPassword:r,errors:c})]})},Nj=()=>{const[e,t]=j.useState(""),[n,r]=j.useState(""),[a,l]=j.useState(""),[c,f]=j.useState(!1),[m,p]=j.useState({}),{signup:y,setError:_,resetError:b}=ol(),w=cc(),O=async(Z,G)=>{const at=Tf(ga,"users"),W=$f(at,Lu("email","==",Z.toLowerCase()));if(!(await zg(W)).empty)throw new Error("email-exists");const N=$f(at,Lu("displayName","==",G.trim()));if(!(await zg(N)).empty)throw new Error("username-exists")},L=()=>{const Z={};let G=!0;return e.trim()||(Dt.error("Name is required"),Z.displayName="Name is required",G=!1),n.trim()?/\S+@\S+\.\S+/.test(n)||(Dt.error("Please enter a valid email address"),Z.email="Email is invalid",G=!1):(Dt.error("Email is required"),Z.email="Email is required",G=!1),a?a.length<6&&(Dt.error("Password must be at least 6 characters"),Z.password="Password must be at least 6 characters",G=!1):(Dt.error("Password is required"),Z.password="Password is required",G=!1),p(Z),G},M=async Z=>{const G=Yf(ga,"users",Z.uid),at={userId:Z.uid,displayName:Z.displayName,email:Z.email.toLowerCase(),createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString(),contacts:[],settings:{theme:"dark",notifications:!0}};try{await A4(G,at)}catch(W){throw console.error("Error creating user document:",W),W}},K=async Z=>{if(Z.preventDefault(),b(),!!L()){f(!0);try{await O(n,e);const G=await y(n,a,e);await M(G.user),Dt.success("Welcome to Cloud Contact Saver!"),w("/dashboard")}catch(G){console.error("Registration error:",G);let at="Failed to create an account";G.message==="email-exists"?(at="This email is already registered",Dt.error("This email is already registered"),p(W=>({...W,email:"Email already in use"}))):G.message==="username-exists"?(at="This username is already taken",Dt.error("This username is already taken"),p(W=>({...W,displayName:"Username already taken"}))):G.code==="auth/email-already-in-use"?(at="This email is already registered",Dt.error("This email is already registered"),p(W=>({...W,email:"Email already in use"}))):G.code==="auth/invalid-email"?(at="Please enter a valid email address",Dt.error("Please enter a valid email address"),p(W=>({...W,email:"Invalid email format"}))):G.code==="auth/weak-password"?(at="Password is too weak",Dt.error("Please choose a stronger password"),p(W=>({...W,password:"Password is too weak"}))):G.code==="auth/network-request-failed"?(at="Network error. Please check your connection",Dt.error("Network error. Please check your connection")):Dt.error("An unexpected error occurred"),_(at)}finally{f(!1)}}};return D.jsx("main",{className:"mx-auto px-20 py-6 space-y-6 pb-20 pt-20 md:pb-6",children:D.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-12",children:[D.jsxs("div",{className:"flex items-center mb-8 transform transition-all duration-300 hover:scale-105",children:[D.jsx(Od,{className:"text-primary-400 mr-2 text-4xl"}),D.jsx("h1",{className:"text-2xl font-bold text-white",children:"Cloud Contact Saver"})]}),D.jsx(Ux,{type:"register",onSubmit:K,loading:c,email:n,setEmail:r,password:a,setPassword:l,displayName:e,setDisplayName:t,errors:m})]})})},Oj=()=>{const[e,t]=j.useState(""),[n,r]=j.useState(!1),[a,l]=j.useState({}),{resetPassword:c,resetError:f}=ol(),m=()=>{const y={};let _=!0;return e.trim()?/\S+@\S+\.\S+/.test(e)||(Dt.error("Please enter a valid email address"),y.email="Email is invalid",_=!1):(Dt.error("Email is required"),y.email="Email is required",_=!1),l(y),_},p=async y=>{if(y.preventDefault(),f(),!!m()){r(!0);try{await c(e),Dt.success("Password reset link sent! Check your email"),t("")}catch(_){console.error("Password reset error:",_);let b="Failed to reset password";_.code==="auth/user-not-found"?(b="No account found with this email",Dt.error("No account found with this email")):_.code==="auth/invalid-email"?(b="Please enter a valid email address",Dt.error("Please enter a valid email address")):_.code==="auth/too-many-requests"?(b="Too many attempts. Please try again later",Dt.error("Too many attempts. Please try again later")):_.code==="auth/network-request-failed"?(b="Network error. Please check your connection",Dt.error("Network error. Please check your connection")):Dt.error("An unexpected error occurred"),l({email:b})}finally{r(!1)}}};return D.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-12",children:[D.jsxs("div",{className:"flex items-center mb-8 transform transition-all duration-300 hover:scale-105",children:[D.jsx(Od,{className:"text-primary-400 mr-2 text-4xl"}),D.jsx("h1",{className:"text-2xl font-bold text-white",children:"Cloud Contact Saver"})]}),D.jsxs("form",{onSubmit:p,className:"w-full max-w-md transform transition-all duration-300 ease-in-out bg-gray-900 backdrop-blur-sm border border-gray-800 p-8 rounded-lg shadow-xl",children:[D.jsxs("div",{className:"mb-8 text-center",children:[D.jsx("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent",children:"Reset Password"}),D.jsx("p",{className:"text-gray-400",children:"Enter your email address and we'll send you a link to reset your password"})]}),D.jsx(jo,{id:"email",type:"email",label:"Email Address",placeholder:"Enter your email",value:e,onChange:y=>t(y.target.value),error:a==null?void 0:a.email,required:!0,icon:D.jsx(Mx,{}),autoComplete:"email"}),D.jsx("div",{className:"mb-6",children:D.jsx(Wo,{type:"submit",variant:"primary",fullWidth:!0,loading:n,children:"Send Reset Link"})}),D.jsx("div",{className:"text-center",children:D.jsxs(Rf,{to:"/login",className:"inline-flex items-center text-gray-400 hover:text-primary-400 transition-colors duration-200",children:[D.jsx(Px,{className:"mr-2"}),"Back to Login"]})})]})]})},Pj=({isOpen:e,onClose:t,onSave:n,loading:r,contact:a=null})=>{const[l,c]=j.useState({name:"",phone:"",notes:""});j.useEffect(()=>{c(a||{name:"",phone:"",notes:""})},[a]);const f=m=>{m.preventDefault(),n(l),a||c({name:"",phone:"",notes:""})};return D.jsx(Ac,{children:e&&D.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:D.jsxs(Pe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-xl w-full max-w-md border border-gray-700",children:[D.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-700",children:[D.jsx("h2",{className:"text-xl font-semibold bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent",children:a?"Edit Contact":"Add New Contact"}),D.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors focus:outline-none focus:ring-2 focus:ring-primary-400 rounded-lg p-1",children:D.jsx(Lx,{size:24})})]}),D.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[D.jsx(jo,{id:"name",label:"Name",type:"text",required:!0,value:l.name,onChange:m=>c({...l,name:m.target.value}),placeholder:"Enter contact name",icon:D.jsx(qu,{className:"text-primary-400"})}),D.jsx(jo,{id:"phone",label:"Phone Number",type:"tel",required:!0,value:l.phone,onChange:m=>c({...l,phone:m.target.value}),placeholder:"Enter phone number",icon:D.jsx(kx,{className:"text-primary-400"})}),D.jsxs("div",{className:"space-y-1",children:[D.jsxs("label",{className:"form-label flex items-center gap-2",htmlFor:"notes",children:[D.jsx(Vx,{className:"text-primary-400"}),"Notes (Optional)"]}),D.jsx("textarea",{id:"notes",value:l.notes,onChange:m=>c({...l,notes:m.target.value}),placeholder:"Add any additional notes",className:"input-field min-h-[100px] resize-y"})]}),D.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[D.jsx(Wo,{type:"button",variant:"secondary",onClick:t,className:"px-6",children:"Cancel"}),D.jsx(Wo,{type:"submit",variant:"primary",loading:r,className:"px-6",children:a?"Update Contact":"Save Contact"})]})]})]})})})},Vj=e=>{const t=e.split(" ");return t.length>1?`${t[0][0]}${t[t.length-1][0]}`.toUpperCase():t[0][0].toUpperCase()},Mj=e=>{const t=["bg-primary-400","bg-accent-400","bg-success-400","bg-warning-400","bg-[#4CAF50]","bg-[#9C27B0]","bg-[#FF5722]","bg-[#607D8B]"],n=e.split("").reduce((r,a)=>r+a.charCodeAt(0),0);return t[n%t.length]},kj=({contacts:e,onEdit:t,onDelete:n})=>D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.jsx(Ac,{children:e.map(r=>D.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"group bg-gray-800/80 backdrop-blur-sm rounded-xl border border-gray-700/50 p-4 hover:border-primary-400/50 transition-all duration-300 hover:shadow-lg hover:shadow-primary-400/10",children:D.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[D.jsx("div",{className:`w-12 h-12 rounded-full ${Mj(r.name)} flex items-center justify-center text-white font-semibold text-lg shrink-0`,children:Vj(r.name)}),D.jsxs("div",{className:"flex-1 min-w-0",children:[D.jsxs("div",{className:"flex justify-between items-start",children:[D.jsx("h3",{className:"text-lg font-semibold text-white truncate group-hover:bg-gradient-to-r group-hover:from-primary-400 group-hover:to-accent-400 group-hover:bg-clip-text group-hover:text-transparent transition-all duration-300",children:r.name}),D.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 ml-2 shrink-0",children:[D.jsx("button",{onClick:()=>t(r),className:"p-1.5 rounded-lg text-gray-400 hover:text-primary-400 hover:bg-primary-400/10 transition-colors",children:D.jsx(bj,{size:18})}),D.jsx("button",{onClick:()=>n(r.id),className:"p-1.5 rounded-lg text-gray-400 hover:text-error-400 hover:bg-error-400/10 transition-colors",children:D.jsx(Cj,{size:18})})]})]}),D.jsxs("div",{className:"space-y-2 mt-2",children:[D.jsxs("a",{href:`tel:${r.phone}`,className:"flex items-center text-gray-300 hover:text-primary-400 transition-colors group/item",children:[D.jsx(kx,{className:"mr-2 text-primary-400 group-hover/item:animate-pulse"}),D.jsx("span",{className:"truncate",children:r.phone})]}),r.notes&&D.jsxs("div",{className:"flex items-start gap-2 text-gray-400 text-sm mt-3 pt-3 border-t border-gray-700/50",children:[D.jsx(Vx,{className:"mt-0.5 text-primary-400 shrink-0"}),D.jsx("p",{className:"line-clamp-2",children:r.notes})]})]})]})]})},r.id))})}),Lj=({value:e,onChange:t,options:n})=>{const[r,a]=j.useState(!1),l=f=>{t(f.value),a(!1)},c=n.find(f=>f.value===e);return D.jsxs("div",{className:"relative w-full",children:[D.jsxs("button",{type:"button",onClick:()=>a(!r),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 text-gray-300 hover:border-primary-400/50 transition-all duration-200 min-w-[140px]",children:[D.jsx("span",{className:"flex-1 text-left",children:c==null?void 0:c.label}),D.jsx(Ej,{className:`transition-transform duration-200 ${r?"rotate-180":""}`})]}),D.jsx(Ac,{children:r&&D.jsxs(D.Fragment,{children:[D.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-30",onClick:()=>a(!1)}),D.jsx(Pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-2 right-0 z-40 bg-gray-800 rounded-lg border border-gray-700 shadow-xl min-w-[140px] py-1",children:n.map(f=>D.jsx("button",{onClick:()=>l(f),className:`w-full text-left px-4 py-2 hover:bg-gray-700/50 transition-colors ${e===f.value?"text-primary-400":"text-gray-300"}`,children:f.label},f.value))})]})})]})},Uj=({isOpen:e,onClose:t,onConfirm:n,contactName:r})=>D.jsx(Ac,{children:e&&D.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:D.jsx(Pe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-xl w-full max-w-md border border-gray-700 overflow-hidden",children:D.jsxs("div",{className:"p-6 flex flex-col items-center text-center",children:[D.jsx("div",{className:"w-16 h-16 bg-error-400/10 rounded-full flex items-center justify-center mb-4",children:D.jsx(Tj,{size:32,className:"text-error-400"})}),D.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Delete Contact"}),D.jsxs("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete ",D.jsx("span",{className:"text-white font-medium",children:r}),"? This action cannot be undone."]}),D.jsxs("div",{className:"flex gap-3 w-full",children:[D.jsx(Wo,{variant:"secondary",onClick:t,fullWidth:!0,children:"Cancel"}),D.jsx(Wo,{variant:"primary",onClick:n,fullWidth:!0,className:"!bg-error-400 hover:!bg-error-500",children:"Delete"})]})]})})})}),jj=()=>{var ae;const{currentUser:e,logout:t}=ol(),n=cc(),[r,a]=j.useState(!1),[l,c]=j.useState(!1),[f,m]=j.useState([]),[p,y]=j.useState(!0),[_,b]=j.useState(!1),[w,O]=j.useState(""),[L,M]=j.useState("name"),[K,Z]=j.useState(null),[G,at]=j.useState({isOpen:!1,contact:null});j.useEffect(()=>{const St=Tf(ga,"contacts"),X=$f(St,Lu("userId","==",e.uid),T4(L==="name"?"name":"createdAt",L==="name"?"asc":"desc")),st=x4(X,ht=>{const Vt=ht.docs.map(P=>({id:P.id,...P.data()}));m(Vt),y(!1)},ht=>{console.error("Error fetching contacts:",ht),Dt.error("Failed to load contacts"),y(!1)});return()=>st()},[e.uid,L]);const W=async St=>{const X=Tf(ga,"contacts"),st=$f(X,Lu("userId","==",e.uid),Lu("phone","==",St));return!(await zg(st)).empty},ut=async St=>{b(!0);try{if(await W(St.phone)){Dt.error("A contact with this phone number already exists");return}const st=Tf(ga,"contacts");await R4(st,{...St,userId:e.uid,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),Dt.success("Contact added successfully"),c(!1)}catch(X){console.error("Error adding contact:",X),Dt.error("Failed to add contact")}finally{b(!1)}},N=async St=>{b(!0);try{if(St.phone!==K.phone&&await W(St.phone)){Dt.error("A contact with this phone number already exists");return}const X=Yf(ga,"contacts",K.id);await S4(X,{...St,updatedAt:new Date().toISOString()}),Dt.success("Contact updated successfully"),c(!1),Z(null)}catch(X){console.error("Error updating contact:",X),Dt.error("Failed to update contact")}finally{b(!1)}},R=async()=>{try{await w4(Yf(ga,"contacts",G.contact.id)),Dt.success("Contact deleted successfully"),at({isOpen:!1,contact:null})}catch(St){console.error("Error deleting contact:",St),Dt.error("Failed to delete contact")}},x=St=>{Z(St),c(!0)},V=()=>{c(!1),Z(null)},U=f.filter(St=>St.name.toLowerCase().includes(w.toLowerCase())||St.phone.includes(w)),B=async()=>{try{await t(),Dt.success("Logged out successfully"),n("/login")}catch(St){console.error("Logout error:",St),Dt.error("Failed to log out")}},I=[{value:"name",label:"Sort by name"},{value:"date",label:"Sort by date"}];return D.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950",children:[D.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-gray-900/80 backdrop-blur-sm border-b border-gray-800 z-40",children:[D.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:D.jsxs("div",{className:"flex justify-between items-center h-16",children:[D.jsxs("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[D.jsx(Od,{className:"text-primary-400"}),D.jsx("span",{className:"bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent",children:"Cloud Contact Saver"})]}),D.jsxs("nav",{className:"hidden md:flex items-center gap-2",children:[D.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg text-gray-300 hover:text-white hover:bg-gray-800 transition-all duration-200",children:[D.jsx(qu,{className:"text-primary-400"}),D.jsx("span",{children:(e==null?void 0:e.displayName)||"Profile"})]}),D.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-gray-300 hover:text-white hover:bg-gray-800 transition-all duration-200",children:[D.jsx(lS,{className:"text-primary-400"}),D.jsx("span",{children:"Logout"})]})]}),D.jsx("button",{onClick:()=>a(!r),className:"md:hidden inline-flex items-center justify-center p-2 rounded-lg text-gray-400 hover:text-white hover:bg-gray-800 transition-all duration-200",children:r?D.jsx(Lx,{size:24}):D.jsx(Rj,{size:24})})]})}),D.jsx(Ac,{children:r&&D.jsx(Pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"md:hidden border-b border-gray-800",children:D.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[D.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 rounded-lg text-gray-300 hover:text-white hover:bg-gray-800 transition-all duration-200",children:[D.jsx(qu,{className:"text-primary-400"}),D.jsx("span",{children:(e==null?void 0:e.displayName)||"Profile"})]}),D.jsxs("button",{onClick:B,className:"flex items-center gap-2 w-full px-3 py-2 rounded-lg text-gray-300 hover:text-white hover:bg-gray-800 transition-all duration-200",children:[D.jsx(lS,{className:"text-primary-400"}),D.jsx("span",{children:"Logout"})]})]})})})]}),D.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-12",children:[D.jsx("div",{className:"bg-gray-800/80 backdrop-blur-sm rounded-xl border border-gray-700/50 p-6 mb-8",children:D.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[D.jsxs("div",{children:[D.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Welcome, ",(e==null?void 0:e.displayName)||"User","!"]}),D.jsx("p",{className:"text-gray-400 text-sm",children:e==null?void 0:e.email})]}),D.jsxs("button",{onClick:()=>c(!0),className:"btn-primary flex items-center p-1.5 rounded-xl gap-2 group px-6",children:[D.jsx(uS,{className:"transform transition-all duration-200 group-hover:rotate-90"}),"Add Contact"]})]})}),p?D.jsx("div",{className:"flex items-center justify-center py-12",children:D.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-400"})}):f.length>0?D.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[D.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:[D.jsxs("div",{className:"relative flex-1 w-full",children:[D.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:D.jsx(xj,{className:"text-gray-400"})}),D.jsx("input",{type:"text",placeholder:"Search contacts...",value:w,onChange:St=>O(St.target.value),className:"w-full pl-11 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-300 placeholder-gray-400 focus:outline-none focus:border-primary-400/50 focus:ring-1 focus:ring-primary-400/50 transition-all duration-200"})]}),D.jsx(Lj,{value:L,onChange:M,options:I})]}),D.jsx(kj,{contacts:U,onEdit:x,onDelete:St=>{const X=f.find(st=>st.id===St);at({isOpen:!0,contact:X})}})]}):D.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800/80 backdrop-blur-sm rounded-xl border border-gray-700/50 flex flex-col items-center justify-center py-12 text-center",children:[D.jsx("div",{className:"w-16 h-16 bg-gray-700/50 rounded-full flex items-center justify-center mb-6",children:D.jsx(qu,{size:32,className:"text-primary-400"})}),D.jsx("h3",{className:"text-xl font-semibold mb-3",children:"No contacts yet"}),D.jsx("p",{className:"text-gray-400 mb-8 max-w-md",children:"Your contact list is empty. Add your first contact to get started with Cloud Contact Saver."}),D.jsxs("button",{onClick:()=>c(!0),className:"btn-primary flex items-center gap-2 group px-6",children:[D.jsx(uS,{className:"transform transition-all duration-200 group-hover:rotate-90"}),"Add Your First Contact"]})]})]}),D.jsx(Pj,{isOpen:l,onClose:V,onSave:K?N:ut,loading:_,contact:K}),D.jsx(Uj,{isOpen:G.isOpen,onClose:()=>at({isOpen:!1,contact:null}),onConfirm:R,contactName:(ae=G.contact)==null?void 0:ae.name})]})},Bj=()=>{const{currentUser:e,loading:t}=ol();return t?D.jsx("div",{className:"flex items-center justify-center min-h-screen",children:D.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-400"})}):e?D.jsx(f2,{}):D.jsx(So,{to:"/login"})},zj=()=>D.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-12 text-center",children:D.jsxs("div",{className:"transform transition-all duration-300 hover:scale-105",children:[D.jsx("h1",{className:"text-9xl font-bold text-primary-400",children:"404"}),D.jsxs("div",{className:"mt-4",children:[D.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Page Not Found"}),D.jsx("p",{className:"text-gray-400 mb-8 max-w-md mx-auto",children:"The page you are looking for doesn't exist or has been moved."}),D.jsxs(Rf,{to:"/",className:"btn-primary inline-flex items-center hover:scale-105 transform transition-all duration-200",children:[D.jsx(Px,{className:"mr-2"}),"Back to Home"]})]})]})});function Fj(){const{currentUser:e,loading:t}=ol();return t?D.jsx("div",{className:"flex items-center justify-center min-h-screen",children:D.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-400"})}):D.jsxs(m2,{children:[D.jsx(Wr,{path:"/",element:e?D.jsx(So,{to:"/dashboard"}):D.jsx(So,{to:"/login"})}),D.jsx(Wr,{path:"/login",element:e?D.jsx(So,{to:"/dashboard"}):D.jsx(Dj,{})}),D.jsx(Wr,{path:"/register",element:e?D.jsx(So,{to:"/dashboard"}):D.jsx(Nj,{})}),D.jsx(Wr,{path:"/forgot-password",element:e?D.jsx(So,{to:"/dashboard"}):D.jsx(Oj,{})}),D.jsx(Wr,{element:D.jsx(Bj,{}),children:D.jsx(Wr,{path:"/dashboard",element:D.jsx(jj,{})})}),D.jsx(Wr,{path:"*",element:D.jsx(zj,{})})]})}TI.createRoot(document.getElementById("root")).render(D.jsx(ur.StrictMode,{children:D.jsx(E2,{children:D.jsxs(D4,{children:[D.jsx(Fj,{}),D.jsx(mD,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#1F2937",color:"#F3F4F6",border:"1px solid #374151"}}})]})})}));
